(function(As,Ss){typeof exports=="object"&&typeof module<"u"?Ss(exports):typeof define=="function"&&define.amd?define(["exports"],Ss):(As=typeof globalThis<"u"?globalThis:As||self,Ss(As.jellyfish={}))})(this,function(As){"use strict";var Ss=document.createElement("style");Ss.textContent=`body{margin:0;font-family:Arial,Helvetica,sans-serif}#title{font-family:Nerko One,cursive,sans-serif;font-weight:400;font-style:normal;font-size:3rem;position:absolute;top:.2em;left:.4em;margin:0;color:#e0e0e0}.jellyfish-gui{position:absolute;top:0;right:0;bottom:0;left:0}.jellyfish-plot-container{display:grid;place-items:center;position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.jellyfish-center{position:relative}.jellyfish-plot{position:absolute}.jellyfish-patient-nav{display:flex;justify-content:space-between;align-items:flex-end;position:absolute;--margin: 1.5em;bottom:var(--margin);left:var(--margin);right:var(--margin)}.jellyfish-patient-nav>button{font-family:Nerko One,cursive,sans-serif;font-weight:400;font-style:normal;font-size:1.2rem;padding:.5em .8em;border:none;border-radius:.5em;background-color:#f0f0f0;color:gray;cursor:pointer;border-bottom:1px solid #d0d0d0;display:flex;align-items:center;gap:.4em}.jellyfish-patient-nav>button>svg{height:.7em}.jellyfish-patient-nav>button:hover{background-color:#e8e8e8}.jellyfish-patient-name{font-size:.9rem;color:#000;opacity:.5;background-color:#fff;padding:.1em .2em;border-radius:4px}.jellyfish-gui .lil-gui{--background-color: #f3f3f3;--text-color: #3d3d3d;--title-background-color: #e0e0e0;--title-text-color: #3d3d3d;--widget-color: #e3e3e3;--hover-color: #d8d8d8;--focus-color: #fafafa;--number-color: #0d8eab;--string-color: #738500}.jellyfish-gui .lil-gui.root{position:absolute;right:2em}.jellyfish-error-message{color:#b00;background-color:#f8f8f8;padding:.5em;min-width:50vw}@media print{.lil-gui.root,.jellyfish-patient-nav,#title{display:none}}@font-face{font-family:Nerko One;font-style:normal;font-weight:400;font-display:swap;src:url(data:font/woff2;base64,d09GMgABAAAAAEf4AA0AAAAAorwAAEeiAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGjQbhBoGYACEWhEICoKlQIHhbAuDNAABNgIkA4ZkBCAFhBQHhGQbUX4zEYHuAMhf0ioMRVGqWC8ginrAKNUm/3UCN4aIfdjTI1wSCw7hKBgKwzBYGvnu1S/qiw2BehOEfXXPrYX20oYzITpCY5/k+gC/Nt///yKCuCL6jlaMOziypUoFFUHs6YaFYmLkDBCjtoExo1CswGrshR08Tz8OvnPfB9nEJGaAFUp0yEYy2o/c3emMO/sWddoBO4qtoCFYAr5GcH3z+XJa1b+6BnerVDIPSNYSJFk+8X3tVjLqeV5uOhyX4qv7GtsCKyi0DAHZCjZQlsDA89Vt5ybAYjspo7ecLvQxeMK5r3aP+1cesgYgYZrkAEDYPjtj02SBSX4Q6vbm1dlXsmXSwsDuHjD3OLM5hvKKxmrtVmjZDkmWDIH5YwgMvZvAJzAczGmNbWw7JAzsgeUb09lNWCDIKCnTwf/ZrEyrVgd9PLozMKS7Y3OEQcZBWPWrZ7qqenRqtcb3pOqFvu6jlgyCuQVJyy0tDRxRaKCMWK31nEbLPWNAyAA4wgwhxSDcKHSQHsWGMHIQXuhwQgehY4LQFl0K+o1CwQDG8TH4KrH/PrebdKHWKR6MYCxiAS8V050aBdgPnyEPVTUE8MrAQwNLSGnveff/MfffpbV8Q6tjBFckIqa53h+TY2z5oet0Dj8SJK8AR4IA8GTlJAbCMsgvt2JMrnIg2eFY8oSzfV2uM7ZnhsOJN2JaVEIGWGgANCUNWyqGVYMFFy6JhsyTjoFDyqKvbzYaHRNYzdc5cUf4daFYtbgeqTNlcImBvlv/2WLR09otO6YDYt6ZKRQeW5LPUi4QIJDQlWAkqARZzeDJD0GboGNagmYSYNLKE5RDIoDo6eTRzO8lvvlb2w0v06TaQKUrEuQIJKqpnTYxLWc6egZGJm48mFnEFAnBdXFu2XYsRP2KFExhGqZjBmJSV3kbkhSS9svRedRzzPU6C14xoB4RKAhz2WfEnOsDOsB6bMBGZKJ9+cU8Q+GF2Bv7YF/kR7vbHWGp5wTU5QLhmpmIeh2JKUzDdMzATIfEZpvJHrTcTBPoQD4ipwOYmZ+E+MbfFyBlD1kPbs4+Q0nT0+Jhxe8vp3798RKgrhB9nagexFUyDoCOAZMBBZAFJrFM0kqU8PW84WkE+Pz08KufRJ1IJ4+Vm+V2X5lOo3PSGXSuup46u264boveYJAY5D9/Aj4ds56aYyHSWK4s1al0Dv31KH4AJDrgGyAavt///u772+7xANA9u3s20L2nW92tvbf17p93t4AAeANidAFxAtkViUPEdEBudfj36RXNWqx2WKs11ppnsXV2WG+ODTbaZLO/7bTLFn8gsLBx8YhJSMmoaWg5cOTMhSs37jx4MrPwFyDIfH9a4oTZTuolgl2UaAkSJUmWIVOWbP3kKlaiVJly/Q02RLWhhllgt6X2uOovnY446pgubU654BfL7HXdRaddss9U05wRpt1WZzUaZ4XpZphpW0h8toNx8AkIicgpKKmEcAqS84n9Qnnx5sNXoB7q9NZHX1Y24YaLFCNWnHgpUqVJN0KOPPkKFCpywEgDDFSpSo1RavU0RoWVFvqdn0WWW4VA1J/aAIAbABB3AeII4P8n0HMfyP4OFpCoOaYlKYRJLjGlX0oQ85KIWJ2d0ayJfm4yTVyG5RoEb4zETNOYDLRwU2MRZq9LnabKTOrDoDPYjYsD+KMj3jZG5s6QRNeNoaihsE7WINRYbJwsN/ANRfXMJeqlbzojclEKNTIAjNiu5jRt9JYke3fPr/apPcB+OGlFXLaUigCiTr1xHqkRUk5QCikLANsU9VgUyaTU4GilGvnpNxo0u+uUeKny+VByaiZ41z+0m0H+jlJIESc5NKbVR7S1jknxkRMUWwDwPJSr+sKUPOZxEAPEZq4XPvdV36ccUAopCwDaBVCxMqtknla45MIKWFaJslvf84/4HPZ1/DJ9xAYWQUs+pGaWnQoBJAAamem6tgz1YggsoPW2UnZS2fW2nSzkfSEq+a5drKS7+Xy5nc/Y7dDp/d/bJYZ670mPegFTiChbuINIBme9hQRbjLFRVoisEbgjLBNJlIj/Hu6HT7PJ48tH2iUEeY5pyrYpLVCafCBkP8DeKv5o8qtv5SsLXCx0Z+45QztklkqytjmYLXOAqVPDOyag5znJ7BbiZDXM7jls+M4xHcqw01ZFgy3Z4wL+Y9tsLGGefCtPLTAdcabXRDZoiMmEjC7MEXxeJPnrZ446dCFDwcTZcjaO+HYPzM8mguSaCkBwcRNzFK8la9yByjBpK1byX984R+8IVonc2eBLJ7R1JySMJT7XCBFE0TODH7W68GuHH7xWdFYHt+WhryZdTpAn3mrE6ssE/xWq7AaKp2Z5nGPPL9QpR0E9BUsY53wHUo66hKzdXzJe6mv+AO1cENzTyBPG+dVofxgBeXFzUh4VYJb9RdeAuS5HKplIdlY3WNnVpOLNZqn3a+jwulJU0IULJ3XcX3nAZkbT1P56cG0Du2vKtEDcBixWEXccgJ1wPQ0sU6+nbuzPmhI4x/8YMxFpy4/zbjERis41lQIu+aHt6PdlZ9j7AGxuNYf1GvVguQSoZOmW8RwVTlYlXteYGcxBoqmahctb1zzTnocc5nLkWqjYSd/nZcwU7Tbmx8EMx4RDXf8lJ2aDIq/pl/2ggKNMqF32OUIcUY+JpIb9+nRPhKxbA9vDdP+LrY9TJLTR2x8UkMHOZ+gx/CZsvTs2vfnVUCp8WP1KABdDx+7C2sE2IsMQHJgrVWpZrFvLs/hHC6EN+8hgTX1R9ZTFTKfBvSWH3HW7huP9uekv76nyvRYQAVAhKk33ifOjIhICXOGXSjqsCbILRvNdJ/V++ALiXGn5yiLcgwMXzoKdRLjbwXNQRhZJEeUONNMz0T/vqtZXnMujLARKNjpyAYgCNKBru02yWcGejb3iU0nLH1nRdBQDZHp325h14+4TTT70nrRLtgPioUyTFJp2izF9yim0uZuTYmcMkjfvBXuTZUBNpzdlt9SqfcD6Q/2rAnt+O2sUMlPfl0sqXmGB+htaW8LPs3HwbD0NTAbjZ44rGJgVrSXrAazBMNOqRuia3/o1LJfp1OMbTObQlmQDG0oQYEdzckCSzEWepBhTbLxwV0kjs2eYnz2qtvO/dyppdYCxsO2HEcrEAeDoqAWXQyNFrG1YlsxtgWPadtZJ5z9dXsUwxlIXaic/KjkN14RW5ERr37TCC9yDRb4be+1HHS/bkhDQqJbNioBPrlbdgF99SwWWeRe7zKBmUcu+SQH6tlUjFKzLFVnVg3XSFnOnHNvm7eG2TULT2yaRQmtubL9BCG3XTYoHgw/MSg4goQTwpSiXqFsAWYui4R3AC3A/MHTaNgwqm1Q8rwtse2bgvdZzkzVqUFxC2Xe7uioiu5Rw8sose0rRH1A1Q6IHRcT72y5wDw5GKsC2o6mwiK/lNU7Li8VeH9DrtXOALFMR2aAbEBCdALhx92WWnLX1Q/fsiNtrh6uSc/1j3UWdpnvzjYI96JPEJphFdV6tzbKPuUondZw78zKZH0pZw/twEIUhPnLW55HWedRa6oh5W8GfjcHjWLqJnI5KtLBxcK2p+SrvSNju94gRS/dVPtjnsDnTisNZ4fjW+YWzyhZD01Y6vp9HDm13rZazQqUfy7S59e5VecmkAZz0F/dYPwLcufp0IBuAqM8lY+M5BqBV02JLvIydK1X208SwuWqPQRqd9+qG3rbNstwKV2tRJcWR2y7SzrKr9d21DLtUkRO/gOvE7LJSkZD3YtVNBcvAaqeuDMdwlBX05YYcIxalh+wt0WFLkPlL9y0sdqv5R7H1lrP7eTYdzfAiqFbLJriY3y3A2VkgqtZyh+kk2okTtIrTfAP/UQnfY8vpY6aqruBaF5vwAJHVPaeXkj1w8PJnbFf0k6hBMNHKsiTDfKOiUm6OWDLYaSUUc3S5fAo3U0kir6OvPjckoo08W56WJ0gzcvH5mtVJFmdk3kL7WZQ0DU2vdfG7ATKWcef4IdBVqedrVzkn5JlDHU699IV9xRns9fBR/6ZSBz33F0/vpuyWn0Rtun3S7aLOWVDmu++ibgF9uvgaF8V93DvdEziy1wxiq32yKjg9Q924boL8U1Oy6EdEK0uIYEbiB9iGCqlKn9TdIGv6q27mKi0pdiTcj/VEgt2rmvD/BeOqdHD5RcJDoQ5d7jdRO0L1x9tu+OCvZOy2VEzBWgPbMthqLfPbNvLpG17U7J9Ecqoq/IV++bLJlx605AuLhi9e/FNT3khqw9MnCR92VsO9t+rXRpl/8c38ngubZq3RwLeYlgxtZvd9wjlfE34XPmmDbKkQC784hbVGWAeEPi45FxdUI8fBy7g1IT/jGsp2J+JzAHG78kXCRMw/rzW+Ah7MdBsBIRNFhVkn4gv4oVveiajjjvZrdJyQD0AVT9teI+P5Wy1nB3F0qaDD+YYJIVsr37pKtB7lyrTYh5bJe5fWHvrMPVuHDWNrC9Q1a763C+zx3/6ZRATnomQ6GqmSAxICWjjXUmMQIsiDoJuN6ulk7tchgxpsB54cl/fo3QYrhl6d/fLcQ2d8nnrwGZp52qEgNvAvnywLxrXKytANihoeIf04j0q4PZ/25VaqCYgtWp9cuTl0dUxc7Fw0vva8BNhAZ+CHvTXGoxqYJtDn87EtpR4OweDsaeJSqbv1RvxwnKCMrj8aHm2NjpcATwPOa4V7aP2cPnGboW64tdO4XW3ZetWhjbX1SiUlu3bBNp/C4LzenCb13CpGJecydbbLIM+miGYoDVfZX+NHZUxHicbqPKBOjBZYPCoAxgpKZeAIraWdeNdU56uvyUuAe6q3KzpAwDqu7Qup2gw2PchX2I1GC9zvA6ORYTAkCsa79ECBut8n3HWAzDnrXSc8snTwGEFkPFroUty02BJA9XdvZaZxgwg5nImILUelA7zDw113pFO9VDyHcTC6tkY02585QOPsn275+vPNGHtKCvf81ldxnpMHb/nq3zQ5wFqP04IykCCqEiAxtiXDLQAvBmLgR4seC1KT4g3CUMc7RKoo7s16cES37ZKZDOrr6wiWsJR/38tAP9qyuY57E/ZuGmcsbePe+0YZRWganF4gEV7aAQHY3R1j/OyR/jWKSKwzrznqeSGZLA/GiqlNzdOH820w+GUvsYrpmjvwUmdHNs/m752WNb1ZFJe4p1WAaKwd1staZISOIRNyX/E1GMsrjiSXlZPK7uIfAc8TMN/EXHkf+rgwjakqKja6sWmO3/dVhTPTcfz8vGk5vnWDhg/TrRssvMtr3dxuvMCxZNn8C2bsvy4B2h7Cywks5JbWuwY3TamyulGE2LknJUl0XmzZQCTmlmcMZLq43vBLYJplkjehGAnUGlsCtO9aqtxMJg7ge3u2khQqGOMoaV88E4h1++6NgOmPBhZz3CZ0m+u+l6qxCwaTlVrjm4WCRhu+3+0GtSzZ2QFoul6i7hLO9VwqKJzPjCfrUnY6vprmvRawL5tt0U8FJM+aXhDSvyJwtxe2A4I7Mt/Kjcp10U336eZzx7qakHBiAJIGlgBeW5rOHsjh0MBFM+qmYz2jGd2haY9fXVW4eQvn1U1N+Svrz/n0BnMm+Z+CMXPP7tG8bqTx2xwwtDG2chd16kyqS/ZHVActlpKXLInpRR6Nnns5wAmdULJ1Tiy9q+g9SPYtDvZgTjiD4wLMH8Oz7DPOauPANpbTuAODeZlx5AZnZ94i4dm6PKSWM1fvjkGtI2aAgPXeC4HHVHLjA/YhmXIZ9PxAly0zZXM912DqzL4aXV0S24kWDYd9ulS8eUZRIigcjIM4AimBAcJjQ1b8EpR9HELJJ13a2QGGpanbVQlI3pAO9L5bSN4ePtrUJQW1eFWJLUJmVHQRuzxB7sEBdz+JuujIOmrvUyJ4RTnnLP7Rk2mEuFtiPms4HhZSclalBmy3oip/az7JXeP0wnof0Py2yJuNyyZKHZ7zrMwuZXY863dsm78FJMnW09K7CVQ25dKy6Qiw+smWqSGotmRvAESzQJgQ2Ive9QVJNlNQ/XXAzlXFEQnq5N4aF8XuXQQ8LxAScvlt5Rq5B2Y5WY8L9mSSXikGaXKYGolotueR0WEepdijJGD84SX7CvoTrJL+JaDcxB0sNAJ58xyLxkAxpU7u44nmc+udfgGIWsa/CPxZDfvdkP4PCkSqZFG97rkqQj5nzB35mro8Otq913qxLcdP2x5Sz3cgFt/3bwo840ndGL2oVB+1PokQ/zFB7AeoG5z5BnsQ1fIdXchksCudFX66EKF+O5xr1qNs1NBdR5EseBqrY9noNBzexKoqpEhVgm249dJoooTalafvIsbP2ejXS5/SxcSeGvApfl+bujGqx/EullO+kMvl4N1Gy5WiizYIWdfTnP40PqmUKUeUaYiVVB3v8XHB+xzoQYiRIo+66oYu3VdCl99Penj7EE8iBikp7WFOMDCGU59+ESDjGkFARWB40SZnz9MY3fMs/AH2SWvZmFIlPRhdEctccwmU0/6s5Cbkx6MyQ3gWWWvb6uD+I/sQUJMI5CEdtNlb88oNfUv61yQPRCeIh7VplqEw51Jh/baaMNb3u+k2NcWCPkduXyD2bQmPYdYuiVlgF3nNdkPMYFytWbbKBYTv4mdO8yynUurnXa3ArcgnzS6VbP5Fcs/q5k68YJ2xiAgjMgJP/j5ZozPbHTIg45MPN4y72I9CqhJim8AHpLdXGc9aAzMIBL+Ojiop2KGXk+TVS9PrFtQ0sEjgl3tFtyRxQhwbBSUKLHPrTOpfAmb2wJkfo3hIuCF//Lp8VRYb/jxr7LnILROosi4ZP6hhYTJTpLUS4xZ/kegqU9PAjJiOTTToFPyTpRc75b5sDMT73C0781rxZoGnb7J6tyDxEcNJwIxL5ze8/pfuYLsHk+YYLYPwFN01iw1MmiwiHJn9Ss5zQ4WTe1XoEp36VOcVLww2RQxLznTKAVMBzILg7WGODVslcpVg+xwWs8O2zZ3GMe1P4LutquZr9xDF4te/IO6ifaPqiIyrAABFmDLTbAqWHihRjswnvkvgnMAa2oSEWh5YRBVAVt6Ni/GBolidbyOcrEzBFstHxOmsSbgWETRVcsOdTmCxnbJnI9jekFQ+ooIMEmOhtgLGMoqoKNyQJfZ/Ps8Z9HW4ajGC9k1cPQmIpqKlpArso5cKtadw+0RxoSG4K5DwCa/yB2Nu7wABbu3GutkpOPTE10Z2CGe/j6c2p2mKviT0h7qGi8Dt1qppZitMDO0rcCTpqKGyXPMmhlMVCaI8XYBbdaobBrhnI0FK4JzVqUUBIJ+RHwyMbCiTcDNEQrX16K8qrW84i1tz9mvkV8T1M5BLdL75umvKsjel4e+ubSPbu8k+kqJGskCPUvJGulIorYGWfITt9rcRZfw4Y8MJWFt/OinDYFEiGpYKuItQXmRQPearEqoes5NuVAqoCuyL4PFUrQ4ur7JQV+ZyJpioavB4EgXEgQLqt0Xae3kcUt6fBmXFAsYSbPhrRbfbfokfyZk2zJ9+Z5XZM7scren/Smkm6uolqzW5jKBR6DQ31JKPHSJEkSi1vU2+N/YKKHffxUlZlkecCMFEIRVSknWDtqcp5bhV71GAMCnLzwbBp8FuPQ/Zr0uRSrh383rAD2tYids36V6STzmaGtVRR0xfRZ97hsvovDNlqxoImNG6t/+2iy1DLP/Zd66KpaCsRrLD0R8PBTd4LKiN40rEYDKTwqoHY0GIUJt3cC13VkL/ldCvq0EHIS5Xwmn9b4MKfb56lRRSCJQG/fTzc/oTcCsZetr+2+HzWA/2gztBZbxr/nXZT+3Dn+UbImvw0VH0Uxe/rdDD/qMylxh0+POkTlhzcTP4bTJ8B0nlQRIgUCeYOsuiqr7iTsR4DiBoumZiqYrk2QuAxGW1F0eXNNiMlF6XdRDkq+ECCEeB9XuavKD0sKChoUNHiZZ869KEE9PkuBdZoLOd8iNY9TdrceTj2jXo4zZpRyc/xfSHfwMr1r/WDQar07dPil9k+WFIxklRWOvXoGWgiQuyluEXSqR3hqKW/C2zLdem6RzxTd8oRhiNcxNFHaSGBHV1qoA5yar/Mr8s8rf75MiiQAYvsk5cKJdVDV2EiAbILYHUfmZSDjvvh03Ou8nOJdxN1yB8cloc3P7dr2F4F9TzbPHsCrfZ8DhpsG0iJ7jJB4ucPL4Ay/Y5KAGXL291+GTPrvnaHTUGFvsu1Shx2BvYTUpeJAN1f3XRmnIDErWO0TDnzZkEyO9LxhuH1YX8BAGMB/YNgcwpbofdcglNQ46ETENEO8+BOPF8SaDjXGkVEGGZ8Www8YyhmKOpPM4R8/Kc6awIe1gmUy9+ohjI2UPQZRo0YQUT9c7Y22x9uynjb0hCHAbQznN504689XCNWDpmgCgJ1ljJ0UeeF3TdYSHPXDPiNj6/dwUZPF1NHtCJ+aPCUQaomX5/Jf4j3SFQifWZziQA043ssVGd3E/mj84J0ULP57uDw9N/XfcoHHf7JCWOp7vjDnGyGb/SqJKKWQ59s59nLM1y3IHbJKU3BY7SNKdl/RcvymbEGEwUsc/BM10J17ka1qGUiW3FCbCbxyKI+6vUtZ1fSiSfxvkTg5Hds8VlsPNwAvtSc1/b2/9M1hL2AyA8mUaBLe2COhF7KJkl0/gfMG3pMdqetEsZ+yxVnlMFGxV8rJ8nwB9XB/WhKc1my7qX665kTxAvE2Yz7GWJuAJHU7FOTzqleaoL5zZE1potmLPLMTBj2SAbRnEQb8nrcnM9kuo1caWLkHrEANlGW35fx4WRDJrR/oeu63cAcJUeguYryyPjXIv80pWFsd2VcsRG39W2seW+PK1hYZSJHgazf4RlRivolQdNL+cBGrzDXeT4gVfbufxWBb7taJs6XRs9ETW1Pqef6iUsYPVPZWWU2a3c14QVfftrQk9MaOxkntKDUYJEPLrGr9avN4zDq/TWzK5dJC/0Eh8Iz3vXhDyj+qg6eIXdkpne732VPDyXHv4jNoL8b6KQkv2JLfRtZOsIED1dsQxIclt1Ypv3CrvQMh7ETpvfgaNcZ8dCfbF2GEm8Yrlv1a3oArSZ+RBEa7NARJ/GMwnz8yavyiWRnfrhF6LeiH+azwVeOMTq3yAKH+M9n6KPQd+cb7RRyPqNrqGdyBqSrLn7dRXxA7tI6icpKEDppRm8AwuwpH6UaSYQInh+nhlSsjcxl0Cz+z7u15BCqCIk7y6ol5ERNnS+vjJgYGy7nWjFNTtN5S4SyCUg0KUH+cRTuVGwDkxCVLVbobN+siydmFRQX/1y9wtSBttzGFIDD4+doYBmL6u+9oVevx/ym1HQtZoN1EcuZ+VUJpNUAttWoLNfLTJoYkcgT5yVLngIIHsR6qF49/Gw1iS/bQfR36v92pm4BXP3P/ddgEalJPvOM0teVQAYpRtZaDs93CXcPfrqL1iw6EdvjZGhG2N6sju4x75pdFkxuKjeGPCjKD1yP/m0pEZI9qGBHKtmGnNkluFgtSK+LcxekOsmewvmOOJm8Q/Q64rFjP/YFWjAxlD9I/CkknDUQeegQ+ySbFaMISNCQf9hm4FqqYuSdMGURi4X1WyhI0fnGPAE8ItCGaBWoj3Jlygik/6ItMfEPudzsEjaPIReq2w3ET71JGf9O5/TjyZNDFpWuOqYId3CAoMjGb+Bp5zdvxSWA2BJGMFYOc+N/lFBPXTWoWAUYMVwCnS2QGorvC/fKtyClqlPvYPGaBDOqRERe1g2a9ncWKZuSRKTVHQQXfBzqn1d4t3+vVKtYqTR3GCHvwfuLU43cifcK+XnIG0FEqZOgGxlsq5usJKC7XtNiycF+7kKRRQDgUo1I7Y3OtJTptdjwdPePeBjhvtqkncPs5ntTsrGlZOugcjLPg0S/jGqmcYmPYLhojvUOpBeQAqjsN9vRrX0KcMlTn4lpOxJACmlbGuDZaH74n76jo1nG/vPMf6iJRrkxTr/Q0C6S4bPAN8q9/wDIROdTcSQyR01/quBRK11D7QmLXqPLgKmZnvrBa1CqM9J+snKpCXClKaBKyhumCLdVUvyee3ckBjPrPuZXqgcs/33cKPJ2GnwL+gCMg/8enTh00fVYnFBpX9M3J/7xqHQdZ7p6L5jv+2zrCpwi/nvwZfY0NXHi8PmsxVziox30gqB4feXBf3Cu/+6GxheWPxvxq2FnZ1STML/T1c1GoMiJPjTxIarUkaPIp9N/f9vffxU0d6WPUl9rHzHGpFq5gqSRvac7WmpMD/6KGtvzycIV/f2Qeu/Lfrpk2cnJy3sqj+qGykfeG/+EcMo+UFxV9MR3dSc1jWPnHfHrDFVz0bUrTPWGYx+SXGX9eXJ63smK7jM2AAQBPRjBTPEooBfssatL/imwI2WTS+n5TsxRKa6tFg/1dVTmcISiVz95M31qcDuKQuOUg5JidNdcwN/G9F38p8QsA1S6S8b4Dd0N94y1sJhRFl/i6WjMnwk/qhHTlBDpDrImuLmY5dmkHlUFkkzWUv315Blbo+/nONL6TriBIdVf7SzlyviiDQy1hdI5KPjwUAJIFzwA3izhMLvbPUcVQ6tnCqi8bjLSt3e377vot9cMKnrqj8VTEHxdyaDF6EJCf0gFPLNFg9A9Kq+bgCJXtae7HrWCHqa1rUZuMsWlanLgNrHMarwIJ98WjQ9Q1MXGBPhFiOwkiqjcYOsaoPXAoj/auQn9KYSVVkuIyD/AvOAzjdvUqg46jXQHHVRrw/YlYpVLOQUczkSDeKQcqyATxx6ZKaanFUAT87nyzRooKEpqJ0Qj/g8Edc46B55lelMTWPuxMiM/959nmXgtLcub/aKj/otKqfJs0T+wHVebMVQmCsOv3kt7lIXdH7+N8JE9lAOx1l9taMFXHRcG0fK44vV1xbYBnHdp9lTziOu0B2peuYWSJNUa3vVuf9lOr7l2Oz9lqZCt79cgqMzV2+NeXZfoO63Prk5IY3MbhWRV/VJHtrfp3erDdNFnvNvNyRfcgYa+Nmi/oJibox3wIkEGuAez0/mXbrk8NYMJOeS2ksyclsk6LbHhs3QyA7q/MqeTgS4GUP6DGE3o3RyKTsLCPtq7patIONcCVZ+pVz0LcIBKBkrlfEJZEOjWsRQGmP+TRC5u0drQ6IM44liIlFfkrnufVNb5uXYw4ffOR/COsk1CLfjVUvUNILQOjtrUEkXnoBg8oMHbxze+sHpImTjHul0lg8WMA4OprM682+rTnq97rIO4Xqi/0iymsqUuO3yqAcmXsvppDnQ44g5xAgyEqDtlun1vkecMCYalj9aVm82A0VHj+/rrHKx9ecBhRF3x6n9iJIaspJKkbjsxNmF4wM7CS09imgkqslwgNolHdDhr0lKUo13IwoBXn+bS9WlLcePFgHmzatb/rDYjJNUNMdmZyR6KU946HD7IekXhfW3IU/+gZWyEkTgf/7AxQsvjWYzM5dRREs1Aryln60OwbllJo9IP6dawURAcXNln5jaKMCsNho5Q/gTkBQUfBlOIx5IJMkfjRAuyd+Ed78pXEd5jYveGy0txeZL2KrqnFDzKQ7p4wVLIGp11uv7PnbG6xmESAQRoLhawaBviDkETLQxE3k9ejxqWk0xFlyyhjCyuBWCMn5i6fKfsUnA6ihO9TRVtWQOxrtE7JaB2w7psneGjpv/YVgXaFOX9nSJncev6frR6QwEIL28AumBKxAEcbWvweB70REwNqSZwDwVUI21X7s6yMOs2+HbII5KI2PonHFftrF6oPUJgLxmhZzBnHJ6FIvdQBKjVCj43WRX7AdsQxSL2fVAyfdyksMczKvllXJsTK34ZLFb6mEsbIlRtzix7k96vfV/FZY//1yydetrYGt396GladhYv9GKI8iU13e3ZFu+PBM2WWVICZlclNTTK9E7LEVf2avXYYZmann1tIeFTFqS0VNYvEss3hWk9QwTFu0Wi3eXhJcZYUH72cIRep7nIbSXQyH7QKG1OmGPnXv0c8nWw/eBra+6nomxtKlv6U3d7dGW0S1c4VlDQ5C2MwHiLNW7KkYAQDJRhCIiGSCMHFZBriyZEU1PM2QtB1x8iUgBedrmYGW1ARxCvcFNm/SI9RHznBukzn0FgO6SJ+RuYBVJot1sEZ76ZLLcOyRZUUyQpeKxhdvwRRIWdkMsQqhKLRxh0+x3GSqwIIOWTuTxUrpbxb3G91EBnMJ7Y3U4u82V+RNTQT7bEC+NXOJdKKpihr28RY9InArcKY+btQT3Go6t37m+5R4mrdbNhHnEK6Nx6Hu/wu3KEyihPzF7ui/KXYB+sw3mxxKS3l/s0CISFdU43CvleCM7r2hQdKZhKEmWeZQOk0ylqKhHAvmFIEZcmuzZxVUUZQxfEyXUdWcpm4O9B3Oa0HLz0Cu5WYSyLxOhVKMt4q7QufzbcHwOZeeyhzAraekSZQOrHmjiT3E1MErYAzk5AzHUhnmC4RIGmZBHy+HFD4bIiR5DpNLjrCTVYzzT338U4QEMocXRcmS5PnGJPmFhKWb/FE0ZayAKaJEC9TJ2Pf5J9xju38VV2LvhQ9yVahDNyfQqr9MrgxeP8wrukT2rmbvh4eSEW4lckowj8sliTkqaTmemJyCLnmgFAgd/sFhK2UagiJZIK5AXeifG+/XsmRRqydcMZVcXuAOixyktW0RjVotEayohqtyWlzkpvkP2+4fXrxNpVninGrkIZIkuX1qSGwD8LcmUF0uzdgKlKpuT+9jdQIkSbbkv/FTcJH4mL24OPFdh+WatdvvZ3h7nOueDlebhglOVpa3rlydK89UTlLPnmFffSQWaYv3mSiK0eQjZiJ1uhoDiNd7icHmOslCachiwjKbj5dye03CysclzS/+mnJd5wWX48xlWMgewWC9vX0PYBP9ZaLK5uz9zGRxyIExVjvnn0aLZUUau7D8BSIuD9DmnudpnP8Lm4r7f/Vz6sNgFOuvzENDeAote6b2nLmfSqChE8jH5EtrdR+FGhfURN2gQF2LkfbT32yGXz6M14QWJ14l+dya5xJpzLbmeiSsxD1BcS5NJM6+n4iaaM0VFI6b+i4OFOGfaKrkW0DiayxPWzTIYi0J4DJ4DZ8LQfaN4UvvrB6/YScMDpo/icomy5YYTJ9cRY+VNcim7SeZr2hK3ZWrjw9Ub1MeKz4AY+LqyvVfsqIVhsRcvXLQHTdv4QEf1c24u5mp5gn1x8HtLkz7jQ3jYGMpI5w6sWsKDkTert+SvwdXr8BetTCkGDt1yEptwj0DfsMC8wNS/bW5BhRMNdUS8kkyu3R4Qe+FCGcs0xAQChG+afNi6NNfAXB9dZGU6m68iorRFdSdSnPqc4LPqB6fPVbunJuaDIoyhUhD9CNfct3eJaIs4vUllU/e487AYzKeq5/IQWYardkQmO+cSj9uZw/aLkp1c3qUvVtQr3rG3I/pXi8euEYpWV4pIr2SGp+C1QL8cMV+VrlEae7j7hC7WgEUDqtV/dvFuDC509F8AMpVB6WmplDnNXySu2i6UrDNQENGb0+a2CZJYMdJIYfQqvmBViCiciKeSXl0U05paRijVDvzsfjxHtYbv0C/bkYcpMZJdvInGiayBnVzOpYEs0jVYISk3WcMJVr9LFzPO1+erSxzupX4ss6j4QkSMV5EwSxDEquxE93JRpOTGfEbzPCB7FjMiT+xQIio9tDAbDZNNwNVwRbivVxKH4xG3u6Uurn8UTpNEUhyL9YufkBt4sw742h6dvbyMDn1s9w8vy2Fb+fbciv2iVdWucwIX1s35XeVc92Lvwr0/vi/iuldNqgqnxunT9AEjAwyC4OWmHg/n3oYq4MVn472XKZstZI+PpmK9yTkpaUQFs8gxcLQiPknEZf8SsYm+FyIExnKS1vGA3PrCJk9B942siCoqAkgpdcuLDwFitL9EuodE9utt6S8fS45l9p/V+A0OpE1oS3ilzBgqp6jqhoHo/9DNMImiSl7xO0a8UzIPNYmatwK9/JYVF7fTVwG7bfFqS0lNJVXs7BL/LtHBlhqhqnSUSiL/qUXFveYRpIG5kNdj11Akjdi7Z5MEkD1Y82YivRpzEio2Q9xYPqAZ3QteCiTVF+ppHtuBny9f6qxKiUdCeFCc9lVtmv6f0pyen+tRNgMTP60Gh4qhldGqqHwPgNnadTnPLyWo2K1XFiJp3smxgblqX8YW+DcGOUWVLNzk6HVWJcrZA2zw0TtEOUVy/JBW0Dr6fyC12+RxhLMGIHcnyjqak/XBW9YIhcn2gwmObXFI12ZP+pF7ZPf8I4c6rm9X4Pti/zu5Gkf4qaMdI9ndSMlvHf0fkNJt8rjEbgUkuxKlHc0pOuOeeUJBYvj+BIe2+HR1/wk/lc5dzZcOdVxrl+Hh+gXbsSnYS36xa8UfAauGuq40HZ68ddVYtUOfxc++P9tVbdS2JiH44t1jAs8W48uitkLB+TZjujpDWk5WqcsUF2PU4euB0L4S9bhvaYv3reoZBveHM9LTPn7LgPdMmLO6YFXh9DcnhZX33j2aq7VkJIZkaVMNkRp/LuuGKINfTlGMXIeoCPe2FFS7dhUUcA8Zjd4/MxqsCmEOO1JbIXFxjCdjuwwGH044GVXH5FyAPpP7HMIdL53cS/by2QweF2i0UbES3u7HrCgqTsgExFPaHF3bnaRcsYNSCrgrra9yj6WxWMIQBiC7ZdK7xrawMXQNmjz38/m9bralpGzvMmvUVSeshv7Kh5gsJcMfL1gz/1xkGDOBEWMFZGMfGQz+Tw3InWR3qxJvkmvUnwwgZFBBIo23TErS3reSRcFpQNRghj2ZYlVeVyH7N+cSjfiNx9TrNq7Yr1tV6LrKtHXB1ln7FKmXbN+ff1/Ic6Gakr/8cyZgE9Lw+E37vTN4FeL++3zThGdrEz+XSncsFw9Q0p0c9+ITNbRBf5L/5Zjofc5TxI8S5DMqmCXOKRctD+LVk28DqZH7yc7QCqCSm5TEH0zfrB4y7NG5WkQHIvhXTjQ/fNSKu6frgbbsjz1SLTTU9Eex+4zjjY/thtsNI5aieSh8P8bNmPHIVoTaJEYqAh+7ufXciCE5aFItlPGJZGIwOYwo4wPyfTK998iZTKoPCohBxEAyjdL+Pw1TUM/c4CGjRdKTqEhvgJi2rau24DzwslDvKvwNh466Yfi2Mx5JfCKRm1zwRupqTXXwoOx3dxWLPceAtx/UMqnJZLsmJggFlx7+X8ew0uAICC+CWE9gGjTMxQqSHslIo8f1BURHia4uxwe+QHgrQXf0NirtSjKSzKl/oNddGM1hBBJ2MvxUF47lbwd7EWS7KMx7YTJzjEJOpX8Xho+wLOACN4brE8lwh29RRwboAbflDaZ4JyfPlLOdk6kSzGl0c9WGMxibsjnU6XD8/7fLu21FtHe+V+P27yBatmpgST2FjQ6P1T4R6qbJfOFJVxtn1xUandE6W7cQc0aHHF+7OlNfyi9Xndotr1CVhMb2oSJZac/+d9go0bdV1v52Tn4dhs2vxQ7CqPfbt9vFSFyK7f/FhR4GntGYrrQEKp2K9gFKN+9a++zl9dJ00xhDAA8w1HWNMtqDrF5Z0QEZqhT6xP0Yku/wUx9pNrhvAcY2yHdhXoQfrBHcTJadbV8XtmJDWZkBL+zcFOwV8fKmJzy5zLDTw8eRpOt0qYtLxg0aXq2KI9LVxmEcTs73JH0MkUxkyhNHgp/boWvbeer01GZw/uIAyX5dWWS+pqyUwzm5IsubSCKynmlBZYeoY/3NvYubwOHzlAuY+0LZj/VjtU3eAPpC6C9ScvnbRXqAN5NIjgWtSWOkp7PTAyegeDG0Y1oppS+gP08QxLsrJKjxEL8R6zwzp9JIBtGPGEgOJLJogPABgj8O1E+pRSAeEs6utME96TSSHsmPWG613vDZv4+i2WN3vHmTQJmBey3iyHRdXJxfRESmxZwkz6aS9ADE+1t8ieV5Gq69oz0Vlj8TYSuyq04Ws+mD/+pbGdWHad450/x0weXB48+aVyW7hpi9Iq3jDjSq8eEx14KApX08toTvlOXzqfob/ZikMz3q/ACx+GGP2UeTRo9L5DSVRSX43OTE0OOEMa59+6aZzYmqbEYiABx7uOPrE/5fcyNtNxz7aVLCwkaLLfo3E+GxuVKYguVfvhUdnGxpqrH7YaYXPsUaHCJyJiF3uqRKnwT/3aoYHA8RGelroY7FGpX6jNzj7cxhFw7WOQL/Km2aeFWkSNaDRTg7JfIRku4bi61p7k5iug24pYhQxSlspQ0nf9+Kj67B8Xg5VGSMS32+MbrqD5RMwIrMcqFOF3kFHjHB2VjBdwkpbFFMPYFR9ZjlEnVt7PNAICWceBIsLqXFK1uWSFF8uZxOONKiuDbP+/cXec0cA4x2XopDRwmxmhPHL2dWEdnraH8WG+KoYREOog1ARcK7mppeq7wAxUOz7ZXK1o3MI3Yn7LWwnxkzTBx6KalbS8ii6Nnc+tBVH1n9opUm4tE6cYl/CXk8Se2sCvRbObxhbmkNBQpUnHgzESuIG+QgHT16W0DEkf2eG0WVnMFOcol/9sm8GCuHboUu0WgIHqMZtZcbkCFl0gmMP2cxm1HFs5W14pjBgyHFHbKzQy/VR+3kcSYZqnmzWNG1L0rLefYwYQWZIyf8o3cXxHyZ3GGSUXI+DUUt+oiXRqTH0V67AhPNLkssL0YbWodvSPsNY2joyDwskUyK1rN5dnoujh3Lm8plxe8LB46u33UU8LVTds5V/OIosdyUASZaJq2MLCSRPaComLASJV4hNjiH+EiJs13AjklLHaLpvJ4TraJJVmAuc75E5RzevjXJS67b46Laf16jfctgMpe7vmq7XCUDpFQaWUzmERF86eRPtehejkjJ9RvlMZqaUdLGmOOq20m5/4iYZ1V1pw9VPzDqo5175nd2HLq2XXGucNR6bu75Dgdqx6qztES5uTLbtU/vQkkfhJPjuyO5fcsJIi5/P/IPlUZ/xvLqtENb/gjTR+A90Pp2vtiffMs9+HiPANAMF39vbGw/60HHSufFfOstcW5i2gjqSJ/gr0E+Ccw+WhWP4ZRTwxz2z6KOHr8FPEhbFPQlsnRdVdH1eSQjvrxH6LyQbEJMeirt2dm/choTUwfrF++KeOQ/C/M6Yo83uVCj5QyKQcn2qUZmsHMucbmXcti+7NzCP1jIZRf2Tnh3Qz/FkRLPwa0oIU9QvO0/G6vvNH4Id2ApO5BDD/KPZnF7143pyE12ZxvZzAifPOwQeU18WqaRlGZ7KqpFVG8ixCmnZmiWJzQt+wP6p17+49QQqoCaV6ZnOjXk34+XjZ7bXsM4E3xbe3NuPQtz3LKzTxaXfRJLqqjq9UPnm6omZBGrYOTZOYojnOmQdtky7vvvCQsZP6zvUhBf2h8bkhsvolEkEfBjqN9/oetoV6EvzRoD9JwZyJGuarGMhH8/MfBo/1MDsSN5q7NpLwG/Fo41HOZfQ1H1WaITiXQSjcQsEveV4MMn8yBRWgNAX+Ml508ZPqodQPN/PCud1nLUpMDFewp9CJ16/7eK/21WqGyiRDpRZpUNk0qGyfCgN+ZefONdRCZR4zxm5/WMrhoxrzlFP2BpnMqcXEJ/yYknoogUdn5Ud1sil5UZHS1IsD7G9mh56UIHPsPKyuTkstN+Ufv2y/rXaCh8b6DIWk4kxz4eqDc8OzPtoDrWEPEfBg6jNF9TQNjKopPhniR4XeXr4pIRkh5qryQI2Q4ZoHy0SmQ7Ula/PoEdw3oPdHvkT4qZsWx7YJQlyTmOT1yhUVRWuEzqdhqyt/SQ6Ufr4mk5xum98/49iuhTlQYqXFuYZk5NLTBN1Wr//0ySzS7bTGHZkUDHi2UeIas2MWjqHb15hCWT1GV69va92EwS/agxMDGhP/aqo/i4ik7ZmXGsWBsKGKxN4B/+ef9+b0kyZFOBY6IfNP+/s35gTPlNgDdT/uUqGQvgw0T0hm5dk5WoNQNqxVyCyDiVhvUUIx20oOmzn+kTBM7CqLNprvaILH3ShuNVN82Avq1NYY0IqC29n9QGgh96bFNSn76cQjQpy0dILp1xUh2ZsES34TbOFeiCM/h8z8p8a0xsQbhPXay3Ks0UmTEr9fSDJTqhlz7CYFBHUnZxylIz8kLJcNWvboM9Us8ChkfzmezUFwxM/jwRD7hocm9gl0T51moG8tLMgHi92GQyXxUjvS8WzvfiBlqzTYHWLGOyl+eURqDvHBHBc8nMCk1MLOjhnu4ax9twDycL+0jO8WVLnKixZSC4G/vHhy1LaOOdL+AZIlZaMM41dYcEOGwtZMU4HXR19QmPMcTz22xJEmvQmxXsbKK0iIiVqkZ+UqUVgRO8fqy1afEqFkGoevmgx+/o2iOgM5s0D52ExpoAQGwA5nI0i4rNq6lhgNnVRTkm8vIWEWshSVxhc8RQHaTCElomfHN2tluw/aiSavDy5gqE/QiIPqgFj4CaQspRQ1G1bPZlQnRF6GwhkFGMhMdcKZ8ZnRxJY0hmC1UlJBGS5AbIWYkF7e7IPEPxwwUi/mKPaFw5jf+DOntGA6f/D//ubJg2uSkQGVaZmSS89J4gvZCcmjIBzGlIVypL4XsUIiWfkvJ/xa6jE12n+PQPWs1lvtBQbwIkeqCJw2koNm97OwywuSiYozOvLBeqFxK6ubXvO9Vs/ur9JdP9JHydihVcPklGpwUhnJYNL4eSmrwCcE/C0Vet6d0blD2WCdEwnpBHxWMJSDpFEGgpC13D4AySlUCYkosUBKK4zn/uJzb75pqS+ldCQQtfVAalD+qkKR2ReN0E1HxYKXDamvuQJGrqa1KA2n9qMQSskti9o9j8ttaNGqbORqs9vX/zlMLaKf2cxFfMO/U/GN0+Y0VqgbIIdtjV2dbAyYBYxBDXXS8BrCtl8l7Fbr/abG5jehXI5CusQMn1OjFDJMZ+1IBdW31mFI+LsmNHRZxmrbY5cMwo3l1J6wDJjMDGATyp/c0DUYgfmCfMxwUOXn2zAWmxHESctKBGjFNDREmcGJrWxznqcw7AOz+9fjWF3ShwzpJuDePx2K2N2vFEEf3NnbuPcMyL8A7iYPDhq+Fc/1ukgvuydf41z9xr2N3D1Exe/rPPM1IgEjpxu+aFy6dYggwghIX0T2ccCPT5BDGUCl7zH3RZrwK3Mdf1a69iOe1PTYkKTA60qrP1UqMsKkhdgT2+isF9+pwJcXd+eFax4ykM9SFrX7JtgPiuz+0Q0IlHd++8oRNF2vGNrWweL2yr1DkLBdi9mqqffp4H5HzOEvbm0jgxoqQhpyCukRYQcZAXS4FsP633j+MIEcWMxtzDmR9flDg/E0RyDSkfnvStcJFlk1LxBnHFjRsVX8z/1flmJU+4vZCMGS2acPHeokVZyQsyzlQE/e+/ZCL7+LMUw+6Aq+UuzxaUZtTcsYc9++H849Qt7L6trY9pv99zgiFiMQVMzuEWm3zhUjst2ffn/H2eDv4L5Scve9GIRrvbmDuRQcr08aMC1qVps5+PvDuy4kwdU/J7Zq/AxcS0xaJ1i3otAiAS+yQKM05EjsKGWdHury/Zk+am/G+/bg98bvmf9+WkxX+j4emUHwE/dt4YtrHvs8TffA1O/AXIHi2e0D5y5Px+iXXTUqcG/W84vSM93hpQoZD2k0ielzmkJ4icPpXnPb2FY/8RvQJ5GCxtDr8P6H1XP5EhTPQRiwAs6rVonWjxNGJxYK/M3yXMSWcyR94d+Txbm7YuYNT4dKU96HlliL2xIhlHPoq7kQNEqRFaSco1dAOIhlqAaFB8Xsdkzu05kACSNlNkCEKaMHQjzEbFBg5BKtKPcCkGJKM8KEoy600LL1BzS0IQ9nfUVKV7yLzkLar2fz/NnUiC+1yF+fPfiqUeH63whdH+KrRk+FtYd4btaH3VzuMQBFF27H2ZY++DGWXFNSLRmh3np9B4LxjBEf4VLHTLnZIrySBuY6RAlzeqSt5X9dPSjwyjFyOwMjCDTMH2nVLBFjYHCZW5DTkkck5/edCWuNwpuRnZtxB0PTQV6zW223e0shUdF1SysDvZ7XyCnLR022z/ghX5Twf3mD1/i6tydrHLBFOUR2zwthMXdx+/7hYd7PprbOjqnccd0otihlx2fjyIy/rFvlcqnAER8d2k869ZA27nywyTTKYaEUlJeDvTnTUVOi5rkF0smiGWnSBEgbFSYPg4TGs2iUMmxicEYMIfzbVa7fnRjzDG5N2HAgLWO0xC6HqM7PB2XFOQUdMIVM7WBCWXxHCdDmR25Cfh08ARJ2s61APzNLv9wlPqOdyGgifA0Z5XoLxJGAjTDeGNgXYm8+Igdy9CShDGudda7U/Z5/5CDvackLlb3emqm3bxAKJFnMStbf2r34j/RxhbAk5YQQttYcBi0QASZ1eQEkZHh7RldiLzbCZBwCDPNFenEpEpQOvXa9JoIcBrG1RSbMyyAa/nXG5PAqodbG7eIUvv5ozi7BzN0y8cjQx9k6kYrw7i6d8tr+a5FgO/uMWY+1nyvFJuxtbCpQb5Qqhdr0RFxnyeCzS5bpUENZrTzp8xBq+d/7QSXYPVbi1CWVIKEHbaNeUdP3dQCICC/OtyXGiC+mOjxvjcLcUqEbVIGE8cO0AEezgpRjs160RZD+RC4Z++0brDh2NVqYJwhdEh5d0y6K/61Yv/7YyblGmxi2yuPlEqlcI+4enio9isBUYIGZohQMBjGj0LuMplcqdwmRt4BWEPLtqc5o2dKBC6xKcEd3cHRcfSaH81djUnctI0MWafOAWRGzv016C83RXt1wJJVfk2NvvjVOB5QUDJoMOBxUNmGzhtrTPaXaqjcn0zxm5bHVLRaaxRFjoQa5a3rAQGf6M1WWXeBe4StVa//eryxzNttutCuoevbcovoX8yqR0IX/vh7/kXxDIWwWbUq5mmZ1mlParbnbVMpphA/fLaGEd2lA6YsJIke3d1N498cEzn0fA7xr/brCRiZFlKuz1d3kHwGEdqzYP1K2vfrEwBHO/NjaWy9SUazaIFQN9QkhsRVunc3p5p/Oit/O/xRG7h2s5pQyhK8KtJtsuMi24wTwxlc7/cB6ybevN4G5+sBtotpwXskLgkhHsCXuN0ut2DKH9o+1csNZkGNTQWzwO3cyDrG6uykxvhyhUGdmJAX8NPw3skcDnUbleigqM/N5noW7zVELh0NdTMMVrjc9diq0TULmZcc+wAgjwEitG+zXpR9AO6SHigd7Tu0KFYdQo/giFzSH67CfrHOrja7D5uBWN7cfZvzbGfq6yD0+QLJDkkIAUYPrsO1TTUXP1NJOo7xYxqcFUqLeC87bxDSG9HBumwABMmN8Dh72JJ00KCmL8IXh+h+b1ypdFubpYeaDGqqocuMex7FngCwVv3up17TQI2cuXTlhHhQel9UHROw4Xq3zlC2bF/KeLCNDKBspMtgPyCFYz1Codh17wmMfNjfVqfiCBi+hI5Z3cA7/UXt73Dg3Fi9LMt/kuG/qo0thwwNkWapSsrH2rgEoxWB8umUdwO8baB4oDp0WtcmvHgAVwaGjMsEeQhtxhA8qr7wtvT+WAXh6vLYJfBO8Xn1au5U1Px1C4of8Yp5N4eLhSU3+baPAXDb3OMB6MAB1s19g76I1aWXSsU1WbLZLLoWpGwNlqGRxMG7KrRsyuNdw3TOh7MFVVWrthy5uGm7F01Fx5ljYq0jz7/oNZ/2rTIqKhI8RYxpCMNpFpDGgykRk06j5RNfKLCGAK6hakSSfrTGqB3ASrz1M6CFv7Hn/GVWk0Zck3GrzV2LufdcW6fRkzYs/T4eL/08JEJDXGTelWZrMDFVIulQ5Er1QYVWUdEjrUOC8i7AjxoRVe/3DiQpF9zgP79Sj5FkoSkBZORMbQ0z5cgBDnFQ8KhZATx+VwoRNNPnbFQDJrTPiWHaUz5J4TJ3wO4BTCAZrZk4JDEQMLCp8yTmBSPnc7jsQAhsav/PD5NM3UKnIp/hYO7NnMEZgmR/s0YJSGstpxii+S1JnNNOn7u+8n3j/w0gfiZhCeOcOhBi1w3NJ2/ivCNH7Ampi2iZSr3pxb+M41FBOGcU2mM4tq4BrYoVdXySvyPFJDFvkHHDqVbEDI4UD6azZfY7Bgsi6mgcCj9nkTGSOLmkZ6enRopQM9gNJLJwj4VtZk4Owcju5gYXv8+Iiv7Pj7h9oHssA/4/4Ks9MOo7DddwNqOdVg5958gl/v+c/egDuxzhek1mE6EP51+SGnN2Zz6NhA1qffF0OzxX4h1bi7Wij8LQyudEhxj/ACnhjeU5PLobshANfuIxU9W0gGfqXyTKZf0BFKkqVJp4GcLKJQYa0kqU1NKEGu3+EZsWQusVq8rLb3n7ZGAb1moJGPV4bZUD5/oZW9SSeLxYxbBunQfpOw9j8H5M6ADnMXviDyDvDlJqFImqN7TeQyRjSHPfsLhAIl8iJZyAH6zFng5XIQz59rOuiaYTOcDhgLl96ZKIj+7uAaibG0qUPdtLINadfEidyS+pow3fmlrXd6cOY49RNbsnuCH1pltXvHR43HjL/Eng+GTOHfc/YwzX6wgu8EPXM7lLA/k7+CblnO4v7vwkR3wjeKvL9CfDvOkHmyp1GZeNEWlcvsok0LJZcW2WgE5j+8CkPmfFeJn99Fr+y/bNPOT7M8e5KmEN6yw+QDq62LZUzYP/avYozjcUURIMWWb7SXpMpXDGQXRlbA+xQN7WK0HCdcPO+0WFebvlRpt9vGOMXum+luQoOXtYxH7G9l3jY6HSbKGw2GQxFsBvx8Qm6NpWjEEmHJFb5kiAs+jacLf53kOnhYB5zz58yU74Jb/KNvGID62kzHAv/3/wjLeu4dRyxAccRLavVLZFy/XHZx0KNMd5cJaKFc7xri4hjo6hrq6xPTrac9z5HUDiN/RRnhH3GaSTtI5dIKkGBRFZ1MKiiRBnElZOsq9OINpaMxcbBk2gQB5m1CymDopl85m0Dh0BpOgSHq5JeuWgRa9ZGh0UkE931Y7md1ILy1jc8pK6V6UjKJeZAyPM1IqZLmzRCguxWG+b0JEOtE9MTn8igjqChLIJLocwJU/BMNvc6P7oYOno0cmifUrtdutwcfZrkXCXu9ZFPUPAGdO/B0KALc+nP/757T/D1FbqY0AGEjGgTSd/IVDqwvOAISs/kbuA9kNyjXWVwZDWvygOAW4oXxlyn5obl6aa1Q5SYLP4NNibzm4SJE3nvYSmN2r3T7RZllp2QbI0w5xfkD7p0RlHNRFA23RDcEt6tw+ErewVD/FZ6fzlTxvKXKcKs/xcpkU8KW9L/cps72snCYrLAjuU+UxoCO70MAXklzDSTdZKqAoF6zgFkVeQn+vUq/Lqi9S5gYZnN1dqtzHywP8CX4oKiD4QpE7MDUPci/roTAhSQ64GVRuz/u5rLAh9i91A8JyrlOTO9tF9SVdAGHukGcJhPmfW6KgTCSk2Q/ZxNyFN7WoHIAkTyhyDj03CG2Cy36jLOmQNYgpiUOAu1D/jDc3TF7xOGna0WNmOpFv4RP8lOcSOUpJQ/OcmD5BOp+h3CezjbMD1GaSpYPjx3OhThD0pS8csgSqYoK8VEGePCjo5XmJhNITrhkDZUrhoKtOS6+f53IP53KlFMI8I6ajqSYS7ZSrJpRNUOc0ufu9BNyjsE3PEBC5QpoOCg9IQ0CWFihLAAR7wXYN1GcqF9R00XKfqMyinnJe9oCbd3CFPVC5XFYSYCxpYRAIga9eFQYFdscsgbxYIclBKEwvdvkCb0iKNHQ8YXLjG6ZgKGw4ZGQ7GiS+UualSUM+UZ2tPhF/SC6Yr4HIJ0E0cqRPTIIi8K58w1X0EyFkAUt/VKNgpxddE85VCRKfrkoS+O+qlFxNV6UxqL4qnUbGVRl0AoVAAmCg4dsVa/TkV16nzDCVlhh+S/qqcwbzTSDbfgA/yaIkSFKByUGGimoMfKSp8IgRflEiMoswdjEUAh0L3wOZV2VO6ab96cwoNjk8D2IZVeDPlxlFz6NJFJ223F8AHxY0/YVvJJBybVgiAp0aY3RgDtBNSscuAhKRYY6mQgaRAkREVWqWMeZtRoTmQCVEnaTdNZ2qWzoDVFLlRyhFUeZ2hvBDFMMSXBkM0kMPNETS1PdAyu7qz3P8ve5uAEz+cNJxfypVxoWrcm7cnVbhhFM8ePLi7bwzzjrHhy8/VTv35++SLhf8ZUBSaxT0OhIi1FWXXTEwJHroKUwv/+utyb/meq7NYnZVKg0yxGDVIk1YHS1GrRpN6El+zQTtLBhpVNpiSPorRo+TjTXGL8YbJz2VcSbU+Kr+za/qTQgNOXLlyffMHgUaNftPixeuaQ8dK6wkJUtCPJBO+Q0QBsEkWHjvnQ9hI5zIVttw9VHoiKN4rIptDAcHbAoXB1MbH8LCfsGExCQcOTEw6qtVg2k6rbaZIBX420uREmvM98qu8PAyfDBNNsV+iyKATYTZbprlboSECP+YYbpJZqIiJiSElDmiutISGRmY3z/Yvn9k0L4RtsuazeH+ewbM6XEZf3NI4AGWiIGyPQIv4m8JMm00R5r97TaiXyK3hJloyk6kHQ==) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}
`,document.head.appendChild(Ss);/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.19.2
 * @author George Michael Brower
 * @license MIT
 */let Ns=class Bu{constructor(t,n,r,i,s="div"){this.parent=t,this.object=n,this.property=r,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(s),this.domElement.classList.add("controller"),this.domElement.classList.add(i),this.$name=document.createElement("div"),this.$name.classList.add("name"),Bu.nextNameID=Bu.nextNameID||0,this.$name.id=`lil-gui-name-${++Bu.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",o=>o.stopPropagation()),this.domElement.addEventListener("keyup",o=>o.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(r)}name(t){return this._name=t,this.$name.textContent=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const n=this.parent.add(this.object,this.property,t);return n.name(this._name),this.destroy(),n}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.getValue()!==t&&(this.object[this.property]=t,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}};class C2 extends Ns{constructor(t,n,r){super(t,n,r,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function qu(e){let t,n;return(t=e.match(/(#|0x)?([a-f0-9]{6})/i))?n=t[2]:(t=e.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=e.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),n?"#"+n:!1}const F2={isPrimitive:!0,match:e=>typeof e=="string",fromHexString:qu,toHexString:qu},Co={isPrimitive:!0,match:e=>typeof e=="number",fromHexString:e=>parseInt(e.substring(1),16),toHexString:e=>"#"+e.toString(16).padStart(6,0)},E2=[F2,Co,{isPrimitive:!1,match:e=>Array.isArray(e),fromHexString(e,t,n=1){const r=Co.fromHexString(e);t[0]=(r>>16&255)/255*n,t[1]=(r>>8&255)/255*n,t[2]=(r&255)/255*n},toHexString([e,t,n],r=1){r=255/r;const i=e*r<<16^t*r<<8^n*r<<0;return Co.toHexString(i)}},{isPrimitive:!1,match:e=>Object(e)===e,fromHexString(e,t,n=1){const r=Co.fromHexString(e);t.r=(r>>16&255)/255*n,t.g=(r>>8&255)/255*n,t.b=(r&255)/255*n},toHexString({r:e,g:t,b:n},r=1){r=255/r;const i=e*r<<16^t*r<<8^n*r<<0;return Co.toHexString(i)}}];function I2(e){return E2.find(t=>t.match(e))}class T2 extends Ns{constructor(t,n,r,i){super(t,n,r,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=I2(this.initialValue),this._rgbScale=i,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=qu(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const n=this._format.fromHexString(t);this.setValue(n)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class zu extends Ns{constructor(t,n,r){super(t,n,r,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",i=>{i.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class j2 extends Ns{constructor(t,n,r,i,s,o){super(t,n,r,"number"),this._initInput(),this.min(i),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,n=!0){return this._step=t,this._stepExplicit=n,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let n=(t-this._min)/(this._max-this._min);n=Math.max(0,Math.min(n,1)),this.$fill.style.width=n*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const n=()=>{let k=parseFloat(this.$input.value);isNaN(k)||(this._stepExplicit&&(k=this._snap(k)),this.setValue(this._clamp(k)))},r=k=>{const I=parseFloat(this.$input.value);isNaN(I)||(this._snapClampSetValue(I+k),this.$input.value=this.getValue())},i=k=>{k.key==="Enter"&&this.$input.blur(),k.code==="ArrowUp"&&(k.preventDefault(),r(this._step*this._arrowKeyMultiplier(k))),k.code==="ArrowDown"&&(k.preventDefault(),r(this._step*this._arrowKeyMultiplier(k)*-1))},s=k=>{this._inputFocused&&(k.preventDefault(),r(this._step*this._normalizeMouseWheel(k)))};let o=!1,a,l,c,f,p;const b=5,g=k=>{a=k.clientX,l=c=k.clientY,o=!0,f=this.getValue(),p=0,window.addEventListener("mousemove",x),window.addEventListener("mouseup",w)},x=k=>{if(o){const I=k.clientX-a,U=k.clientY-l;Math.abs(U)>b?(k.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(I)>b&&w()}if(!o){const I=k.clientY-c;p-=I*this._step*this._arrowKeyMultiplier(k),f+p>this._max?p=this._max-f:f+p<this._min&&(p=this._min-f),this._snapClampSetValue(f+p)}c=k.clientY},w=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",w)},A=()=>{this._inputFocused=!0},y=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",n),this.$input.addEventListener("keydown",i),this.$input.addEventListener("wheel",s,{passive:!1}),this.$input.addEventListener("mousedown",g),this.$input.addEventListener("focus",A),this.$input.addEventListener("blur",y)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=(y,k,I,U,D)=>(y-k)/(I-k)*(D-U)+U,n=y=>{const k=this.$slider.getBoundingClientRect();let I=t(y,k.left,k.right,this._min,this._max);this._snapClampSetValue(I)},r=y=>{this._setDraggingStyle(!0),n(y.clientX),window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)},i=y=>{n(y.clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s)};let o=!1,a,l;const c=y=>{y.preventDefault(),this._setDraggingStyle(!0),n(y.touches[0].clientX),o=!1},f=y=>{y.touches.length>1||(this._hasScrollBar?(a=y.touches[0].clientX,l=y.touches[0].clientY,o=!0):c(y),window.addEventListener("touchmove",p,{passive:!1}),window.addEventListener("touchend",b))},p=y=>{if(o){const k=y.touches[0].clientX-a,I=y.touches[0].clientY-l;Math.abs(k)>Math.abs(I)?c(y):(window.removeEventListener("touchmove",p),window.removeEventListener("touchend",b))}else y.preventDefault(),n(y.touches[0].clientX)},b=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",b)},g=this._callOnFinishChange.bind(this),x=400;let w;const A=y=>{if(Math.abs(y.deltaX)<Math.abs(y.deltaY)&&this._hasScrollBar)return;y.preventDefault();const I=this._normalizeMouseWheel(y)*this._step;this._snapClampSetValue(this.getValue()+I),this.$input.value=this.getValue(),clearTimeout(w),w=setTimeout(g,x)};this.$slider.addEventListener("mousedown",r),this.$slider.addEventListener("touchstart",f,{passive:!1}),this.$slider.addEventListener("wheel",A,{passive:!1})}_setDraggingStyle(t,n="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${n}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:n,deltaY:r}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(n=0,r=-t.wheelDelta/120,r*=this._stepExplicit?1:10),n+-r}_arrowKeyMultiplier(t){let n=this._stepExplicit?1:10;return t.shiftKey?n*=10:t.altKey&&(n/=10),n}_snap(t){const n=Math.round(t/this._step)*this._step;return parseFloat(n.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class O2 extends Ns{constructor(t,n,r,i){super(t,n,r,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(i)}options(t){return this._values=Array.isArray(t)?t:Object.values(t),this._names=Array.isArray(t)?t:Object.keys(t),this.$select.replaceChildren(),this._names.forEach(n=>{const r=document.createElement("option");r.textContent=n,this.$select.appendChild(r)}),this.updateDisplay(),this}updateDisplay(){const t=this.getValue(),n=this._values.indexOf(t);return this.$select.selectedIndex=n,this.$display.textContent=n===-1?t:this._names[n],this}}class R2 extends Ns{constructor(t,n,r){super(t,n,r,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",i=>{i.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const D2=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: none;
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
  }
  .lil-gui button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function B2(e){const t=document.createElement("style");t.innerHTML=e;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(t,n):document.head.appendChild(t)}let n0=!1;class Uu{constructor({parent:t,autoPlace:n=t===void 0,container:r,width:i,title:s="Controls",closeFolders:o=!1,injectStyles:a=!0,touchStyles:l=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",c=>{(c.code==="Enter"||c.code==="Space")&&(c.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),l&&this.domElement.classList.add("allow-touch-styles"),!n0&&a&&(B2(D2),n0=!0),r?r.appendChild(this.domElement):n&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),i&&this.domElement.style.setProperty("--width",i+"px"),this._closeFolders=o}add(t,n,r,i,s){if(Object(r)===r)return new O2(this,t,n,r);const o=t[n];switch(typeof o){case"number":return new j2(this,t,n,r,i,s);case"boolean":return new C2(this,t,n);case"string":return new R2(this,t,n);case"function":return new zu(this,t,n)}console.error(`gui.add failed
	property:`,n,`
	object:`,t,`
	value:`,o)}addColor(t,n,r=1){return new T2(this,t,n,r)}addFolder(t){const n=new Uu({parent:this,title:t});return this.root._closeFolders&&n.close(),n}load(t,n=!0){return t.controllers&&this.controllers.forEach(r=>{r instanceof zu||r._name in t.controllers&&r.load(t.controllers[r._name])}),n&&t.folders&&this.folders.forEach(r=>{r._title in t.folders&&r.load(t.folders[r._title])}),this}save(t=!0){const n={controllers:{},folders:{}};return this.controllers.forEach(r=>{if(!(r instanceof zu)){if(r._name in n.controllers)throw new Error(`Cannot save GUI with duplicate property "${r._name}"`);n.controllers[r._name]=r.save()}}),t&&this.folders.forEach(r=>{if(r._title in n.folders)throw new Error(`Cannot save GUI with duplicate folder "${r._title}"`);n.folders[r._title]=r.save()}),n}open(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(t){this._closed!==t&&(this._closed=t,this._callOnOpenClose(this))}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const n=this.$children.clientHeight;this.$children.style.height=n+"px",this.domElement.classList.add("transition");const r=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",r))};this.$children.addEventListener("transitionend",r);const i=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=i+"px"})}),this}title(t){return this._title=t,this.$title.textContent=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(r=>r.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onOpenClose(t){return this._onOpenClose=t,this}_callOnOpenClose(t){this.parent&&this.parent._callOnOpenClose(t),this._onOpenClose!==void 0&&this._onOpenClose.call(this,t)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(n=>{t=t.concat(n.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(n=>{t=t.concat(n.foldersRecursive())}),t}}function Ha(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r0(e){let t,n,r;e.length!==2?(t=Ha,n=(a,l)=>Ha(e(a),l),r=(a,l)=>e(a)-l):(t=e===Ha||e===q2?e:z2,n=e,r=e);function i(a,l,c=0,f=a.length){if(c<f){if(t(l,l)!==0)return f;do{const p=c+f>>>1;n(a[p],l)<0?c=p+1:f=p}while(c<f)}return c}function s(a,l,c=0,f=a.length){if(c<f){if(t(l,l)!==0)return f;do{const p=c+f>>>1;n(a[p],l)<=0?c=p+1:f=p}while(c<f)}return c}function o(a,l,c=0,f=a.length){const p=i(a,l,c,f-1);return p>c&&r(a[p-1],l)>-r(a[p],l)?p-1:p}return{left:i,center:o,right:s}}function z2(){return 0}function U2(e){return e===null?NaN:+e}const H2=r0(Ha).right;r0(U2).center;class W2 extends Map{constructor(t,n=Y2){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(i0(this,t))}has(t){return super.has(i0(this,t))}set(t,n){return super.set(G2(this,t),n)}delete(t){return super.delete(V2(this,t))}}function i0({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function G2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function V2({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Y2(e){return e!==null&&typeof e=="object"?e.valueOf():e}function s0(e){return e}function o0(e,t,...n){return a0(e,s0,t,n)}function $2(e,...t){return a0(e,s0,X2,t)}function X2(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function a0(e,t,n,r){return function i(s,o){if(o>=r.length)return n(s);const a=new W2,l=r[o++];let c=-1;for(const f of s){const p=l(f,++c,s),b=a.get(p);b?b.push(f):a.set(p,[f])}for(const[f,p]of a)a.set(f,i(p,o));return t(a)}(e,0)}const J2=Math.sqrt(50),K2=Math.sqrt(10),Z2=Math.sqrt(2);function Wa(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=J2?10:s>=K2?5:s>=Z2?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Wa(e,t,n*2):[a,l,c]}function Hu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Wa(t,e,n):Wa(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function Wu(e,t,n){return t=+t,e=+e,n=+n,Wa(e,t,n)[2]}function Q2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Wu(t,e,n):Wu(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function t5(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function e5(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function n5(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function Gu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function l0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fo(){}var Eo=.7,Ga=1/Eo,ks="\\s*([+-]?\\d+)\\s*",Io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r5=/^#([0-9a-f]{3,8})$/,i5=new RegExp(`^rgb\\(${ks},${ks},${ks}\\)$`),s5=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),o5=new RegExp(`^rgba\\(${ks},${ks},${ks},${Io}\\)$`),a5=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Io}\\)$`),l5=new RegExp(`^hsl\\(${Io},${Pr},${Pr}\\)$`),u5=new RegExp(`^hsla\\(${Io},${Pr},${Pr},${Io}\\)$`),u0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gu(Fo,pi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c0,formatHex:c0,formatHex8:c5,formatHsl:h5,formatRgb:h0,toString:h0});function c0(){return this.rgb().formatHex()}function c5(){return this.rgb().formatHex8()}function h5(){return m0(this).formatHsl()}function h0(){return this.rgb().formatRgb()}function pi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=r5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?f0(t):n===3?new jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Va(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Va(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=i5.exec(e))?new jn(t[1],t[2],t[3],1):(t=s5.exec(e))?new jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=o5.exec(e))?Va(t[1],t[2],t[3],t[4]):(t=a5.exec(e))?Va(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l5.exec(e))?g0(t[1],t[2]/100,t[3]/100,1):(t=u5.exec(e))?g0(t[1],t[2]/100,t[3]/100,t[4]):u0.hasOwnProperty(e)?f0(u0[e]):e==="transparent"?new jn(NaN,NaN,NaN,0):null}function f0(e){return new jn(e>>16&255,e>>8&255,e&255,1)}function Va(e,t,n,r){return r<=0&&(e=t=n=NaN),new jn(e,t,n,r)}function f5(e){return e instanceof Fo||(e=pi(e)),e?(e=e.rgb(),new jn(e.r,e.g,e.b,e.opacity)):new jn}function Vu(e,t,n,r){return arguments.length===1?f5(e):new jn(e,t,n,r??1)}function jn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Gu(jn,Vu,l0(Fo,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jn(Yi(this.r),Yi(this.g),Yi(this.b),Ya(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d0,formatHex:d0,formatHex8:d5,formatRgb:p0,toString:p0}));function d0(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function d5(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function p0(){const e=Ya(this.opacity);return`${e===1?"rgb(":"rgba("}${Yi(this.r)}, ${Yi(this.g)}, ${Yi(this.b)}${e===1?")":`, ${e})`}`}function Ya(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $i(e){return e=Yi(e),(e<16?"0":"")+e.toString(16)}function g0(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cr(e,t,n,r)}function m0(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof Fo||(e=pi(e)),!e)return new cr;if(e instanceof cr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new cr(o,a,l,e.opacity)}function p5(e,t,n,r){return arguments.length===1?m0(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gu(cr,p5,l0(Fo,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eo:Math.pow(Eo,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new jn(Yu(e>=240?e-240:e+120,i,r),Yu(e,i,r),Yu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cr(b0(this.h),$a(this.s),$a(this.l),Ya(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ya(this.opacity);return`${e===1?"hsl(":"hsla("}${b0(this.h)}, ${$a(this.s)*100}%, ${$a(this.l)*100}%${e===1?")":`, ${e})`}`}}));function b0(e){return e=(e||0)%360,e<0?e+360:e}function $a(e){return Math.max(0,Math.min(1,e||0))}function Yu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $u=e=>()=>e;function g5(e,t){return function(n){return e+n*t}}function m5(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function b5(e){return(e=+e)==1?v0:function(t,n){return n-t?m5(t,n,e):$u(isNaN(t)?n:t)}}function v0(e,t){var n=t-e;return n?g5(e,n):$u(isNaN(e)?t:e)}const y0=function e(t){var n=b5(t);function r(i,s){var o=n((i=Vu(i)).r,(s=Vu(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=v0(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=e,r}(1);function v5(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function y5(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w5(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Ku(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function x5(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xa(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function A5(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ku(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp(Xu.source,"g");function S5(e){return function(){return e}}function N5(e){return function(t){return e(t)+""}}function k5(e,t){var n=Xu.lastIndex=Ju.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Xu.exec(e))&&(i=Ju.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Xa(r,i)})),n=Ju.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?N5(l[0].x):S5(t):(t=l.length,function(c){for(var f=0,p;f<t;++f)a[(p=l[f]).i]=p.x(c);return a.join("")})}function Ku(e,t){var n=typeof t,r;return t==null||n==="boolean"?$u(t):(n==="number"?Xa:n==="string"?(r=pi(t))?(t=r,y0):k5:t instanceof pi?y0:t instanceof Date?x5:y5(t)?v5:Array.isArray(t)?w5:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A5:Xa)(e,t)}function L5(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Zu=Math.PI,Qu=2*Zu,Xi=1e-6,_5=Qu-Xi;function w0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function M5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return w0;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let P5=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?w0:M5(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,c=i-n,f=o-t,p=a-n,b=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>Xi)if(!(Math.abs(p*l-c*f)>Xi)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,x=i-a,w=l*l+c*c,A=g*g+x*x,y=Math.sqrt(w),k=Math.sqrt(b),I=s*Math.tan((Zu-Math.acos((w+b-A)/(2*y*k)))/2),U=I/k,D=I/y;Math.abs(U-1)>Xi&&this._append`L${t+U*f},${n+U*p}`,this._append`A${s},${s},0,0,${+(p*g>f*x)},${this._x1=t+D*l},${this._y1=n+D*c}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,f=n+l,p=1^o,b=o?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Xi||Math.abs(this._y1-f)>Xi)&&this._append`L${c},${f}`,r&&(b<0&&(b=b%Qu+Qu),b>_5?this._append`A${r},${r},0,1,${p},${t-a},${n-l}A${r},${r},0,1,${p},${this._x1=c},${this._y1=f}`:b>Xi&&this._append`A${r},${r},0,${+(b>=Zu)},${p},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function tc(e=3){return new P5(+e)}function C5(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ja(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ls(e){return e=Ja(Math.abs(e)),e?e[1]:NaN}function F5(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function E5(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var I5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function To(e){if(!(t=I5.exec(e)))throw new Error("invalid format: "+e);var t;return new ec({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}To.prototype=ec.prototype;function ec(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ec.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T5(e){t:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break t;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var x0;function j5(e,t){var n=Ja(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(x0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ja(e,Math.max(0,t+s-1))[0]}function A0(e,t){var n=Ja(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const S0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:C5,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>A0(e*100,t),r:A0,s:j5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N0(e){return e}var k0=Array.prototype.map,L0=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function O5(e){var t=e.grouping===void 0||e.thousands===void 0?N0:F5(k0.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?N0:E5(k0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(p){p=To(p);var b=p.fill,g=p.align,x=p.sign,w=p.symbol,A=p.zero,y=p.width,k=p.comma,I=p.precision,U=p.trim,D=p.type;D==="n"?(k=!0,D="g"):S0[D]||(I===void 0&&(I=12),U=!0,D="g"),(A||b==="0"&&g==="=")&&(A=!0,b="0",g="=");var Z=w==="$"?n:w==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",W=w==="$"?r:/[%p]/.test(D)?o:"",j=S0[D],X=/[defgprs%]/.test(D);I=I===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function rt(L){var C=Z,q=W,B,at,nt;if(D==="c")q=j(L)+q,L="";else{L=+L;var ht=L<0||1/L<0;if(L=isNaN(L)?l:j(Math.abs(L),I),U&&(L=T5(L)),ht&&+L==0&&x!=="+"&&(ht=!1),C=(ht?x==="("?x:a:x==="-"||x==="("?"":x)+C,q=(D==="s"?L0[8+x0/3]:"")+q+(ht&&x==="("?")":""),X){for(B=-1,at=L.length;++B<at;)if(nt=L.charCodeAt(B),48>nt||nt>57){q=(nt===46?i+L.slice(B+1):L.slice(B))+q,L=L.slice(0,B);break}}}k&&!A&&(L=t(L,1/0));var tt=C.length+L.length+q.length,lt=tt<y?new Array(y-tt+1).join(b):"";switch(k&&A&&(L=t(lt+L,lt.length?y-q.length:1/0),lt=""),g){case"<":L=C+L+q+lt;break;case"=":L=C+lt+L+q;break;case"^":L=lt.slice(0,tt=lt.length>>1)+C+L+q+lt.slice(tt);break;default:L=lt+C+L+q;break}return s(L)}return rt.toString=function(){return p+""},rt}function f(p,b){var g=c((p=To(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Ls(b)/3)))*3,w=Math.pow(10,-x),A=L0[8+x/3];return function(y){return g(w*y)+A}}return{format:c,formatPrefix:f}}var Ka,Za,_0;R5({thousands:",",grouping:[3],currency:["$",""]});function R5(e){return Ka=O5(e),Za=Ka.format,_0=Ka.formatPrefix,Ka}function D5(e){return Math.max(0,-Ls(Math.abs(e)))}function B5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ls(t)/3)))*3-Ls(Math.abs(e)))}function q5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ls(t)-Ls(e))+1}function M0(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function z5(e){return function(){return e}}function U5(e){return+e}var P0=[0,1];function _s(e){return e}function nc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:z5(isNaN(t)?NaN:.5)}function H5(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function W5(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=nc(i,r),s=n(o,s)):(r=nc(r,i),s=n(s,o)),function(a){return s(r(a))}}function G5(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=nc(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=H2(e,a,1,r)-1;return s[l](i[l](a))}}function C0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F0(){var e=P0,t=P0,n=Ku,r,i,s,o=_s,a,l,c;function f(){var b=Math.min(e.length,t.length);return o!==_s&&(o=H5(e[0],e[b-1])),a=b>2?G5:W5,l=c=null,p}function p(b){return b==null||isNaN(b=+b)?s:(l||(l=a(e.map(r),t,n)))(r(o(b)))}return p.invert=function(b){return o(i((c||(c=a(t,e.map(r),Xa)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,U5),f()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),f()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=L5,f()},p.clamp=function(b){return arguments.length?(o=b?!0:_s,f()):o!==_s},p.interpolate=function(b){return arguments.length?(n=b,f()):n},p.unknown=function(b){return arguments.length?(s=b,p):s},function(b,g){return r=b,i=g,f()}}function V5(){return F0()(_s,_s)}function Y5(e,t,n,r){var i=Q2(e,t,n),s;switch(r=To(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=B5(i,o))&&(r.precision=s),_0(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=q5(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=D5(i))&&(r.precision=s-(r.type==="%")*2);break}}return Za(r)}function $5(e){var t=e.domain;return e.ticks=function(n){var r=t();return Hu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Y5(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,f=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);f-- >0;){if(c=Wu(o,a,n),c===l)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function rc(){var e=V5();return e.copy=function(){return C0(e,rc())},M0.apply(e,arguments),$5(e)}function X5(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function E0(e){return Math.log(e)}function I0(e){return Math.exp(e)}function J5(e){return-Math.log(-e)}function K5(e){return-Math.exp(-e)}function Z5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Q5(e){return e===10?Z5:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tg(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T0(e){return(t,n)=>-e(-t,n)}function eg(e){const t=e(E0,I0),n=t.domain;let r=10,i,s;function o(){return i=tg(r),s=Q5(r),n()[0]<0?(i=T0(i),s=T0(s),e(J5,K5)):e(E0,I0),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let c=l[0],f=l[l.length-1];const p=f<c;p&&([c,f]=[f,c]);let b=i(c),g=i(f),x,w;const A=a==null?10:+a;let y=[];if(!(r%1)&&g-b<A){if(b=Math.floor(b),g=Math.ceil(g),c>0){for(;b<=g;++b)for(x=1;x<r;++x)if(w=b<0?x/s(-b):x*s(b),!(w<c)){if(w>f)break;y.push(w)}}else for(;b<=g;++b)for(x=r-1;x>=1;--x)if(w=b>0?x/s(-b):x*s(b),!(w<c)){if(w>f)break;y.push(w)}y.length*2<A&&(y=Hu(c,f,A))}else y=Hu(b,g,Math.min(g-b,A)).map(s);return p?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=To(l)).precision==null&&(l.trim=!0),l=Za(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=c?l(f):""}},t.nice=()=>n(X5(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function j0(){const e=eg(F0()).domain([1,10]);return e.copy=()=>C0(e,j0()).base(e.base()),M0.apply(e,arguments),e}function jo(e,t,n){this.k=e,this.x=t,this.y=n}jo.prototype={constructor:jo,scale:function(e){return e===1?this:new jo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new jo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},jo.prototype;function ng(e,t){return{ranks:e.ranks,samples:e.samples.filter(n=>n.patient==t),phylogeny:e.phylogeny.filter(n=>n.patient==t),compositions:e.compositions.filter(n=>n.patient==t)}}function rg(e){var r,i,s;if(!((r=e.samples)!=null&&r.length))throw new Error("No samples defined");if(!((i=e.phylogeny)!=null&&i.length))throw new Error("No phylogeny defined");if(!((s=e.compositions)!=null&&s.length))throw new Error("No compositions defined");const t=new Set(e.phylogeny.map(o=>o.subclone));if(t.size!==e.phylogeny.length)throw new Error("Duplicate subclones in phylogeny");const n=new Set(e.samples.map(o=>o.sample));for(const o of e.compositions){if(!n.has(o.sample))throw new Error(`Invalid composition. Unknown sample: ${o.sample}`);if(!t.has(o.subclone))throw new Error(`Invalid composition. Unknown sample: ${o.subclone}`);return!0}}const O0=(e,t)=>{if(typeof e=="number"){if(t===3)return{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|e&240)/255,b:(e&15|e<<4&240)/255};if(t===4)return{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|e&240)/255,alpha:(e&15|e<<4&240)/255};if(t===6)return{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(e&255)/255};if(t===8)return{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(e&255)/255}}},ig={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sg=e=>O0(ig[e.toLowerCase()],6),og=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,ag=e=>{let t;return(t=e.match(og))?O0(parseInt(t[1],16),t[1].length):void 0},gi="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",Oo=`${gi}%`,ic=`(?:${gi}%|${gi})`,lg=`(?:${gi}(deg|grad|rad|turn)|${gi})`,Ms="\\s*,\\s*",ug=new RegExp(`^rgba?\\(\\s*${gi}${Ms}${gi}${Ms}${gi}\\s*(?:,\\s*${ic}\\s*)?\\)$`),cg=new RegExp(`^rgba?\\(\\s*${Oo}${Ms}${Oo}${Ms}${Oo}\\s*(?:,\\s*${ic}\\s*)?\\)$`),hg=e=>{let t={mode:"rgb"},n;if(n=e.match(ug))n[1]!==void 0&&(t.r=n[1]/255),n[2]!==void 0&&(t.g=n[2]/255),n[3]!==void 0&&(t.b=n[3]/255);else if(n=e.match(cg))n[1]!==void 0&&(t.r=n[1]/100),n[2]!==void 0&&(t.g=n[2]/100),n[3]!==void 0&&(t.b=n[3]/100);else return;return n[4]!==void 0?t.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(t.alpha=Math.max(0,Math.min(1,+n[5]))),t},Qa=(e,t)=>e===void 0?void 0:typeof e!="object"?wg(e):e.mode!==void 0?e:t?{...e,mode:t}:void 0,$r=(e="rgb")=>t=>(t=Qa(t,e))!==void 0?t.mode===e?t:Cr[t.mode][e]?Cr[t.mode][e](t):e==="rgb"?Cr[t.mode].rgb(t):Cr.rgb[e](Cr[t.mode].rgb(t)):void 0,Cr={},R0={},tl=[],D0={},fg=e=>e,ve=e=>(Cr[e.mode]={...Cr[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach(t=>{Cr[t]||(Cr[t]={}),Cr[t][e.mode]=e.fromMode[t]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(t=>{if(e.ranges[t]===void 0&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);typeof e.interpolate[t]=="function"&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=fg)}),R0[e.mode]=e,(e.parse||[]).forEach(t=>{dg(t,e.mode)}),$r(e.mode)),Ro=e=>R0[e],dg=(e,t)=>{if(typeof e=="string"){if(!t)throw new Error("'mode' required when 'parser' is a string");D0[e]=t}else typeof e=="function"&&tl.indexOf(e)<0&&tl.push(e)},sc=/[^\x00-\x7F]|[a-zA-Z_]/,pg=/[^\x00-\x7F]|[-\w]/,St={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let Gt=0;function el(e){let t=e[Gt],n=e[Gt+1];return t==="-"||t==="+"?/\d/.test(n)||n==="."&&/\d/.test(e[Gt+2]):t==="."?/\d/.test(n):/\d/.test(t)}function oc(e){if(Gt>=e.length)return!1;let t=e[Gt];if(sc.test(t))return!0;if(t==="-"){if(e.length-Gt<2)return!1;let n=e[Gt+1];return!!(n==="-"||sc.test(n))}return!1}const gg={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function Do(e){let t="";if((e[Gt]==="-"||e[Gt]==="+")&&(t+=e[Gt++]),t+=nl(e),e[Gt]==="."&&/\d/.test(e[Gt+1])&&(t+=e[Gt++]+nl(e)),(e[Gt]==="e"||e[Gt]==="E")&&((e[Gt+1]==="-"||e[Gt+1]==="+")&&/\d/.test(e[Gt+2])?t+=e[Gt++]+e[Gt++]+nl(e):/\d/.test(e[Gt+1])&&(t+=e[Gt++]+nl(e))),oc(e)){let n=rl(e);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:St.Hue,value:t*gg[n]}:void 0}return e[Gt]==="%"?(Gt++,{type:St.Percentage,value:+t}):{type:St.Number,value:+t}}function nl(e){let t="";for(;/\d/.test(e[Gt]);)t+=e[Gt++];return t}function rl(e){let t="";for(;Gt<e.length&&pg.test(e[Gt]);)t+=e[Gt++];return t}function mg(e){let t=rl(e);return e[Gt]==="("?(Gt++,{type:St.Function,value:t}):t==="none"?{type:St.None,value:void 0}:{type:St.Ident,value:t}}function bg(e=""){let t=e.trim(),n=[],r;for(Gt=0;Gt<t.length;){if(r=t[Gt++],r===`
`||r==="	"||r===" "){for(;Gt<t.length&&(t[Gt]===`
`||t[Gt]==="	"||t[Gt]===" ");)Gt++;continue}if(r===",")return;if(r===")"){n.push({type:St.ParenClose});continue}if(r==="+"){if(Gt--,el(t)){n.push(Do(t));continue}return}if(r==="-"){if(Gt--,el(t)){n.push(Do(t));continue}if(oc(t)){n.push({type:St.Ident,value:rl(t)});continue}return}if(r==="."){if(Gt--,el(t)){n.push(Do(t));continue}return}if(r==="/"){for(;Gt<t.length&&(t[Gt]===`
`||t[Gt]==="	"||t[Gt]===" ");)Gt++;let i;if(el(t)&&(i=Do(t),i.type!==St.Hue)){n.push({type:St.Alpha,value:i});continue}if(oc(t)&&rl(t)==="none"){n.push({type:St.Alpha,value:{type:St.None,value:void 0}});continue}return}if(/\d/.test(r)){Gt--,n.push(Do(t));continue}if(sc.test(r)){Gt--,n.push(mg(t));continue}return}return n}function vg(e){e._i=0;let t=e[e._i++];if(!t||t.type!==St.Function||t.value!=="color"||(t=e[e._i++],t.type!==St.Ident))return;const n=D0[t.value];if(!n)return;const r={mode:n},i=B0(e,!1);if(!i)return;const s=Ro(n).channels;for(let o=0,a,l;o<s.length;o++)a=i[o],l=s[o],a.type!==St.None&&(r[l]=a.type===St.Number?a.value:a.value/100,l==="alpha"&&(r[l]=Math.max(0,Math.min(1,r[l]))));return r}function B0(e,t){const n=[];let r;for(;e._i<e.length;){if(r=e[e._i++],r.type===St.None||r.type===St.Number||r.type===St.Alpha||r.type===St.Percentage||t&&r.type===St.Hue){n.push(r);continue}if(r.type===St.ParenClose){if(e._i<e.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==St.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:St.None,value:void 0}),n.every(i=>i.type!==St.Alpha)?n:void 0}}function yg(e,t){e._i=0;let n=e[e._i++];if(!n||n.type!==St.Function)return;let r=B0(e,t);if(r)return r.unshift(n.value),r}const wg=e=>{if(typeof e!="string")return;const t=bg(e),n=t?yg(t,!0):void 0;let r,i=0,s=tl.length;for(;i<s;)if((r=tl[i++](e,n))!==void 0)return r;return t?vg(t):void 0};function xg(e,t){if(!t||t[0]!=="rgb"&&t[0]!=="rgba")return;const n={mode:"rgb"},[,r,i,s,o]=t;if(!(r.type===St.Hue||i.type===St.Hue||s.type===St.Hue))return r.type!==St.None&&(n.r=r.type===St.Number?r.value/255:r.value/100),i.type!==St.None&&(n.g=i.type===St.Number?i.value/255:i.value/100),s.type!==St.None&&(n.b=s.type===St.Number?s.value/255:s.value/100),o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const Ag=e=>e==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,Sg=(e,t,n)=>e+n*(t-e),Ng=e=>{let t=[];for(let n=0;n<e.length-1;n++){let r=e[n],i=e[n+1];r===void 0&&i===void 0?t.push(void 0):r!==void 0&&i!==void 0?t.push([r,i]):t.push(r!==void 0?[r,r]:[i,i])}return t},Pt=(e=>t=>{let n=Ng(t);return r=>{let i=r*n.length,s=r>=1?n.length-1:Math.max(Math.floor(i),0),o=n[s];return o===void 0?void 0:e(o[0],o[1],i-s)}})(Sg),an=e=>{let t=!1,n=e.map(r=>r!==void 0?(t=!0,r):1);return t?n:e},Ps={mode:"rgb",channels:["r","g","b","alpha"],parse:[xg,ag,hg,sg,Ag,"srgb"],serialize:"srgb",interpolate:{r:Pt,g:Pt,b:Pt,alpha:{use:Pt,fixup:an}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},ac=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),q0=e=>{let t=ac(e.r),n=ac(e.g),r=ac(e.b),i={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*n+.1882286462349947*r,y:.297344975250536*t+.6273635662554661*n+.0752914584939979*r,z:.0270313613864123*t+.0706888525358272*n+.9913375368376386*r};return e.alpha!==void 0&&(i.alpha=e.alpha),i},lc=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),z0=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"a98",r:lc(e*2.0415879038107465-t*.5650069742788597-.3447313507783297*n),g:lc(e*-.9692436362808798+t*1.8759675015077206+.0415550574071756*n),b:lc(e*.0134442806320312-t*.1183623922310184+1.0151749943912058*n)};return r!==void 0&&(i.alpha=r),i},uc=(e=0)=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},Cs=({r:e,g:t,b:n,alpha:r})=>{let i={mode:"lrgb",r:uc(e),g:uc(t),b:uc(n)};return r!==void 0&&(i.alpha=r),i},Ji=e=>{let{r:t,g:n,b:r,alpha:i}=Cs(e),s={mode:"xyz65",x:.4123907992659593*t+.357584339383878*n+.1804807884018343*r,y:.2126390058715102*t+.715168678767756*n+.0721923153607337*r,z:.0193308187155918*t+.119194779794626*n+.9505321522496607*r};return i!==void 0&&(s.alpha=i),s},cc=(e=0)=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):e*12.92},Fs=({r:e,g:t,b:n,alpha:r},i="rgb")=>{let s={mode:i,r:cc(e),g:cc(t),b:cc(n)};return r!==void 0&&(s.alpha=r),s},Ki=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Fs({r:e*3.2409699419045226-t*1.537383177570094-.4986107602930034*n,g:e*-.9692436362808796+t*1.8759675015077204+.0415550574071756*n,b:e*.0556300796969936-t*.2039769588889765+1.0569715142428784*n});return r!==void 0&&(i.alpha=r),i},kg={...Ps,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>z0(Ji(e)),xyz65:z0},toMode:{rgb:e=>Ki(q0(e)),xyz65:q0}},bn=e=>(e=e%360)<0?e+360:e,Lg=(e,t)=>e.map((n,r,i)=>{if(n===void 0)return n;let s=bn(n);return r===0||e[r-1]===void 0?s:t(s-bn(i[r-1]))}).reduce((n,r)=>!n.length||r===void 0||n[n.length-1]===void 0?(n.push(r),n):(n.push(r+n[n.length-1]),n),[]),Xr=e=>Lg(e,t=>Math.abs(t)<=180?t:t-360*Math.sign(t)),hn=[-.14861,1.78277,-.29227,-.90649,1.97294,0],_g=Math.PI/180,Mg=180/Math.PI;let U0=hn[3]*hn[4],H0=hn[1]*hn[4],W0=hn[1]*hn[2]-hn[0]*hn[3];const Pg=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(W0*n+e*U0-t*H0)/(W0+U0-H0),s=n-i,o=(hn[4]*(t-i)-hn[2]*s)/hn[3],a={mode:"cubehelix",l:i,s:i===0||i===1?void 0:Math.sqrt(s*s+o*o)/(hn[4]*i*(1-i))};return a.s&&(a.h=Math.atan2(o,s)*Mg-120),r!==void 0&&(a.alpha=r),a},Cg=({h:e,s:t,l:n,alpha:r})=>{let i={mode:"rgb"};e=(e===void 0?0:e+120)*_g,n===void 0&&(n=0);let s=t===void 0?0:t*n*(1-n),o=Math.cos(e),a=Math.sin(e);return i.r=n+s*(hn[0]*o+hn[1]*a),i.g=n+s*(hn[2]*o+hn[3]*a),i.b=n+s*(hn[4]*o+hn[5]*a),r!==void 0&&(i.alpha=r),i},il=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.s||!t.s)return 0;let n=bn(e.h),r=bn(t.h),i=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*i},Fg=(e,t)=>{if(e.h===void 0||t.h===void 0)return 0;let n=bn(e.h),r=bn(t.h);return Math.abs(r-n)>180?n-(r-360*Math.sign(r-n)):r-n},sl=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.c||!t.c)return 0;let n=bn(e.h),r=bn(t.h),i=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*i},Eg=(e="rgb",t=[1,1,1,0])=>{let n=Ro(e),r=n.channels,i=n.difference,s=$r(e);return(o,a)=>{let l=s(o),c=s(a);return Math.sqrt(r.reduce((f,p,b)=>{let g=i[p]?i[p](l,c):l[p]-c[p];return f+(t[b]||0)*Math.pow(isNaN(g)?0:g,2)},0))}},Jr=e=>{let t=e.reduce((r,i)=>{if(i!==void 0){let s=i*Math.PI/180;r.sin+=Math.sin(s),r.cos+=Math.cos(s)}return r},{sin:0,cos:0}),n=Math.atan2(t.sin,t.cos)*180/Math.PI;return n<0?360+n:n},Ig={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:Pg},toMode:{rgb:Cg},interpolate:{h:{use:Pt,fixup:Xr},s:Pt,l:Pt,alpha:{use:Pt,fixup:an}},difference:{h:il},average:{h:Jr}},mi=({l:e,a:t,b:n,alpha:r},i="lch")=>{t===void 0&&(t=0),n===void 0&&(n=0);let s=Math.sqrt(t*t+n*n),o={mode:i,l:e,c:s};return s&&(o.h=bn(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(o.alpha=r),o},bi=({l:e,c:t,h:n,alpha:r},i="lab")=>{n===void 0&&(n=0);let s={mode:i,l:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(s.alpha=r),s},G0=Math.pow(29,3)/Math.pow(3,3),V0=Math.pow(6,3)/Math.pow(29,3),en={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},Es={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let hc=e=>Math.pow(e,3)>V0?Math.pow(e,3):(116*e-16)/G0;const Y0=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(e+16)/116,s=t/500+i,o=i-n/200,a={mode:"xyz65",x:hc(s)*Es.X,y:hc(i)*Es.Y,z:hc(o)*Es.Z};return r!==void 0&&(a.alpha=r),a},ol=e=>Ki(Y0(e)),fc=e=>e>V0?Math.cbrt(e):(G0*e+16)/116,$0=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=fc(e/Es.X),s=fc(t/Es.Y),o=fc(n/Es.Z),a={mode:"lab65",l:116*s-16,a:500*(i-s),b:200*(s-o)};return r!==void 0&&(a.alpha=r),a},al=e=>{let t=$0(Ji(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},ll=1,X0=1,Bo=26/180*Math.PI,ul=Math.cos(Bo),cl=Math.sin(Bo),J0=100/Math.log(139/100),dc=({l:e,c:t,h:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"lab65",l:(Math.exp(e*ll/J0)-1)/.0039},s=(Math.exp(.0435*t*X0*ll)-1)/.075,o=s*Math.cos(n/180*Math.PI-Bo),a=s*Math.sin(n/180*Math.PI-Bo);return i.a=o*ul-a/.83*cl,i.b=o*cl+a/.83*ul,r!==void 0&&(i.alpha=r),i},pc=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=t*ul+n*cl,s=.83*(n*ul-t*cl),o=Math.sqrt(i*i+s*s),a={mode:"dlch",l:J0/ll*Math.log(1+.0039*e),c:Math.log(1+.075*o)/(.0435*X0*ll)};return a.c&&(a.h=bn((Math.atan2(s,i)+Bo)/Math.PI*180)),r!==void 0&&(a.alpha=r),a},K0=e=>dc(mi(e,"dlch")),Z0=e=>bi(pc(e),"dlab"),Tg={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:K0,rgb:e=>ol(K0(e))},fromMode:{lab65:Z0,rgb:e=>Z0(al(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:Pt,a:Pt,b:Pt,alpha:{use:Pt,fixup:an}}},jg={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:dc,dlab:e=>bi(e,"dlab"),rgb:e=>ol(dc(e))},fromMode:{lab65:pc,dlab:e=>mi(e,"dlch"),rgb:e=>pc(al(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:Pt,c:Pt,h:{use:Pt,fixup:Xr},alpha:{use:Pt,fixup:an}},difference:{h:sl},average:{h:Jr}};function Og({h:e,s:t,i:n,alpha:r}){e=bn(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.abs(e/60%2-1),s;switch(Math.floor(e/60)){case 0:s={r:n*(1+t*(3/(2-i)-1)),g:n*(1+t*(3*(1-i)/(2-i)-1)),b:n*(1-t)};break;case 1:s={r:n*(1+t*(3*(1-i)/(2-i)-1)),g:n*(1+t*(3/(2-i)-1)),b:n*(1-t)};break;case 2:s={r:n*(1-t),g:n*(1+t*(3/(2-i)-1)),b:n*(1+t*(3*(1-i)/(2-i)-1))};break;case 3:s={r:n*(1-t),g:n*(1+t*(3*(1-i)/(2-i)-1)),b:n*(1+t*(3/(2-i)-1))};break;case 4:s={r:n*(1+t*(3*(1-i)/(2-i)-1)),g:n*(1-t),b:n*(1+t*(3/(2-i)-1))};break;case 5:s={r:n*(1+t*(3/(2-i)-1)),g:n*(1-t),b:n*(1+t*(3*(1-i)/(2-i)-1))};break;default:s={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return s.mode="rgb",r!==void 0&&(s.alpha=r),s}function Rg({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.max(e,t,n),s=Math.min(e,t,n),o={mode:"hsi",s:e+t+n===0?0:1-3*s/(e+t+n),i:(e+t+n)/3};return i-s!==0&&(o.h=(i===e?(t-n)/(i-s)+(t<n)*6:i===t?(n-e)/(i-s)+2:(e-t)/(i-s)+4)*60),r!==void 0&&(o.alpha=r),o}const Dg={mode:"hsi",toMode:{rgb:Og},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:Rg},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Pt,fixup:Xr},s:Pt,i:Pt,alpha:{use:Pt,fixup:an}},difference:{h:il},average:{h:Jr}};function Bg({h:e,s:t,l:n,alpha:r}){e=bn(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let i=n+t*(n<.5?n:1-n),s=i-(i-n)*2*Math.abs(e/60%2-1),o;switch(Math.floor(e/60)){case 0:o={r:i,g:s,b:2*n-i};break;case 1:o={r:s,g:i,b:2*n-i};break;case 2:o={r:2*n-i,g:i,b:s};break;case 3:o={r:2*n-i,g:s,b:i};break;case 4:o={r:s,g:2*n-i,b:i};break;case 5:o={r:i,g:2*n-i,b:s};break;default:o={r:2*n-i,g:2*n-i,b:2*n-i}}return o.mode="rgb",r!==void 0&&(o.alpha=r),o}function qg({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.max(e,t,n),s=Math.min(e,t,n),o={mode:"hsl",s:i===s?0:(i-s)/(1-Math.abs(i+s-1)),l:.5*(i+s)};return i-s!==0&&(o.h=(i===e?(t-n)/(i-s)+(t<n)*6:i===t?(n-e)/(i-s)+2:(e-t)/(i-s)+4)*60),r!==void 0&&(o.alpha=r),o}const zg=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return e*360}},Ug=new RegExp(`^hsla?\\(\\s*${lg}${Ms}${Oo}${Ms}${Oo}\\s*(?:,\\s*${ic}\\s*)?\\)$`),Hg=e=>{let t=e.match(Ug);if(!t)return;let n={mode:"hsl"};return t[3]!==void 0?n.h=+t[3]:t[1]!==void 0&&t[2]!==void 0&&(n.h=zg(t[1],t[2])),t[4]!==void 0&&(n.s=Math.min(Math.max(0,t[4]/100),1)),t[5]!==void 0&&(n.l=Math.min(Math.max(0,t[5]/100),1)),t[6]!==void 0?n.alpha=Math.max(0,Math.min(1,t[6]/100)):t[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+t[7]))),n};function Wg(e,t){if(!t||t[0]!=="hsl"&&t[0]!=="hsla")return;const n={mode:"hsl"},[,r,i,s,o]=t;if(r.type!==St.None){if(r.type===St.Percentage)return;n.h=r.value}if(i.type!==St.None){if(i.type===St.Hue)return;n.s=i.value/100}if(s.type!==St.None){if(s.type===St.Hue)return;n.l=s.value/100}return o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const Q0={mode:"hsl",toMode:{rgb:Bg},fromMode:{rgb:qg},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Wg,Hg],serialize:e=>`hsl(${e.h!==void 0?e.h:"none"} ${e.s!==void 0?e.s*100+"%":"none"} ${e.l!==void 0?e.l*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:Pt,fixup:Xr},s:Pt,l:Pt,alpha:{use:Pt,fixup:an}},difference:{h:il},average:{h:Jr}};function td({h:e,s:t,v:n,alpha:r}){e=bn(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.abs(e/60%2-1),s;switch(Math.floor(e/60)){case 0:s={r:n,g:n*(1-t*i),b:n*(1-t)};break;case 1:s={r:n*(1-t*i),g:n,b:n*(1-t)};break;case 2:s={r:n*(1-t),g:n,b:n*(1-t*i)};break;case 3:s={r:n*(1-t),g:n*(1-t*i),b:n};break;case 4:s={r:n*(1-t*i),g:n*(1-t),b:n};break;case 5:s={r:n,g:n*(1-t),b:n*(1-t*i)};break;default:s={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return s.mode="rgb",r!==void 0&&(s.alpha=r),s}function ed({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.max(e,t,n),s=Math.min(e,t,n),o={mode:"hsv",s:i===0?0:1-s/i,v:i};return i-s!==0&&(o.h=(i===e?(t-n)/(i-s)+(t<n)*6:i===t?(n-e)/(i-s)+2:(e-t)/(i-s)+4)*60),r!==void 0&&(o.alpha=r),o}const nd={mode:"hsv",toMode:{rgb:td},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:ed},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Pt,fixup:Xr},s:Pt,v:Pt,alpha:{use:Pt,fixup:an}},difference:{h:il},average:{h:Jr}};function Gg({h:e,w:t,b:n,alpha:r}){if(t===void 0&&(t=0),n===void 0&&(n=0),t+n>1){let i=t+n;t/=i,n/=i}return td({h:e,s:n===1?1:1-t/(1-n),v:1-n,alpha:r})}function Vg(e){let t=ed(e);if(t===void 0)return;let n=t.s!==void 0?t.s:0,r=t.v!==void 0?t.v:0,i={mode:"hwb",w:(1-n)*r,b:1-r};return t.h!==void 0&&(i.h=t.h),t.alpha!==void 0&&(i.alpha=t.alpha),i}function Yg(e,t){if(!t||t[0]!=="hwb")return;const n={mode:"hwb"},[,r,i,s,o]=t;if(r.type!==St.None){if(r.type===St.Percentage)return;n.h=r.value}if(i.type!==St.None){if(i.type===St.Hue)return;n.w=i.value/100}if(s.type!==St.None){if(s.type===St.Hue)return;n.b=s.value/100}return o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const $g={mode:"hwb",toMode:{rgb:Gg},fromMode:{rgb:Vg},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[Yg],serialize:e=>`hwb(${e.h!==void 0?e.h:"none"} ${e.w!==void 0?e.w*100+"%":"none"} ${e.b!==void 0?e.b*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:Pt,fixup:Xr},w:Pt,b:Pt,alpha:{use:Pt,fixup:an}},difference:{h:Fg},average:{h:Jr}},rd=203,hl=.1593017578125,id=78.84375,fl=.8359375,dl=18.8515625,pl=18.6875;function gc(e){if(e<0)return 0;const t=Math.pow(e,1/id);return 1e4*Math.pow(Math.max(0,t-fl)/(dl-pl*t),1/hl)}function mc(e){if(e<0)return 0;const t=Math.pow(e/1e4,hl);return Math.pow((fl+dl*t)/(1+pl*t),id)}const bc=e=>Math.max(e/rd,0),sd=({i:e,t,p:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i=gc(e+.008609037037932761*t+.11102962500302593*n),s=gc(e-.00860903703793275*t-.11102962500302599*n),o=gc(e+.5600313357106791*t-.32062717498731885*n),a={mode:"xyz65",x:bc(2.070152218389422*i-1.3263473389671556*s+.2066510476294051*o),y:bc(.3647385209748074*i+.680566024947227*s-.0453045459220346*o),z:bc(-.049747207535812*i-.0492609666966138*s+1.1880659249923042*o)};return r!==void 0&&(a.alpha=r),a},vc=(e=0)=>Math.max(e*rd,0),od=({x:e,y:t,z:n,alpha:r})=>{const i=vc(e),s=vc(t),o=vc(n),a=mc(.3592832590121217*i+.6976051147779502*s-.0358915932320289*o),l=mc(-.1920808463704995*i+1.1004767970374323*s+.0753748658519118*o),c=mc(.0070797844607477*i+.0748396662186366*s+.8433265453898765*o),f=.5*a+.5*l,p=1.61376953125*a-3.323486328125*l+1.709716796875*c,b=4.378173828125*a-4.24560546875*l-.132568359375*c,g={mode:"itp",i:f,t:p,p:b};return r!==void 0&&(g.alpha=r),g},Xg={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:sd,rgb:e=>Ki(sd(e))},fromMode:{xyz65:od,rgb:e=>od(Ji(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:Pt,t:Pt,p:Pt,alpha:{use:Pt,fixup:an}}},Jg=134.03437499999998,Kg=16295499532821565e-27,yc=e=>{if(e<0)return 0;let t=Math.pow(e/1e4,hl);return Math.pow((fl+dl*t)/(1+pl*t),Jg)},wc=(e=0)=>Math.max(e*203,0),ad=({x:e,y:t,z:n,alpha:r})=>{e=wc(e),t=wc(t),n=wc(n);let i=1.15*e-.15*n,s=.66*t+.34*e,o=yc(.41478972*i+.579999*s+.014648*n),a=yc(-.20151*i+1.120649*s+.0531008*n),l=yc(-.0166008*i+.2648*s+.6684799*n),c=(o+a)/2,f={mode:"jab",j:.44*c/(1-.56*c)-Kg,a:3.524*o-4.066708*a+.542708*l,b:.199076*o+1.096799*a-1.295875*l};return r!==void 0&&(f.alpha=r),f},Zg=134.03437499999998,ld=16295499532821565e-27,xc=e=>{if(e<0)return 0;let t=Math.pow(e,1/Zg);return 1e4*Math.pow((fl-t)/(pl*t-dl),1/hl)},Ac=e=>e/203,ud=({j:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(e+ld)/(.44+.56*(e+ld)),s=xc(i+.13860504*t+.058047316*n),o=xc(i-.13860504*t-.058047316*n),a=xc(i-.096019242*t-.8118919*n),l={mode:"xyz65",x:Ac(1.661373024652174*s-.914523081304348*o+.23136208173913045*a),y:Ac(-.3250758611844533*s+1.571847026732543*o-.21825383453227928*a),z:Ac(-.090982811*s-.31272829*o+1.5227666*a)};return r!==void 0&&(l.alpha=r),l},cd=e=>{let t=ad(Ji(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},hd=e=>Ki(ud(e)),Qg={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:cd,xyz65:ad},toMode:{rgb:hd,xyz65:ud},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:Pt,a:Pt,b:Pt,alpha:{use:Pt,fixup:an}}},fd=({j:e,a:t,b:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.sqrt(t*t+n*n),s={mode:"jch",j:e,c:i};return i&&(s.h=bn(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(s.alpha=r),s},dd=({j:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let i={mode:"jab",j:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},tm={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:dd,rgb:e=>hd(dd(e))},fromMode:{rgb:e=>fd(cd(e)),jab:fd},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:Pt,fixup:Xr},c:Pt,j:Pt,alpha:{use:Pt,fixup:an}},difference:{h:sl},average:{h:Jr}},gl=Math.pow(29,3)/Math.pow(3,3),Sc=Math.pow(6,3)/Math.pow(29,3);let Nc=e=>Math.pow(e,3)>Sc?Math.pow(e,3):(116*e-16)/gl;const kc=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=(e+16)/116,s=t/500+i,o=i-n/200,a={mode:"xyz50",x:Nc(s)*en.X,y:Nc(i)*en.Y,z:Nc(o)*en.Z};return r!==void 0&&(a.alpha=r),a},qo=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Fs({r:e*3.1341359569958707-t*1.6173863321612538-.4906619460083532*n,g:e*-.978795502912089+t*1.916254567259524+.03344273116131949*n,b:e*.07195537988411677-t*.2289768264158322+1.405386058324125*n});return r!==void 0&&(i.alpha=r),i},pd=e=>qo(kc(e)),zo=e=>{let{r:t,g:n,b:r,alpha:i}=Cs(e),s={mode:"xyz50",x:.436065742824811*t+.3851514688337912*n+.14307845442264197*r,y:.22249319175623702*t+.7168870538238823*n+.06061979053616537*r,z:.013923904500943465*t+.09708128566574634*n+.7140993584005155*r};return i!==void 0&&(s.alpha=i),s},Lc=e=>e>Sc?Math.cbrt(e):(gl*e+16)/116,_c=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Lc(e/en.X),s=Lc(t/en.Y),o=Lc(n/en.Z),a={mode:"lab",l:116*s-16,a:500*(i-s),b:200*(s-o)};return r!==void 0&&(a.alpha=r),a},gd=e=>{let t=_c(zo(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t};function em(e,t){if(!t||t[0]!=="lab")return;const n={mode:"lab"},[,r,i,s,o]=t;if(!(r.type===St.Hue||i.type===St.Hue||s.type===St.Hue))return r.type!==St.None&&(n.l=Math.min(Math.max(0,r.value),100)),i.type!==St.None&&(n.a=i.type===St.Number?i.value:i.value*125/100),s.type!==St.None&&(n.b=s.type===St.Number?s.value:s.value*125/100),o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const Mc={mode:"lab",toMode:{xyz50:kc,rgb:pd},fromMode:{xyz50:_c,rgb:gd},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[em],serialize:e=>`lab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:Pt,a:Pt,b:Pt,alpha:{use:Pt,fixup:an}}},nm={...Mc,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Y0,rgb:ol},fromMode:{xyz65:$0,rgb:al},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}};function rm(e,t){if(!t||t[0]!=="lch")return;const n={mode:"lch"},[,r,i,s,o]=t;if(r.type!==St.None){if(r.type===St.Hue)return;n.l=Math.min(Math.max(0,r.value),100)}if(i.type!==St.None&&(n.c=Math.max(0,i.type===St.Number?i.value:i.value*150/100)),s.type!==St.None){if(s.type===St.Percentage)return;n.h=s.value}return o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const Pc={mode:"lch",toMode:{lab:bi,rgb:e=>pd(bi(e))},fromMode:{rgb:e=>mi(gd(e)),lab:mi},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[rm],serialize:e=>`lch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:Pt,fixup:Xr},c:Pt,l:Pt,alpha:{use:Pt,fixup:an}},difference:{h:sl},average:{h:Jr}},im={...Pc,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>bi(e,"lab65"),rgb:e=>ol(bi(e,"lab65"))},fromMode:{rgb:e=>mi(al(e),"lch65"),lab65:e=>mi(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},md=({l:e,u:t,v:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.sqrt(t*t+n*n),s={mode:"lchuv",l:e,c:i};return i&&(s.h=bn(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(s.alpha=r),s},bd=({l:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let i={mode:"luv",l:e,u:t?t*Math.cos(n/180*Math.PI):0,v:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},vd=(e,t,n)=>4*e/(e+15*t+3*n),yd=(e,t,n)=>9*t/(e+15*t+3*n),sm=vd(en.X,en.Y,en.Z),om=yd(en.X,en.Y,en.Z),am=e=>e<=Sc?gl*e:116*Math.cbrt(e)-16,Cc=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=am(t/en.Y),s=vd(e,t,n),o=yd(e,t,n);!isFinite(s)||!isFinite(o)?i=s=o=0:(s=13*i*(s-sm),o=13*i*(o-om));let a={mode:"luv",l:i,u:s,v:o};return r!==void 0&&(a.alpha=r),a},lm=(e,t,n)=>4*e/(e+15*t+3*n),um=(e,t,n)=>9*t/(e+15*t+3*n),cm=lm(en.X,en.Y,en.Z),hm=um(en.X,en.Y,en.Z),Fc=({l:e,u:t,v:n,alpha:r})=>{if(e===void 0&&(e=0),e===0)return{mode:"xyz50",x:0,y:0,z:0};t===void 0&&(t=0),n===void 0&&(n=0);let i=t/(13*e)+cm,s=n/(13*e)+hm,o=en.Y*(e<=8?e/gl:Math.pow((e+16)/116,3)),a=o*(9*i)/(4*s),l=o*(12-3*i-20*s)/(4*s),c={mode:"xyz50",x:a,y:o,z:l};return r!==void 0&&(c.alpha=r),c},fm={mode:"lchuv",toMode:{luv:bd,rgb:e=>qo(Fc(bd(e)))},fromMode:{rgb:e=>md(Cc(zo(e))),luv:md},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:Pt,fixup:Xr},c:Pt,l:Pt,alpha:{use:Pt,fixup:an}},difference:{h:sl},average:{h:Jr}},dm={...Ps,mode:"lrgb",toMode:{rgb:Fs},fromMode:{rgb:Cs},parse:["srgb-linear"],serialize:"srgb-linear"},pm={mode:"luv",toMode:{xyz50:Fc,rgb:e=>qo(Fc(e))},fromMode:{xyz50:Cc,rgb:e=>Cc(zo(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:Pt,u:Pt,v:Pt,alpha:{use:Pt,fixup:an}}},wd=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.cbrt(.41222147079999993*e+.5363325363*t+.0514459929*n),s=Math.cbrt(.2119034981999999*e+.6806995450999999*t+.1073969566*n),o=Math.cbrt(.08830246189999998*e+.2817188376*t+.6299787005000002*n),a={mode:"oklab",l:.2104542553*i+.793617785*s-.0040720468*o,a:1.9779984951*i-2.428592205*s+.4505937099*o,b:.0259040371*i+.7827717662*s-.808675766*o};return r!==void 0&&(a.alpha=r),a},ml=e=>{let t=wd(Cs(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Uo=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.pow(e*.9999999984505198+.39633779217376786*t+.2158037580607588*n,3),s=Math.pow(e*1.0000000088817609-.10556134232365635*t-.06385417477170591*n,3),o=Math.pow(e*1.0000000546724108-.08948418209496575*t-1.2914855378640917*n,3),a={mode:"lrgb",r:4.076741661347994*i-3.307711590408193*s+.230969928729428*o,g:-1.2684380040921763*i+2.6097574006633715*s-.3413193963102197*o,b:-.004196086541837188*i-.7034186144594493*s+1.7076147009309444*o};return r!==void 0&&(a.alpha=r),a},bl=e=>Fs(Uo(e));function Ec(e){const r=1.170873786407767;return .5*(r*e-.206+Math.sqrt((r*e-.206)*(r*e-.206)+4*.03*r*e))}function vl(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function gm(e,t){let n,r,i,s,o,a,l,c;-1.88170328*e-.80936493*t>1?(n=1.19086277,r=1.76576728,i=.59662641,s=.75515197,o=.56771245,a=4.0767416621,l=-3.3077115913,c=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,r=-.45954404,i=.08285427,s=.1254107,o=.14503204,a=-1.2684380046,l=2.6097574011,c=-.3413193965):(n=1.35733652,r=-.00915799,i=-1.1513021,s=-.50559606,o=.00692167,a=-.0041960863,l=-.7034186147,c=1.707614701);let f=n+r*e+i*t+s*e*e+o*e*t,p=.3963377774*e+.2158037573*t,b=-.1055613458*e-.0638541728*t,g=-.0894841775*e-1.291485548*t;{let x=1+f*p,w=1+f*b,A=1+f*g,y=x*x*x,k=w*w*w,I=A*A*A,U=3*p*x*x,D=3*b*w*w,Z=3*g*A*A,W=6*p*p*x,j=6*b*b*w,X=6*g*g*A,rt=a*y+l*k+c*I,L=a*U+l*D+c*Z,C=a*W+l*j+c*X;f=f-rt*L/(L*L-.5*rt*C)}return f}function Ic(e,t){let n=gm(e,t),r=Uo({l:1,a:n*e,b:n*t}),i=Math.cbrt(1/Math.max(r.r,r.g,r.b)),s=i*n;return[i,s]}function mm(e,t,n,r,i,s=null){s||(s=Ic(e,t));let o;if((n-i)*s[1]-(s[0]-i)*r<=0)o=s[1]*i/(r*s[0]+s[1]*(i-n));else{o=s[1]*(i-1)/(r*(s[0]-1)+s[1]*(i-n));{let a=n-i,l=r,c=.3963377774*e+.2158037573*t,f=-.1055613458*e-.0638541728*t,p=-.0894841775*e-1.291485548*t,b=a+l*c,g=a+l*f,x=a+l*p;{let w=i*(1-o)+o*n,A=o*r,y=w+A*c,k=w+A*f,I=w+A*p,U=y*y*y,D=k*k*k,Z=I*I*I,W=3*b*y*y,j=3*g*k*k,X=3*x*I*I,rt=6*b*b*y,L=6*g*g*k,C=6*x*x*I,q=4.0767416621*U-3.3077115913*D+.2309699292*Z-1,B=4.0767416621*W-3.3077115913*j+.2309699292*X,at=4.0767416621*rt-3.3077115913*L+.2309699292*C,nt=B/(B*B-.5*q*at),ht=-q*nt,tt=-1.2684380046*U+2.6097574011*D-.3413193965*Z-1,lt=-1.2684380046*W+2.6097574011*j-.3413193965*X,dt=-1.2684380046*rt+2.6097574011*L-.3413193965*C,Lt=lt/(lt*lt-.5*tt*dt),M=-tt*Lt,O=-.0041960863*U-.7034186147*D+1.707614701*Z-1,z=-.0041960863*W-.7034186147*j+1.707614701*X,G=-.0041960863*rt-.7034186147*L+1.707614701*C,K=z/(z*z-.5*O*G),it=-O*K;ht=nt>=0?ht:1e6,M=Lt>=0?M:1e6,it=K>=0?it:1e6,o+=Math.min(ht,Math.min(M,it))}}}return o}function Tc(e,t,n=null){n||(n=Ic(e,t));let r=n[0],i=n[1];return[i/r,i/(1-r)]}function xd(e,t,n){let r=Ic(t,n),i=mm(t,n,e,1,e,r),s=Tc(t,n,r),o=.11516993+1/(7.4477897+4.1590124*n+t*(-2.19557347+1.75198401*n+t*(-2.13704948-10.02301043*n+t*(-4.24894561+5.38770819*n+4.69891013*t)))),a=.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(-.27087943+.6122399*n+t*(.00299215-.45399568*n-.14661872*t)))),l=i/Math.min(e*s[0],(1-e)*s[1]),c=e*o,f=(1-e)*a,p=.9*l*Math.sqrt(Math.sqrt(1/(1/(c*c*c*c)+1/(f*f*f*f))));return c=e*.4,f=(1-e)*.8,[Math.sqrt(1/(1/(c*c)+1/(f*f))),p,i]}function Ad(e){const t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,i={mode:"okhsl",l:Ec(t)};e.alpha!==void 0&&(i.alpha=e.alpha);let s=Math.sqrt(n*n+r*r);if(!s)return i.s=0,i;let[o,a,l]=xd(t,n/s,r/s),c;if(s<a){let f=0,p=.8*o,b=1-p/a;c=(s-f)/(p+b*(s-f))*.8}else{let f=a,p=.2*a*a*1.25*1.25/o,b=1-p/(l-a);c=.8+.2*((s-f)/(p+b*(s-f)))}return c&&(i.s=c,i.h=bn(Math.atan2(r,n)*180/Math.PI)),i}function Sd(e){let t=e.h!==void 0?e.h:0,n=e.s!==void 0?e.s:0,r=e.l!==void 0?e.l:0;const i={mode:"oklab",l:vl(r)};if(e.alpha!==void 0&&(i.alpha=e.alpha),!n||r===1)return i.a=i.b=0,i;let s=Math.cos(t/180*Math.PI),o=Math.sin(t/180*Math.PI),[a,l,c]=xd(i.l,s,o),f,p,b,g;n<.8?(f=1.25*n,p=0,b=.8*a,g=1-b/l):(f=5*(n-.8),p=l,b=.2*l*l*1.25*1.25/a,g=1-b/(c-l));let x=p+f*b/(1-g*f);return i.a=x*s,i.b=x*o,i}const bm={...Q0,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:Ad,rgb:e=>Ad(ml(e))},toMode:{oklab:Sd,rgb:e=>bl(Sd(e))}};function Nd(e){let t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,i=Math.sqrt(n*n+r*r),s=i?n/i:1,o=i?r/i:1,[a,l]=Tc(s,o),c=.5,f=1-c/a,p=l/(i+t*l),b=p*t,g=p*i,x=vl(b),w=g*x/b,A=Uo({l:x,a:s*w,b:o*w}),y=Math.cbrt(1/Math.max(A.r,A.g,A.b,0));t=t/y,i=i/y*Ec(t)/t,t=Ec(t);const k={mode:"okhsv",s:i?(c+l)*g/(l*c+l*f*g):0,v:t?t/b:0};return k.s&&(k.h=bn(Math.atan2(r,n)*180/Math.PI)),e.alpha!==void 0&&(k.alpha=e.alpha),k}function kd(e){const t={mode:"oklab"};e.alpha!==void 0&&(t.alpha=e.alpha);const n=e.h!==void 0?e.h:0,r=e.s!==void 0?e.s:0,i=e.v!==void 0?e.v:0,s=Math.cos(n/180*Math.PI),o=Math.sin(n/180*Math.PI),[a,l]=Tc(s,o),c=.5,f=1-c/a,p=1-r*c/(c+l-l*f*r),b=r*l*c/(c+l-l*f*r),g=vl(p),x=b*g/p,w=Uo({l:g,a:s*x,b:o*x}),A=Math.cbrt(1/Math.max(w.r,w.g,w.b,0)),y=vl(i*p),k=b*y/p;return t.l=y*A,t.a=k*s*A,t.b=k*o*A,t}const vm={...nd,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:Nd,rgb:e=>Nd(ml(e))},toMode:{oklab:kd,rgb:e=>bl(kd(e))}};function ym(e,t){if(!t||t[0]!=="oklab")return;const n={mode:"oklab"},[,r,i,s,o]=t;if(!(r.type===St.Hue||i.type===St.Hue||s.type===St.Hue))return r.type!==St.None&&(n.l=Math.min(Math.max(0,r.type===St.Number?r.value:r.value/100),1)),i.type!==St.None&&(n.a=i.type===St.Number?i.value:i.value*.4/100),s.type!==St.None&&(n.b=s.type===St.Number?s.value:s.value*.4/100),o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const wm={...Mc,mode:"oklab",toMode:{lrgb:Uo,rgb:bl},fromMode:{lrgb:wd,rgb:ml},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[ym],serialize:e=>`oklab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`};function xm(e,t){if(!t||t[0]!=="oklch")return;const n={mode:"oklch"},[,r,i,s,o]=t;if(r.type!==St.None){if(r.type===St.Hue)return;n.l=Math.min(Math.max(0,r.type===St.Number?r.value:r.value/100),1)}if(i.type!==St.None&&(n.c=Math.max(0,i.type===St.Number?i.value:i.value*.4/100)),s.type!==St.None){if(s.type===St.Percentage)return;n.h=s.value}return o.type!==St.None&&(n.alpha=Math.min(1,Math.max(0,o.type===St.Number?o.value:o.value/100))),n}const Am={...Pc,mode:"oklch",toMode:{oklab:e=>bi(e,"oklab"),rgb:e=>bl(bi(e,"oklab"))},fromMode:{rgb:e=>mi(ml(e),"oklch"),oklab:e=>mi(e,"oklch")},parse:[xm],serialize:e=>`oklch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},Ld=e=>{let{r:t,g:n,b:r,alpha:i}=Cs(e),s={mode:"xyz65",x:.486570948648216*t+.265667693169093*n+.1982172852343625*r,y:.2289745640697487*t+.6917385218365062*n+.079286914093745*r,z:0*t+.0451133818589026*n+1.043944368900976*r};return i!==void 0&&(s.alpha=i),s},_d=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i=Fs({r:e*2.4934969119414263-t*.9313836179191242-.402710784450717*n,g:e*-.8294889695615749+t*1.7626640603183465+.0236246858419436*n,b:e*.0358458302437845-t*.0761723892680418+.9568845240076871*n},"p3");return r!==void 0&&(i.alpha=r),i},Sm={...Ps,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>_d(Ji(e)),xyz65:_d},toMode:{rgb:e=>Ki(Ld(e)),xyz65:Ld}},jc=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},Md=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"prophoto",r:jc(e*1.3457868816471585-t*.2555720873797946-.0511018649755453*n),g:jc(e*-.5446307051249019+t*1.5082477428451466+.0205274474364214*n),b:jc(e*0+t*0+1.2119675456389452*n)};return r!==void 0&&(i.alpha=r),i},Oc=(e=0)=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},Pd=e=>{let t=Oc(e.r),n=Oc(e.g),r=Oc(e.b),i={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*n+.0313477341283922*r,y:.2880748288194013*t+.7118352342418731*n+899369387256e-16*r,z:0*t+0*n+.8251046025104602*r};return e.alpha!==void 0&&(i.alpha=e.alpha),i},Nm={...Ps,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:Md,rgb:e=>Md(zo(e))},toMode:{xyz50:Pd,rgb:e=>qo(Pd(e))}},Cd=1.09929682680944,km=.018053968510807,Rc=e=>{const t=Math.abs(e);return t>km?(Math.sign(e)||1)*(Cd*Math.pow(t,.45)-(Cd-1)):4.5*e},Fd=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let i={mode:"rec2020",r:Rc(e*1.7166511879712683-t*.3556707837763925-.2533662813736599*n),g:Rc(e*-.6666843518324893+t*1.6164812366349395+.0157685458139111*n),b:Rc(e*.0176398574453108-t*.0427706132578085+.9421031212354739*n)};return r!==void 0&&(i.alpha=r),i},Ed=1.09929682680944,Lm=.018053968510807,Dc=(e=0)=>{let t=Math.abs(e);return t<Lm*4.5?e/4.5:(Math.sign(e)||1)*Math.pow((t+Ed-1)/Ed,1/.45)},Id=e=>{let t=Dc(e.r),n=Dc(e.g),r=Dc(e.b),i={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*n+.1688809751641721*r,y:.262700212011267*t+.6779980715188708*n+.059301716469862*r,z:0*t+.0280726930490874*n+1.0609850577107909*r};return e.alpha!==void 0&&(i.alpha=e.alpha),i},_m={...Ps,mode:"rec2020",fromMode:{xyz65:Fd,rgb:e=>Fd(Ji(e))},toMode:{xyz65:Id,rgb:e=>Ki(Id(e))},parse:["rec2020"],serialize:"rec2020"},Zi=.0037930732552754493,Td=Math.cbrt(Zi),Bc=e=>Math.cbrt(e)-Td,Mm=e=>{const{r:t,g:n,b:r,alpha:i}=Cs(e),s=Bc(.3*t+.622*n+.078*r+Zi),o=Bc(.23*t+.692*n+.078*r+Zi),a=Bc(.2434226892454782*t+.2047674442449682*n+.5518098665095535*r+Zi),l={mode:"xyb",x:(s-o)/2,y:(s+o)/2,b:a-(s+o)/2};return i!==void 0&&(l.alpha=i),l},qc=e=>Math.pow(e+Td,3),Pm={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:({x:e,y:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i=qc(e+t)-Zi,s=qc(t-e)-Zi,o=qc(n+t)-Zi,a=Fs({r:11.031566904639861*i-9.866943908131562*s-.16462299650829934*o,g:-3.2541473810744237*i+4.418770377582723*s-.16462299650829934*o,b:-3.6588512867136815*i+2.7129230459360922*s+1.9459282407775895*o});return r!==void 0&&(a.alpha=r),a}},fromMode:{rgb:Mm},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:Pt,y:Pt,b:Pt,alpha:{use:Pt,fixup:an}}},Cm={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:qo,lab:_c},fromMode:{rgb:zo,lab:kc},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:Pt,y:Pt,z:Pt,alpha:{use:Pt,fixup:an}}},Fm={mode:"xyz65",toMode:{rgb:Ki,xyz50:e=>{let{x:t,y:n,z:r,alpha:i}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let s={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*n-.0501922295431356*r,y:.0296278156881593*t+.990434484573249*n-.0170738250293851*r,z:-.0092430581525912*t+.0150551448965779*n+.7518742899580008*r};return i!==void 0&&(s.alpha=i),s}},fromMode:{rgb:Ji,xyz50:e=>{let{x:t,y:n,z:r,alpha:i}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let s={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*n+.0632593086610217*r,y:-.0283697069632081*t+1.0099954580058226*n+.021041398966943*r,z:.0123140016883199*t-.0205076964334779*n+1.3303659366080753*r};return i!==void 0&&(s.alpha=i),s}},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:Pt,y:Pt,z:Pt,alpha:{use:Pt,fixup:an}}},Em={mode:"yiq",toMode:{rgb:({y:e,i:t,q:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i={mode:"rgb",r:e+.95608445*t+.6208885*n,g:e-.27137664*t-.6486059*n,b:e-1.10561724*t+1.70250126*n};return r!==void 0&&(i.alpha=r),i}},fromMode:{rgb:({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const i={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*n,i:.59597799*e-.2741761*t-.32180189*n,q:.21147017*e-.52261711*t+.31114694*n};return r!==void 0&&(i.alpha=r),i}},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:Pt,i:Pt,q:Pt,alpha:{use:Pt,fixup:an}}},Im=e=>Math.max(0,Math.min(1,e||0)),zc=e=>Math.round(Im(e)*255),Tm=$r("rgb"),jm=e=>{if(e===void 0)return;let t=zc(e.r),n=zc(e.g),r=zc(e.b);return"#"+(1<<24|t<<16|n<<8|r).toString(16).slice(1)},jd=e=>jm(Tm(e)),Od=$r("rgb"),Rd=e=>{const t={mode:e.mode,r:Math.max(0,Math.min(e.r!==void 0?e.r:0,1)),g:Math.max(0,Math.min(e.g!==void 0?e.g:0,1)),b:Math.max(0,Math.min(e.b!==void 0?e.b:0,1))};return e.alpha!==void 0&&(t.alpha=e.alpha),t},Om=e=>Rd(Od(e)),Dd=e=>e!==void 0&&(e.r===void 0||e.r>=0&&e.r<=1)&&(e.g===void 0||e.g>=0&&e.g<=1)&&(e.b===void 0||e.b>=0&&e.b<=1);function Rm(e){return Dd(Od(e))}function Bd(e="rgb"){const{gamut:t}=Ro(e);if(!t)return r=>!0;const n=$r(typeof t=="string"?t:e);return r=>Dd(n(r))}function Dm(e="rgb"){const{gamut:t}=Ro(e);if(!t)return s=>Qa(s);const n=typeof t=="string"?t:e,r=$r(n),i=Bd(n);return s=>{const o=Qa(s);if(!o)return;const a=r(o);if(i(a))return o;const l=Rd(a);return o.mode===l.mode?l:$r(o.mode)(l)}}function Bm(e,t="lch",n="rgb"){e=Qa(e);let r=n==="rgb"?Rm:Bd(n),i=n==="rgb"?Om:Dm(n);if(e===void 0||r(e))return e;let s=$r(e.mode);e=$r(t)(e);let o={...e,c:0};if(!r(o))return s(i(o));let a=0,l=e.c!==void 0?e.c:0,c=Ro(t).ranges.c,f=(c[1]-c[0])/Math.pow(2,13),p=o.c;for(;l-a>f;)o.c=a+(l-a)*.5,r(o)?(p=o.c,a=o.c):l=o.c;return s(r(o)?o:{...o,c:p})}ve(kg),ve(Ig),ve(Tg),ve(jg),ve(Dg),ve(Q0),ve(nd),ve($g),ve(Xg),ve(Qg),ve(tm),ve(Mc),ve(nm),ve(Pc),ve(im),ve(fm),ve(dm),ve(pm),ve(bm),ve(vm),ve(wm);const qd=ve(Am);ve(Sm),ve(Nm),ve(_m);const qm=ve(Ps);ve(Pm),ve(Cm),ve(Fm),ve(Em);const Uc={},zd=[];function ie(e,t){if(Array.isArray(e)){for(const n of e)ie(n,t);return}if(typeof e=="object"){for(const n in e)ie(n,e[n]);return}Ud(Object.getOwnPropertyNames(t)),Uc[e]=Object.assign(Uc[e]||{},t)}function On(e){return Uc[e]||{}}function zm(){return[...new Set(zd)]}function Ud(e){zd.push(...e)}function Hc(e,t){let n;const r=e.length,i=[];for(n=0;n<r;n++)i.push(t(e[n]));return i}function Um(e,t){let n;const r=e.length,i=[];for(n=0;n<r;n++)t(e[n])&&i.push(e[n]);return i}function Wc(e){return e%360*Math.PI/180}function Hm(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function Hd(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Is(e,t,n,r){return(t==null||n==null)&&(r=r||e.bbox(),t==null?t=r.width/r.height*n:n==null&&(n=r.height/r.width*t)),{width:t,height:n}}function Gc(e,t){const n=e.origin;let r=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",i=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([r,i]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);const s=typeof r=="string",o=typeof i=="string";if(s||o){const{height:a,width:l,x:c,y:f}=t.bbox();s&&(r=r.includes("left")?c:r.includes("right")?c+l:c+l/2),o&&(i=i.includes("top")?f:i.includes("bottom")?f+a:f+a/2)}return[r,i]}const Wm=new Set(["desc","metadata","title"]),Vc=e=>Wm.has(e.nodeName),Wd=(e,t,n={})=>{const r={...t};for(const i in r)r[i].valueOf()===n[i]&&delete r[i];Object.keys(r).length?e.node.setAttribute("data-svgjs",JSON.stringify(r)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},Yc="http://www.w3.org/2000/svg",Gm="http://www.w3.org/1999/xhtml",$c="http://www.w3.org/2000/xmlns/",Ho="http://www.w3.org/1999/xlink",ce={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Vm(){return ce.window}class Xc{}const Qi={},Jc="___SYMBOL___ROOT___";function Wo(e,t=Yc){return ce.document.createElementNS(t,e)}function Cn(e,t=!1){if(e instanceof Xc)return e;if(typeof e=="object")return Kc(e);if(e==null)return new Qi[Jc];if(typeof e=="string"&&e.charAt(0)!=="<")return Kc(ce.document.querySelector(e));const n=t?ce.document.createElement("div"):Wo("svg");return n.innerHTML=e,e=Kc(n.firstChild),n.removeChild(n.firstChild),e}function Re(e,t){return t&&(t instanceof ce.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Wo(e)}function Qn(e){if(!e)return null;if(e.instance instanceof Xc)return e.instance;if(e.nodeName==="#document-fragment")return new Qi.Fragment(e);let t=Hd(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Qi[t]||(t="Dom"),new Qi[t](e)}let Kc=Qn;function he(e,t=e.name,n=!1){return Qi[t]=e,n&&(Qi[Jc]=e),Ud(Object.getOwnPropertyNames(e.prototype)),e}function Ym(e){return Qi[e]}let $m=1e3;function Gd(e){return"Svgjs"+Hd(e)+$m++}function Vd(e){for(let t=e.children.length-1;t>=0;t--)Vd(e.children[t]);return e.id&&(e.id=Gd(e.nodeName)),e}function ae(e,t){let n,r;for(e=Array.isArray(e)?e:[e],r=e.length-1;r>=0;r--)for(n in t)e[r].prototype[n]=t[n]}function De(e){return function(...t){const n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function Xm(){return this.parent().children()}function Jm(){return this.parent().index(this)}function Km(){return this.siblings()[this.position()+1]}function Zm(){return this.siblings()[this.position()-1]}function Qm(){const e=this.position();return this.parent().add(this.remove(),e+1),this}function tb(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function eb(){return this.parent().add(this.remove()),this}function nb(){return this.parent().add(this.remove(),0),this}function rb(e){e=Cn(e),e.remove();const t=this.position();return this.parent().add(e,t),this}function ib(e){e=Cn(e),e.remove();const t=this.position();return this.parent().add(e,t+1),this}function sb(e){return e=Cn(e),e.before(this),this}function ob(e){return e=Cn(e),e.after(this),this}ie("Dom",{siblings:Xm,position:Jm,next:Km,prev:Zm,forward:Qm,backward:tb,front:eb,back:nb,before:rb,after:ib,insertBefore:sb,insertAfter:ob});const Yd=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,ab=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,lb=/rgb\((\d+),(\d+),(\d+)\)/,ub=/(#[a-z_][a-z0-9\-_]*)/i,cb=/\)\s*,?\s*/,hb=/\s/g,$d=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Xd=/^rgb\(/,Jd=/^(\s+)?$/,Kd=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fb=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Kr=/[\s,]+/,Zc=/[MLHVCSQTAZ]/i;function db(){const e=this.attr("class");return e==null?[]:e.trim().split(Kr)}function pb(e){return this.classes().indexOf(e)!==-1}function gb(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function mb(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function bb(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}ie("Dom",{classes:db,hasClass:pb,addClass:gb,removeClass:mb,toggleClass:bb});function vb(e,t){const n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){const i=r.split(/\s*:\s*/);n[i[0]]=i[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(const r of e){const i=r;n[r]=this.node.style.getPropertyValue(i)}return n}if(typeof e=="string")return this.node.style.getPropertyValue(e);if(typeof e=="object")for(const r in e)this.node.style.setProperty(r,e[r]==null||Jd.test(e[r])?"":e[r])}return arguments.length===2&&this.node.style.setProperty(e,t==null||Jd.test(t)?"":t),this}function yb(){return this.css("display","")}function wb(){return this.css("display","none")}function xb(){return this.css("display")!=="none"}ie("Dom",{css:vb,show:yb,hide:wb,visible:xb});function Ab(e,t,n){if(e==null)return this.data(Hc(Um(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(e instanceof Array){const r={};for(const i of e)r[i]=this.data(i);return r}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}ie("Dom",{data:Ab});function Sb(e,t){if(typeof arguments[0]=="object")for(const n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function Nb(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function kb(){return this._memory=this._memory||{}}ie("Dom",{remember:Sb,forget:Nb,memory:kb});function Lb(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function _b(e){const t=Math.round(e),r=Math.max(0,Math.min(255,t)).toString(16);return r.length===1?"0"+r:r}function Ts(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function Mb(e,t){const n=Ts(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:Ts(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:Ts(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:Ts(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:Ts(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:Ts(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function Pb(e){return e==="lab"||e==="xyz"||e==="lch"}function Qc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Ae{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Ae||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n){const{random:r,round:i,sin:s,PI:o}=Math;if(t==="vibrant"){const a=24*r()+57,l=38*r()+45,c=360*r();return new Ae(a,l,c,"lch")}else if(t==="sine"){n=n??r();const a=i(80*s(2*o*n/.5+.01)+150),l=i(50*s(2*o*n/.5+4.6)+200),c=i(100*s(2*o*n/.5+2.3)+150);return new Ae(a,l,c)}else if(t==="pastel"){const a=8*r()+86,l=17*r()+9,c=360*r();return new Ae(a,l,c,"lch")}else if(t==="dark"){const a=10+10*r(),l=50*r()+86,c=360*r();return new Ae(a,l,c,"lch")}else if(t==="rgb"){const a=255*r(),l=255*r(),c=255*r();return new Ae(a,l,c)}else if(t==="lab"){const a=100*r(),l=256*r()-128,c=256*r()-128;return new Ae(a,l,c,"lab")}else if(t==="grey"){const a=255*r();return new Ae(a,a,a)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&($d.test(t)||Xd.test(t))}cmyk(){const{_a:t,_b:n,_c:r}=this.rgb(),[i,s,o]=[t,n,r].map(b=>b/255),a=Math.min(1-i,1-s,1-o);if(a===1)return new Ae(0,0,0,1,"cmyk");const l=(1-i-a)/(1-a),c=(1-s-a)/(1-a),f=(1-o-a)/(1-a);return new Ae(l,c,f,a,"cmyk")}hsl(){const{_a:t,_b:n,_c:r}=this.rgb(),[i,s,o]=[t,n,r].map(w=>w/255),a=Math.max(i,s,o),l=Math.min(i,s,o),c=(a+l)/2,f=a===l,p=a-l,b=f?0:c>.5?p/(2-a-l):p/(a+l),g=f?0:a===i?((s-o)/p+(s<o?6:0))/6:a===s?((o-i)/p+2)/6:a===o?((i-s)/p+4)/6:0;return new Ae(360*g,100*b,100*c,"hsl")}init(t=0,n=0,r=0,i=0,s="rgb"){if(t=t||0,this.space)for(const p in this.space)delete this[this.space[p]];if(typeof t=="number")s=typeof i=="string"?i:s,i=typeof i=="string"?0:i,Object.assign(this,{_a:t,_b:n,_c:r,_d:i,space:s});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const p=Mb(t,n);Object.assign(this,p)}else if(typeof t=="string")if(Xd.test(t)){const p=t.replace(hb,""),[b,g,x]=lb.exec(p).slice(1,4).map(w=>parseInt(w));Object.assign(this,{_a:b,_b:g,_c:x,_d:0,space:"rgb"})}else if($d.test(t)){const p=w=>parseInt(w,16),[,b,g,x]=ab.exec(Lb(t)).map(p);Object.assign(this,{_a:b,_b:g,_c:x,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:o,_b:a,_c:l,_d:c}=this,f=this.space==="rgb"?{r:o,g:a,b:l}:this.space==="xyz"?{x:o,y:a,z:l}:this.space==="hsl"?{h:o,s:a,l}:this.space==="lab"?{l:o,a,b:l}:this.space==="lch"?{l:o,c:a,h:l}:this.space==="cmyk"?{c:o,m:a,y:l,k:c}:{};Object.assign(this,f)}lab(){const{x:t,y:n,z:r}=this.xyz(),i=116*n-16,s=500*(t-n),o=200*(n-r);return new Ae(i,s,o,"lab")}lch(){const{l:t,a:n,b:r}=this.lab(),i=Math.sqrt(n**2+r**2);let s=180*Math.atan2(r,n)/Math.PI;return s<0&&(s*=-1,s=360-s),new Ae(t,i,s,"lch")}rgb(){if(this.space==="rgb")return this;if(Pb(this.space)){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:g,a:x,b:w}=this;if(this.space==="lch"){const{c:Z,h:W}=this,j=Math.PI/180;x=Z*Math.cos(j*W),w=Z*Math.sin(j*W)}const A=(g+16)/116,y=x/500+A,k=A-w/200,I=16/116,U=.008856,D=7.787;t=.95047*(y**3>U?y**3:(y-I)/D),n=1*(A**3>U?A**3:(A-I)/D),r=1.08883*(k**3>U?k**3:(k-I)/D)}const i=t*3.2406+n*-1.5372+r*-.4986,s=t*-.9689+n*1.8758+r*.0415,o=t*.0557+n*-.204+r*1.057,a=Math.pow,l=.0031308,c=i>l?1.055*a(i,1/2.4)-.055:12.92*i,f=s>l?1.055*a(s,1/2.4)-.055:12.92*s,p=o>l?1.055*a(o,1/2.4)-.055:12.92*o;return new Ae(255*c,255*f,255*p)}else if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new Ae(r,r,r);const i=r<.5?r*(1+n):r+n-r*n,s=2*r-i,o=255*Qc(s,i,t+1/3),a=255*Qc(s,i,t),l=255*Qc(s,i,t-1/3);return new Ae(o,a,l)}else if(this.space==="cmyk"){const{c:t,m:n,y:r,k:i}=this,s=255*(1-Math.min(1,t*(1-i)+i)),o=255*(1-Math.min(1,n*(1-i)+i)),a=255*(1-Math.min(1,r*(1-i)+i));return new Ae(s,o,a)}else return this}toArray(){const{_a:t,_b:n,_c:r,_d:i,space:s}=this;return[t,n,r,i,s]}toHex(){const[t,n,r]=this._clamped().map(_b);return`#${t}${n}${r}`}toRgb(){const[t,n,r]=this._clamped();return`rgb(${t},${n},${r})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:n,_c:r}=this.rgb(),[i,s,o]=[t,n,r].map(y=>y/255),a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,f=(a*.4124+l*.3576+c*.1805)/.95047,p=(a*.2126+l*.7152+c*.0722)/1,b=(a*.0193+l*.1192+c*.9505)/1.08883,g=f>.008856?Math.pow(f,1/3):7.787*f+16/116,x=p>.008856?Math.pow(p,1/3):7.787*p+16/116,w=b>.008856?Math.pow(b,1/3):7.787*b+16/116;return new Ae(g,x,w,"xyz")}_clamped(){const{_a:t,_b:n,_c:r}=this.rgb(),{max:i,min:s,round:o}=Math,a=l=>i(0,s(o(l),255));return[t,n,r].map(a)}}class $e{constructor(...t){this.init(...t)}clone(){return new $e(this)}init(t,n){const r={x:0,y:0},i=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=i.x==null?r.x:i.x,this.y=i.y==null?r.y:i.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){fe.isMatrixLike(t)||(t=new fe(t));const{x:n,y:r}=this;return this.x=t.a*n+t.c*r+t.e,this.y=t.b*n+t.d*r+t.f,this}}function Cb(e,t){return new $e(e,t).transformO(this.screenCTM().inverseO())}function js(e,t,n){return Math.abs(t-e)<1e-6}let fe=class cn{constructor(...t){this.init(...t)}static formatTransforms(t){const n=t.flip==="both"||t.flip===!0,r=t.flip&&(n||t.flip==="x")?-1:1,i=t.flip&&(n||t.flip==="y")?-1:1,s=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,l=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,c=t.shear||0,f=t.rotate||t.theta||0,p=new $e(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),b=p.x,g=p.y,x=new $e(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),w=x.x,A=x.y,y=new $e(t.translate||t.tx||t.translateX,t.ty||t.translateY),k=y.x,I=y.y,U=new $e(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),D=U.x,Z=U.y;return{scaleX:a,scaleY:l,skewX:s,skewY:o,shear:c,theta:f,rx:D,ry:Z,tx:k,ty:I,ox:b,oy:g,px:w,py:A}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,r){const i=t.a*n.a+t.c*n.b,s=t.b*n.a+t.d*n.b,o=t.a*n.c+t.c*n.d,a=t.b*n.c+t.d*n.d,l=t.e+t.a*n.e+t.c*n.f,c=t.f+t.b*n.e+t.d*n.f;return r.a=i,r.b=s,r.c=o,r.d=a,r.e=l,r.f=c,r}around(t,n,r){return this.clone().aroundO(t,n,r)}aroundO(t,n,r){const i=t||0,s=n||0;return this.translateO(-i,-s).lmultiplyO(r).translateO(i,s)}clone(){return new cn(this)}decompose(t=0,n=0){const r=this.a,i=this.b,s=this.c,o=this.d,a=this.e,l=this.f,c=r*o-i*s,f=c>0?1:-1,p=f*Math.sqrt(r*r+i*i),b=Math.atan2(f*i,f*r),g=180/Math.PI*b,x=Math.cos(b),w=Math.sin(b),A=(r*s+i*o)/c,y=s*p/(A*r-i)||o*p/(A*i+r),k=a-t+t*x*p+n*(A*x*p-w*y),I=l-n+t*w*p+n*(A*w*p+x*y);return{scaleX:p,scaleY:y,shear:A,rotate:g,translateX:k,translateY:I,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const n=new cn(t);return js(this.a,n.a)&&js(this.b,n.b)&&js(this.c,n.c)&&js(this.d,n.d)&&js(this.e,n.e)&&js(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){const n=cn.fromArray([1,0,0,1,0,0]);return t=t instanceof Fr?t.matrixify():typeof t=="string"?cn.fromArray(t.split(Kr).map(parseFloat)):Array.isArray(t)?cn.fromArray(t):typeof t=="object"&&cn.isMatrixLike(t)?t:typeof t=="object"?new cn().transform(t):arguments.length===6?cn.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,n=this.b,r=this.c,i=this.d,s=this.e,o=this.f,a=t*i-n*r;if(!a)throw new Error("Cannot invert "+this);const l=i/a,c=-n/a,f=-r/a,p=t/a,b=-(l*s+f*o),g=-(c*s+p*o);return this.a=l,this.b=c,this.c=f,this.d=p,this.e=b,this.f=g,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const n=this,r=t instanceof cn?t:new cn(t);return cn.matrixMultiply(r,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const n=this,r=t instanceof cn?t:new cn(t);return cn.matrixMultiply(n,r,this)}rotate(t,n,r){return this.clone().rotateO(t,n,r)}rotateO(t,n=0,r=0){t=Wc(t);const i=Math.cos(t),s=Math.sin(t),{a:o,b:a,c:l,d:c,e:f,f:p}=this;return this.a=o*i-a*s,this.b=a*i+o*s,this.c=l*i-c*s,this.d=c*i+l*s,this.e=f*i-p*s+r*s-n*i+n,this.f=p*i+f*s-n*s-r*i+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,n=t,r=0,i=0){arguments.length===3&&(i=r,r=n,n=t);const{a:s,b:o,c:a,d:l,e:c,f}=this;return this.a=s*t,this.b=o*n,this.c=a*t,this.d=l*n,this.e=c*t-r*t+r,this.f=f*n-i*n+i,this}shear(t,n,r){return this.clone().shearO(t,n,r)}shearO(t,n=0,r=0){const{a:i,b:s,c:o,d:a,e:l,f:c}=this;return this.a=i+s*t,this.c=o+a*t,this.e=l+c*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,n=t,r=0,i=0){arguments.length===3&&(i=r,r=n,n=t),t=Wc(t),n=Wc(n);const s=Math.tan(t),o=Math.tan(n),{a,b:l,c,d:f,e:p,f:b}=this;return this.a=a+l*s,this.b=l+a*o,this.c=c+f*s,this.d=f+c*o,this.e=p+b*s-i*s,this.f=b+p*o-r*o,this}skewX(t,n,r){return this.skew(t,0,n,r)}skewY(t,n,r){return this.skew(0,t,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(cn.isMatrixLike(t))return new cn(t).multiplyO(this);const n=cn.formatTransforms(t),r=this,{x:i,y:s}=new $e(n.ox,n.oy).transform(r),o=new cn().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-i,-s).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,s);if(isFinite(n.px)||isFinite(n.py)){const a=new $e(i,s).transform(o),l=isFinite(n.px)?n.px-a.x:0,c=isFinite(n.py)?n.py-a.y:0;o.translateO(l,c)}return o.translateO(n.tx,n.ty),o}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function Fb(){return new fe(this.node.getCTM())}function Eb(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new fe(t)}return new fe(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new fe}}he(fe,"Matrix");function vi(){if(!vi.nodes){const e=Cn().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;vi.nodes={svg:e,path:t}}if(!vi.nodes.svg.node.parentNode){const e=ce.document.body||ce.document.documentElement;vi.nodes.svg.addTo(e)}return vi.nodes}function Zd(e){return!e.width&&!e.height&&!e.x&&!e.y}function Ib(e){return e===ce.document||(ce.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===ce.document}).call(ce.document.documentElement,e)}class vn{constructor(...t){this.init(...t)}addOffset(){return this.x+=ce.window.pageXOffset,this.y+=ce.window.pageYOffset,new vn(this)}init(t){const n=[0,0,0,0];return t=typeof t=="string"?t.split(Kr).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Zd(this)}merge(t){const n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-n,s=Math.max(this.y+this.height,t.y+t.height)-r;return new vn(n,r,i,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof fe||(t=new fe(t));let n=1/0,r=-1/0,i=1/0,s=-1/0;return[new $e(this.x,this.y),new $e(this.x2,this.y),new $e(this.x,this.y2),new $e(this.x2,this.y2)].forEach(function(a){a=a.transform(t),n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),new vn(n,i,r-n,s-i)}}function Qd(e,t,n){let r;try{if(r=t(e.node),Zd(r)&&!Ib(e.node))throw new Error("Element not in the dom")}catch{r=n(e)}return r}function Tb(){const n=Qd(this,i=>i.getBBox(),i=>{try{const s=i.clone().addTo(vi().svg).show(),o=s.node.getBBox();return s.remove(),o}catch(s){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${s.toString()}`)}});return new vn(n)}function jb(e){const r=Qd(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),i=new vn(r);return e?i.transform(e.screenCTM().inverseO()):i.addOffset()}function Ob(e,t){const n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}ie({viewbox:{viewbox(e,t,n,r){return e==null?new vn(this.attr("viewBox")):this.attr("viewBox",new vn(e,t,n,r))},zoom(e,t){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),s=n/i.width,o=r/i.height,a=Math.min(s,o);if(e==null)return a;let l=a/e;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),t=t||new $e(n/2/s+i.x,r/2/o+i.y);const c=new vn(i).transform(new fe({scale:l,origin:t}));return this.viewbox(c)}}}),he(vn,"Box");class ts extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}}ae([ts],{each(e,...t){return typeof e=="function"?this.map((n,r,i)=>e.call(n,n,r,i)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const Rb=["toArray","constructor","each"];ts.extend=function(e){e=e.reduce((t,n)=>(Rb.includes(n)||n[0]==="_"||(n in Array.prototype&&(t["$"+n]=Array.prototype[n]),t[n]=function(...r){return this.each(n,...r)}),t),{}),ae([ts],e)};function Os(e,t){return new ts(Hc((t||ce.document).querySelectorAll(e),function(n){return Qn(n)}))}function Db(e){return Os(e,this.node)}function Bb(e){return Qn(this.node.querySelector(e))}let qb=0;const t1={};function e1(e){let t=e.getEventHolder();return t===ce.window&&(t=t1),t.events||(t.events={}),t.events}function th(e){return e.getEventTarget()}function zb(e){let t=e.getEventHolder();t===ce.window&&(t=t1),t.events&&(t.events={})}function eh(e,t,n,r,i){const s=n.bind(r||e),o=Cn(e),a=e1(o),l=th(o);t=Array.isArray(t)?t:t.split(Kr),n._svgjsListenerId||(n._svgjsListenerId=++qb),t.forEach(function(c){const f=c.split(".")[0],p=c.split(".")[1]||"*";a[f]=a[f]||{},a[f][p]=a[f][p]||{},a[f][p][n._svgjsListenerId]=s,l.addEventListener(f,s,i||!1)})}function Rs(e,t,n,r){const i=Cn(e),s=e1(i),o=th(i);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(Kr),t.forEach(function(a){const l=a&&a.split(".")[0],c=a&&a.split(".")[1];let f,p;if(n)s[l]&&s[l][c||"*"]&&(o.removeEventListener(l,s[l][c||"*"][n],r||!1),delete s[l][c||"*"][n]);else if(l&&c){if(s[l]&&s[l][c]){for(p in s[l][c])Rs(o,[l,c].join("."),p);delete s[l][c]}}else if(c)for(a in s)for(f in s[a])c===f&&Rs(o,[a,c].join("."));else if(l){if(s[l]){for(f in s[l])Rs(o,[l,f].join("."));delete s[l]}}else{for(a in s)Rs(o,a);zb(i)}}))}function Ub(e,t,n,r){const i=th(e);return t instanceof ce.window.Event||(t=new ce.window.CustomEvent(t,{detail:n,cancelable:!0,...r})),i.dispatchEvent(t),t}class Go extends Xc{addEventListener(){}dispatch(t,n,r){return Ub(this,t,n,r)}dispatchEvent(t){const n=this.getEventHolder().events;if(!n)return!0;const r=n[t.type];for(const i in r)for(const s in r[i])r[i][s](t);return!t.defaultPrevented}fire(t,n,r){return this.dispatch(t,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,r){return Rs(this,t,n,r),this}on(t,n,r,i){return eh(this,t,n,r,i),this}removeEventListener(){}}he(Go,"EventTarget");function n1(){}const Vo={duration:400,ease:">",delay:0},Hb={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Ds extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(Kr).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class Jt{constructor(...t){this.init(...t)}convert(t){return new Jt(this.value,t)}divide(t){return t=new Jt(t),new Jt(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(Yd),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof Jt&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new Jt(t),new Jt(this-t,this.unit||t.unit)}plus(t){return t=new Jt(t),new Jt(this+t,this.unit||t.unit)}times(t){return t=new Jt(t),new Jt(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Wb=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),r1=[];function Gb(e){r1.push(e)}function Vb(e,t,n){if(e==null){e={},t=this.node.attributes;for(const r of t)e[r.nodeName]=Kd.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return e}else{if(e instanceof Array)return e.reduce((r,i)=>(r[i]=this.attr(i),r),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?Hb[e]:Kd.test(t)?parseFloat(t):t;t=r1.reduce((r,i)=>i(e,r,this),t),typeof t=="number"?t=new Jt(t):Wb.has(e)&&Ae.isColor(t)?t=new Ae(t):t.constructor===Array&&(t=new Ds(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}class yi extends Go{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=Cn(t),t.removeNamespace&&this.node instanceof ce.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return Cn(t).put(this,n)}children(){return new ts(Hc(this.node.children,function(t){return Qn(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return n&&(r=Vd(r)),new this.constructor(r)}each(t,n){const r=this.children();let i,s;for(i=0,s=r.length;i<s;i++)t.apply(r[i],[i,r]),n&&r[i].each(t,n);return this}element(t,n){return this.put(new yi(Wo(t),n))}first(){return Qn(this.node.firstChild)}get(t){return Qn(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,Gm)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=Gd(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Qn(this.node.lastChild)}matches(t){const n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=Qn(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=Qn(n.node.parentNode));return n}put(t,n){return t=Cn(t),this.add(t,n),t}putIn(t,n){return Cn(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Cn(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){const r=10**t,i=this.attr(n);for(const s in i)typeof i[s]=="number"&&(i[s]=Math.round(i[s]*r)/r);return this.attr(i),this}svg(t,n){return this.xml(t,n,Yc)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const n=this.parent();if(!n)return this.addTo(t);const r=n.index(this);return n.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let a=this;if(t!=null){if(a=Qn(a.node.cloneNode(!0)),n){const l=t(a);if(a=l||a,l===!1)return""}a.each(function(){const l=t(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return n?a.node.outerHTML:a.node.innerHTML}n=n??!1;const i=Wo("wrapper",r),s=ce.document.createDocumentFragment();i.innerHTML=t;for(let a=i.children.length;a--;)s.appendChild(i.firstElementChild);const o=this.parent();return n?this.replace(s)&&o:this.add(s)}}ae(yi,{attr:Vb,find:Db,findOne:Bb}),he(yi,"Dom");class Fr extends yi{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new Jt(t).plus(this.x()))}dy(t=0){return this.y(new Jt(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){const n=typeof t=="string";n||(t=Cn(t));const r=new ts;let i=this;for(;(i=i.parent())&&i.node!==ce.document&&i.nodeName!=="#document-fragment"&&(r.push(i),!(!n&&i.node===t.node||n&&i.matches(t)));)if(i.node===this.root().node)return null;return r}reference(t){if(t=this.attr(t),!t)return null;const n=(t+"").match(ub);return n?Cn(n[1]):null}root(){const t=this.parent(Ym(Jc));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){const r=Is(this,t,n);return this.width(new Jt(r.width)).height(new Jt(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return Wd(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}ae(Fr,{bbox:Tb,rbox:jb,inside:Ob,point:Cb,ctm:Fb,screenCTM:Eb}),he(Fr,"Element");const Yo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){const t={};let n;t[e]=function(r){if(typeof r>"u")return this.attr(e);if(typeof r=="string"||r instanceof Ae||Ae.isRgb(r)||r instanceof Fr)this.attr(e,r);else for(n=Yo[e].length-1;n>=0;n--)r[Yo[e][n]]!=null&&this.attr(Yo.prefix(e,Yo[e][n]),r[Yo[e][n]]);return this},ie(["Element","Runner"],t)}),ie(["Element","Runner"],{matrix:function(e,t,n,r,i,s){return e==null?new fe(this):this.attr("transform",new fe(e,t,n,r,i,s))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}}),ie("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new Jt(e)):this.rx(e).ry(t)}}),ie("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new $e(this.node.getPointAtLength(e))}}),ie(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});const Yb=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){const n=function(r){return r===null?this.off(t):this.on(t,r),this};return e[t]=n,e},{});ie("Element",Yb);function $b(){return this.attr("transform",null)}function Xb(){return(this.attr("transform")||"").split(cb).slice(0,-1).map(function(t){const n=t.trim().split("(");return[n[0],n[1].split(Kr).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(fe.fromArray(n[1])):t[n[0]].apply(t,n[1])},new fe)}function Jb(e,t){if(this===e)return this;if(Vc(this.node))return this.addTo(e,t);const n=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(n)),this}function Kb(e){return this.toParent(this.root(),e)}function Zb(e,t){if(e==null||typeof e=="string"){const i=new fe(this).decompose();return e==null?i:i[e]}fe.isMatrixLike(e)||(e={...e,origin:Gc(e,this)});const n=t===!0?this:t||!1,r=new fe(n).transform(e);return this.attr("transform",r)}ie("Element",{untransform:$b,matrixify:Xb,toParent:Jb,toRoot:Kb,transform:Zb});class Rn extends Fr{flatten(){return this.each(function(){if(this instanceof Rn)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(r,i){return i[i.length-r-1].toParent(t,n)}),this.remove()}}he(Rn,"Container");class nh extends Rn{constructor(t,n=t){super(Re("defs",t),n)}flatten(){return this}ungroup(){return this}}he(nh,"Defs");class Gn extends Fr{}he(Gn,"Shape");function rh(e){return this.attr("rx",e)}function ih(e){return this.attr("ry",e)}function i1(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function s1(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function o1(e){return this.attr("cx",e)}function a1(e){return this.attr("cy",e)}function l1(e){return e==null?this.rx()*2:this.rx(new Jt(e).divide(2))}function u1(e){return e==null?this.ry()*2:this.ry(new Jt(e).divide(2))}const Qb=Object.freeze(Object.defineProperty({__proto__:null,cx:o1,cy:a1,height:u1,rx:rh,ry:ih,width:l1,x:i1,y:s1},Symbol.toStringTag,{value:"Module"}));let yl=class extends Gn{constructor(t,n=t){super(Re("ellipse",t),n)}size(t,n){const r=Is(this,t,n);return this.rx(new Jt(r.width).divide(2)).ry(new Jt(r.height).divide(2))}};ae(yl,Qb),ie("Container",{ellipse:De(function(e=0,t=e){return this.put(new yl).size(e,t).move(0,0)})}),he(yl,"Ellipse");class c1 extends yi{constructor(t=ce.document.createDocumentFragment()){super(t)}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){const i=new yi(Wo("wrapper",r));return i.add(this.node.cloneNode(!0)),i.xml(!1,r)}return super.xml(t,!1,r)}}he(c1,"Fragment");function h1(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new Jt(e),fy:new Jt(t)}):this.attr({x1:new Jt(e),y1:new Jt(t)})}function f1(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new Jt(e),cy:new Jt(t)}):this.attr({x2:new Jt(e),y2:new Jt(t)})}const tv=Object.freeze(Object.defineProperty({__proto__:null,from:h1,to:f1},Symbol.toStringTag,{value:"Module"}));class $o extends Rn{constructor(t,n){super(Re(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,r){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,r)}bbox(){return new vn}targets(){return Os("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}ae($o,tv),ie({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:De(function(e,t){return this.put(new $o(e)).update(t)})}}),he($o,"Gradient");class Xo extends Rn{constructor(t,n=t){super(Re("pattern",t),n)}attr(t,n,r){return t==="transform"&&(t="patternTransform"),super.attr(t,n,r)}bbox(){return new vn}targets(){return Os("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}ie({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:De(function(e,t,n){return this.put(new Xo).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}}),he(Xo,"Pattern");let wl=class extends Gn{constructor(t,n=t){super(Re("image",t),n)}load(t,n){if(!t)return this;const r=new ce.window.Image;return eh(r,"load",function(i){const s=this.parent(Xo);this.width()===0&&this.height()===0&&this.size(r.width,r.height),s instanceof Xo&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof n=="function"&&n.call(this,i)},this),eh(r,"load error",function(){Rs(r)}),this.attr("href",r.src=t,Ho)}};Gb(function(e,t,n){return(e==="fill"||e==="stroke")&&fb.test(t)&&(t=n.root().defs().image(t)),t instanceof wl&&(t=n.root().defs().pattern(0,0,r=>{r.add(t)})),t}),ie({Container:{image:De(function(e,t){return this.put(new wl).size(0,0).load(e,t)})}}),he(wl,"Image");class wi extends Ds{bbox(){let t=-1/0,n=-1/0,r=1/0,i=1/0;return this.forEach(function(s){t=Math.max(s[0],t),n=Math.max(s[1],n),r=Math.min(s[0],r),i=Math.min(s[1],i)}),new vn(r,i,t-r,n-i)}move(t,n){const r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+t,this[i][1]+n];return this}parse(t=[0,0]){const n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(Kr).map(parseFloat),t.length%2!==0&&t.pop();for(let r=0,i=t.length;r<i;r=r+2)n.push([t[r],t[r+1]]);return n}size(t,n){let r;const i=this.bbox();for(r=this.length-1;r>=0;r--)i.width&&(this[r][0]=(this[r][0]-i.x)*t/i.width+i.x),i.height&&(this[r][1]=(this[r][1]-i.y)*n/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let n=0,r=this.length;n<r;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){fe.isMatrixLike(t)||(t=new fe(t));for(let n=this.length;n--;){const[r,i]=this[n];this[n][0]=t.a*r+t.c*i+t.e,this[n][1]=t.b*r+t.d*i+t.f}return this}}const ev=wi;function nv(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function rv(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function iv(e){const t=this.bbox();return e==null?t.width:this.size(e,t.height)}function sv(e){const t=this.bbox();return e==null?t.height:this.size(t.width,e)}const sh=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:ev,height:sv,width:iv,x:nv,y:rv},Symbol.toStringTag,{value:"Module"}));class Jo extends Gn{constructor(t,n=t){super(Re("line",t),n)}array(){return new wi([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,r,i){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:r,y2:i}:t=new wi(t).toLine(),this.attr(t))}size(t,n){const r=Is(this,t,n);return this.attr(this.array().size(r.width,r.height).toLine())}}ae(Jo,sh),ie({Container:{line:De(function(...e){return Jo.prototype.plot.apply(this.put(new Jo),e[0]!=null?e:[0,0,0,0])})}}),he(Jo,"Line");class xl extends Rn{constructor(t,n=t){super(Re("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}ie({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:De(function(e,t,n){return this.put(new xl).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,r){let i=["marker"];return e!=="all"&&i.push(e),i=i.join("-"),e=arguments[1]instanceof xl?arguments[1]:this.defs().marker(t,n,r),this.attr(i,e)}}}),he(xl,"Marker");function Bs(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}const ov={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,r){return function(i){return i<0?e>0?t/e*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):e<1?(1-t)/(1-e)*i+(t-e)/(1-e):1:3*i*(1-i)**2*t+3*i**2*(1-i)*r+i**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(r,i=!1)=>{let s=Math.floor(r*e);const o=r*s%1===0;return(t==="start"||t==="both")&&++s,i&&o&&--s,r>=0&&s<0&&(s=0),r<=1&&s>n&&(s=n),s/n}}};class oh{done(){return!1}}class ah extends oh{constructor(t=Vo.ease){super(),this.ease=ov[t]||t}step(t,n,r){return typeof t!="number"?r<1?t:n:t+(n-t)*this.ease(r)}}class Al extends oh{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,r,i){return this.stepper(t,n,r,i)}}function d1(){const e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,r=Math.PI,i=Math.log(t/100+n),s=-i/Math.sqrt(r*r+i*i),o=3.9/(s*e);this.d=2*s*o,this.k=o*o}class av extends Al{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,r,i){if(typeof t=="string")return t;if(i.done=r===1/0,r===1/0)return n;if(r===0)return t;r>100&&(r=16),r/=1e3;const s=i.velocity||0,o=-this.d*s-this.k*(t-n),a=t+s*r+o*r*r/2;return i.velocity=s+o*r,i.done=Math.abs(n-a)+Math.abs(s)<.002,i.done?n:a}}ae(av,{duration:Bs("_duration",d1),overshoot:Bs("_overshoot",d1)});class lv extends Al{constructor(t=.1,n=.01,r=0,i=1e3){super(),this.p(t).i(n).d(r).windup(i)}step(t,n,r,i){if(typeof t=="string")return t;if(i.done=r===1/0,r===1/0)return n;if(r===0)return t;const s=n-t;let o=(i.integral||0)+s*r;const a=(s-(i.error||0))/r,l=this._windup;return l!==!1&&(o=Math.max(-l,Math.min(o,l))),i.error=s,i.integral=o,i.done=Math.abs(s)<.001,i.done?n:t+(this.P*s+this.I*o+this.D*a)}}ae(lv,{windup:Bs("_windup"),p:Bs("P"),i:Bs("I"),d:Bs("D")});const uv={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},lh={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},uh="mlhvqtcsaz".split("");for(let e=0,t=uh.length;e<t;++e)lh[uh[e]]=function(n){return function(r,i,s){if(n==="H")r[0]=r[0]+i.x;else if(n==="V")r[0]=r[0]+i.y;else if(n==="A")r[5]=r[5]+i.x,r[6]=r[6]+i.y;else for(let o=0,a=r.length;o<a;++o)r[o]=r[o]+(o%2?i.y:i.x);return lh[n](r,i,s)}}(uh[e].toUpperCase());function cv(e){const t=e.segment[0];return lh[t](e.segment.slice(1),e.p,e.p0)}function ch(e){return e.segment.length&&e.segment.length-1===uv[e.segment[0].toUpperCase()]}function hv(e,t){e.inNumber&&es(e,!1);const n=Zc.test(t);if(n)e.segment=[t];else{const r=e.lastCommand,i=r.toLowerCase(),s=r===i;e.segment=[i==="m"?s?"l":"L":r]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function es(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,ch(e)&&hh(e)}function hh(e){e.inSegment=!1,e.absolute&&(e.segment=cv(e)),e.segments.push(e.segment)}function fv(e){if(!e.segment.length)return!1;const t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function dv(e){return e.lastToken.toUpperCase()==="E"}const pv=new Set([" ",",","	",`
`,"\r","\f"]);function gv(e,t=!0){let n=0,r="";const i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new $e,p:new $e};for(;i.lastToken=r,r=e.charAt(n++);)if(!(!i.inSegment&&hv(i,r))){if(r==="."){if(i.pointSeen||i.hasExponent){es(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r;continue}if(!isNaN(parseInt(r))){if(i.number==="0"||fv(i)){i.inNumber=!0,i.number=r,es(i,!0);continue}i.inNumber=!0,i.number+=r;continue}if(pv.has(r)){i.inNumber&&es(i,!1);continue}if(r==="-"||r==="+"){if(i.inNumber&&!dv(i)){es(i,!1),--n;continue}i.number+=r,i.inNumber=!0;continue}if(r.toUpperCase()==="E"){i.number+=r,i.hasExponent=!0;continue}if(Zc.test(r)){if(i.inNumber)es(i,!1);else if(ch(i))hh(i);else throw new Error("parser Error");--n}}return i.inNumber&&es(i,!1),i.inSegment&&ch(i)&&hh(i),i.segments}function mv(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}class ns extends Ds{bbox(){return vi().path.setAttribute("d",this.toString()),new vn(vi.nodes.path.getBBox())}move(t,n){const r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let i,s=this.length-1;s>=0;s--)i=this[s][0],i==="M"||i==="L"||i==="T"?(this[s][1]+=t,this[s][2]+=n):i==="H"?this[s][1]+=t:i==="V"?this[s][1]+=n:i==="C"||i==="S"||i==="Q"?(this[s][1]+=t,this[s][2]+=n,this[s][3]+=t,this[s][4]+=n,i==="C"&&(this[s][5]+=t,this[s][6]+=n)):i==="A"&&(this[s][6]+=t,this[s][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),gv(t)}size(t,n){const r=this.bbox();let i,s;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,i=this.length-1;i>=0;i--)s=this[i][0],s==="M"||s==="L"||s==="T"?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y):s==="H"?this[i][1]=(this[i][1]-r.x)*t/r.width+r.x:s==="V"?this[i][1]=(this[i][1]-r.y)*n/r.height+r.y:s==="C"||s==="S"||s==="Q"?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y,this[i][3]=(this[i][3]-r.x)*t/r.width+r.x,this[i][4]=(this[i][4]-r.y)*n/r.height+r.y,s==="C"&&(this[i][5]=(this[i][5]-r.x)*t/r.width+r.x,this[i][6]=(this[i][6]-r.y)*n/r.height+r.y)):s==="A"&&(this[i][1]=this[i][1]*t/r.width,this[i][2]=this[i][2]*n/r.height,this[i][6]=(this[i][6]-r.x)*t/r.width+r.x,this[i][7]=(this[i][7]-r.y)*n/r.height+r.y);return this}toString(){return mv(this)}}const p1=e=>{const t=typeof e;return t==="number"?Jt:t==="string"?Ae.isColor(e)?Ae:Kr.test(e)?Zc.test(e)?ns:Ds:Yd.test(e)?Jt:fh:dh.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?Ds:t==="object"?Zo:fh};class rs{constructor(t){this._stepper=t||new ah("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(p1(t));let n=new this._type(t);return this._type===Ae&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===Zo&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}}class fh{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ko{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Ko.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Ko.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const bv=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class Zo{constructor(...t){this.init(...t)}align(t){const n=this.values;for(let r=0,i=n.length;r<i;++r){if(n[r+1]===t[r+1]){if(n[r+1]===Ae&&t[r+7]!==n[r+7]){const a=t[r+7],l=new Ae(this.values.splice(r+3,5))[a]().toArray();this.values.splice(r+3,0,...l)}r+=n[r+2]+2;continue}if(!t[r+1])return this;const s=new t[r+1]().toArray(),o=n[r+2]+3;n.splice(r,o,t[r],t[r+1],t[r+2],...s),r+=n[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const n=[];for(const r in t){const i=p1(t[r]),s=new i(t[r]).toArray();n.push([r,i,s.length,...s])}return n.sort(bv),this.values=n.reduce((r,i)=>r.concat(i),[]),this}toArray(){return this.values}valueOf(){const t={},n=this.values;for(;n.length;){const r=n.shift(),i=n.shift(),s=n.shift(),o=n.splice(0,s);t[r]=new i(o)}return t}}const dh=[fh,Ko,Zo];function vv(e=[]){dh.push(...[].concat(e))}function yv(){ae(dh,{to(e){return new rs().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,r,i){const s=function(o,a){return r.step(o,t[a],n,i[a],i)};return this.fromArray(e.map(s))}})}class qs extends Gn{constructor(t,n=t){super(Re("path",t),n)}array(){return this._array||(this._array=new ns(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new ns(t))}size(t,n){const r=Is(this,t,n);return this.attr("d",this.array().size(r.width,r.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}qs.prototype.MorphArray=ns,ie({Container:{path:De(function(e){return this.put(new qs).plot(e||new ns)})}}),he(qs,"Path");function wv(){return this._array||(this._array=new wi(this.attr("points")))}function xv(){return delete this._array,this}function Av(e,t){return this.attr("points",this.array().move(e,t))}function Sv(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new wi(e))}function Nv(e,t){const n=Is(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}const g1=Object.freeze(Object.defineProperty({__proto__:null,array:wv,clear:xv,move:Av,plot:Sv,size:Nv},Symbol.toStringTag,{value:"Module"}));class Qo extends Gn{constructor(t,n=t){super(Re("polygon",t),n)}}ie({Container:{polygon:De(function(e){return this.put(new Qo).plot(e||new wi)})}}),ae(Qo,sh),ae(Qo,g1),he(Qo,"Polygon");class ta extends Gn{constructor(t,n=t){super(Re("polyline",t),n)}}ie({Container:{polyline:De(function(e){return this.put(new ta).plot(e||new wi)})}}),ae(ta,sh),ae(ta,g1),he(ta,"Polyline");class Sl extends Gn{constructor(t,n=t){super(Re("rect",t),n)}}ae(Sl,{rx:rh,ry:ih}),ie({Container:{rect:De(function(e,t){return this.put(new Sl).size(e,t)})}}),he(Sl,"Rect");class ph{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const ye={nextDraw:null,frames:new ph,timeouts:new ph,immediates:new ph,timer:()=>ce.window.performance||ce.window.Date,transforms:[],frame(e){const t=ye.frames.push({run:e});return ye.nextDraw===null&&(ye.nextDraw=ce.window.requestAnimationFrame(ye._draw)),t},timeout(e,t){t=t||0;const n=ye.timer().now()+t,r=ye.timeouts.push({run:e,time:n});return ye.nextDraw===null&&(ye.nextDraw=ce.window.requestAnimationFrame(ye._draw)),r},immediate(e){const t=ye.immediates.push(e);return ye.nextDraw===null&&(ye.nextDraw=ce.window.requestAnimationFrame(ye._draw)),t},cancelFrame(e){e!=null&&ye.frames.remove(e)},clearTimeout(e){e!=null&&ye.timeouts.remove(e)},cancelImmediate(e){e!=null&&ye.immediates.remove(e)},_draw(e){let t=null;const n=ye.timeouts.last();for(;(t=ye.timeouts.shift())&&(e>=t.time?t.run():ye.timeouts.push(t),t!==n););let r=null;const i=ye.frames.last();for(;r!==i&&(r=ye.frames.shift());)r.run(e);let s=null;for(;s=ye.immediates.shift();)s();ye.nextDraw=ye.timeouts.first()||ye.frames.first()?ce.window.requestAnimationFrame(ye._draw):null}},kv=function(e){const t=e.start,n=e.runner.duration(),r=t+n;return{start:t,duration:n,end:r,runner:e.runner}},Lv=function(){const e=ce.window;return(e.performance||e.Date).now()};class m1 extends Go{constructor(t=Lv){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){const t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const n=this.speed();if(t==null)return this.speed(-n);const r=Math.abs(n);return this.speed(t?-r:r)}schedule(t,n,r){if(t==null)return this._runners.map(kv);let i=0;const s=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")i=s;else if(r==="absolute"||r==="start")i=n,n=0;else if(r==="now")i=this._time;else if(r==="relative"){const l=this.getRunnerInfoById(t.id);l&&(i=l.start+n,n=0)}else if(r==="with-last"){const l=this.getLastRunnerInfo();i=l?l.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:o===null?this._persist:o,start:i+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return ye.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=ye.frame(this._step),this)}_stepFn(t=!1){const n=this._timeSource();let r=n-this._lastSourceTime;t&&(r=0);const i=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],l=a.runner;this._time-a.start<=0&&l.reset()}let s=!1;for(let o=0,a=this._runners.length;o<a;o++){const l=this._runners[o],c=l.runner;let f=i;const p=this._time-l.start;if(p<=0){s=!0;continue}else p<f&&(f=p);if(!c.active())continue;c.step(f).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--o,--a):s=!0}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ie({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new m1,this._timeline):(this._timeline=e,this)}}});class Vn extends Go{constructor(t){super(),this.id=Vn.id++,t=t??Vo.duration,t=typeof t=="function"?new Al(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof Al,this._stepper=this._isDeclarative?t:new ah,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new fe,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,n,r){let i=1,s=!1,o=0;return t=t??Vo.duration,n=n??Vo.delay,r=r||"last",typeof t=="object"&&!(t instanceof oh)&&(n=t.delay??n,r=t.when??r,s=t.swing||s,i=t.times??i,o=t.wait??o,t=t.duration??Vo.duration),{duration:t,delay:n,swing:s,times:i,wait:o,when:r}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,n,r){const i=Vn.sanitise(t,n,r),s=new Vn(i.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new fe,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new ah(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,n,r){return typeof t=="object"&&(n=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=n||!1,this._wait=r||0,this._times===!0&&(this._times=1/0),this}loops(t){const n=this._duration+this._wait;if(t==null){const o=Math.floor(this._time/n),l=(this._time-o*n)/this._duration;return Math.min(o+l,this._times)}const r=Math.floor(t),i=t%1,s=n*r+this._duration*i;return this.time(s)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const n=this._time,r=this._duration,i=this._wait,s=this._times,o=this._swing,a=this._reverse;let l;if(t==null){const b=function(x){const w=o*Math.floor(x%(2*(i+r))/(i+r)),A=w&&!a||!w&&a,y=Math.pow(-1,A)*(x%(i+r))/r+A;return Math.max(Math.min(y,1),0)},g=s*(i+r)-i;return l=n<=0?Math.round(b(1e-5)):n<g?b(n):Math.round(b(g-1e-5)),l}const c=Math.floor(this.loops()),f=o&&c%2===0;return l=c+(f&&!a||a&&f?t:1-t),this.loops(l)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,n,r,i){return this._queue.push({initialiser:t||n1,runner:n||n1,retarget:r,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,n,r){if(t instanceof m1||(r=n,n=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,n,r),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const n=this.position(),r=this._lastPosition!==n&&this._time>=0;this._lastPosition=n;const i=this.duration(),s=this._lastTime<=0&&this._time>0,o=this._lastTime<i&&this._time>=i;this._lastTime=this._time,s&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=i,this._reseted=!1;let l=!1;return(r||a)&&(this._initialise(r),this.transforms=new fe,l=this._run(a?t:n),this.fire("step",this)),this.done=this.done||l&&a,o&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const n=t-this._time;return this.step(n),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let n=0,r=this._queue.length;n<r;++n){const i=this._queue[n],s=this._isDeclarative||!i.initialised&&t;t=!i.finished,s&&t&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(t,n){if(this._history[t]={morpher:n,caller:this._queue[this._queue.length-1]},this._isDeclarative){const r=this.timeline();r&&r.play()}}_run(t){let n=!0;for(let r=0,i=this._queue.length;r<i;++r){const s=this._queue[r],o=s.runner.call(this,t);s.finished=s.finished||o===!0,n=n&&s.finished}return n}_tryRetarget(t,n,r){if(this._history[t]){if(!this._history[t].caller.initialised){const s=this._queue.indexOf(this._history[t].caller);return this._queue.splice(s,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,n,r):this._history[t].morpher.to(n),this._history[t].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}Vn.id=0;class Nl{constructor(t=new fe,n=-1,r=!0){this.transforms=t,this.id=n,this.done=r}clearTransformsFromQueue(){}}ae([Vn,Nl],{mergeWith(e){return new Nl(e.transforms.lmultiply(this.transforms),e.id)}});const b1=(e,t)=>e.lmultiplyO(t),v1=e=>e.transforms;function _v(){const t=this._transformationRunners.runners.map(v1).reduce(b1,new fe);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Mv{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){const n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new Nl).forEach(r=>r.clearTransformsFromQueue()),this}edit(t,n){const r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){const r=this.runners[n];if(t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(r.id);const s=r.mergeWith(t);this.edit(t.id,s),t=s,--n}else t=r}return this}remove(t){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}}ie({Element:{animate(e,t,n){const r=Vn.sanitise(e,t,n),i=this.timeline();return new Vn(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(v1).reduce(b1,new fe)},_addRunner(e){this._transformationRunners.add(e),ye.cancelImmediate(this._frameId),this._frameId=ye.immediate(_v.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Mv().add(new Nl(new fe(this))))}}});const Pv=(e,t)=>e.filter(n=>!t.includes(n));ae(Vn,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let r=t;if(this._tryRetarget(e,r))return this;let i=new rs(this._stepper).to(r),s=Object.keys(r);return this.queue(function(){i=i.from(this.element()[e](s))},function(o){return this.element()[e](i.at(o).valueOf()),i.done()},function(o){const a=Object.keys(o),l=Pv(a,s);if(l.length){const f=this.element()[e](l),p=new Zo(i.from()).valueOf();Object.assign(p,f),i.from(p)}const c=new Zo(i.to()).valueOf();Object.assign(c,o),i.to(c),s=a,r=o}),this._rememberMorpher(e,i),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new rs(this._stepper).to(new Jt(e));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),t),n.done()},function(r,i){t=i,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const r=fe.isMatrixLike(e);n=e.affine!=null?e.affine:n??!r;const i=new rs(this._stepper).type(n?Ko:fe);let s,o,a,l,c;function f(){o=o||this.element(),s=s||Gc(e,o),c=new fe(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}function p(g){t||this.clearTransform();const{x,y:w}=new $e(s).transform(o._currentTransform(this));let A=new fe({...e,origin:[x,w]}),y=this._isDeclarative&&a?a:c;if(n){A=A.decompose(x,w),y=y.decompose(x,w);const I=A.rotate,U=y.rotate,D=[I-360,I,I+360],Z=D.map(X=>Math.abs(X-U)),W=Math.min(...Z),j=Z.indexOf(W);A.rotate=D[j]}t&&(r||(A.rotate=e.rotate||0),this._isDeclarative&&l&&(y.rotate=l)),i.from(y),i.to(A);const k=i.at(g);return l=k.rotate,a=new fe(k),this.addTransform(a),o._addRunner(this),i.done()}function b(g){(g.origin||"center").toString()!==(e.origin||"center").toString()&&(s=Gc(g,o)),e={...g,origin:s}}return this.queue(f,p,b,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new Jt(t),this._tryRetarget(e,t))return this;const n=new rs(this._stepper).to(t);let r=null;return this.queue(function(){r=this.element()[e](),n.from(r),n.to(r+t)},function(i){return this.element()[e](n.at(i)),n.done()},function(i){n.to(r+new Jt(i))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const n=new rs(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(r){return this.element()[e](n.at(r)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new Jt(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,r){if(arguments.length===4)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;const i=new rs(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){i.from(this._element.array())},function(s){return this._element.plot(i.at(s)),i.done()}),this._rememberMorpher("plot",i),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,r){return this._queueObject("viewbox",new vn(e,t,n,r))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}}),ae(Vn,{rx:rh,ry:ih,from:h1,to:f1}),he(Vn,"Runner");class gh extends Rn{constructor(t,n=t){super(Re("svg",t),n),this.namespace()}defs(){return this.isRoot()?Qn(this.node.querySelector("defs"))||this.put(new nh):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ce.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Yc,version:"1.1"}).attr("xmlns:xlink",Ho,$c):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,$c).attr("xmlns:svgjs",null,$c)}root(){return this.isRoot()?this:super.root()}}ie({Container:{nested:De(function(){return this.put(new gh)})}}),he(gh,"Svg",!0);let mh=class extends Rn{constructor(t,n=t){super(Re("symbol",t),n)}};ie({Container:{symbol:De(function(){return this.put(new mh)})}}),he(mh,"Symbol");function Cv(e){return this._build===!1&&this.clear(),this.node.appendChild(ce.document.createTextNode(e)),this}function Fv(){return this.node.getComputedTextLength()}function Ev(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function Iv(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function Tv(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function jv(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function Ov(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function Rv(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function Dv(e){return this.attr("x",e)}function Bv(e){return this.attr("y",e)}function qv(e,t){return this.ax(e).ay(t)}function zv(e){return this._build=!!e,this}const y1=Object.freeze(Object.defineProperty({__proto__:null,amove:qv,ax:Dv,ay:Bv,build:zv,center:Rv,cx:jv,cy:Ov,length:Fv,move:Tv,plain:Cv,x:Ev,y:Iv},Symbol.toStringTag,{value:"Module"}));class hr extends Gn{constructor(t,n=t){super(Re("text",t),n),this.dom.leading=this.dom.leading??new Jt(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new Jt(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const n=this;let r=0;const i=this.dom.leading;this.each(function(s){if(Vc(this.node))return;const o=ce.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=i*new Jt(o);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=a:(this.attr("dy",s?a+r:0),r=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new Jt(t.leading||1.3),this}writeDataToDom(){return Wd(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const n=this.node.childNodes;let r=0;t="";for(let i=0,s=n.length;i<s;++i){if(n[i].nodeName==="textPath"||Vc(n[i])){i===0&&(r=i+1);continue}i!==r&&n[i].nodeType!==3&&Qn(n[i]).dom.newLined===!0&&(t+=`
`),t+=n[i].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,r=t.length;n<r;n++)this.newLine(t[n])}return this.build(!1).rebuild()}}ae(hr,y1),ie({Container:{text:De(function(e=""){return this.put(new hr).text(e)}),plain:De(function(e=""){return this.put(new hr).plain(e)})}}),he(hr,"Text");class kl extends Gn{constructor(t,n=t){super(Re("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof hr))return this;const n=t.index(this),r=ce.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new Jt(r);return this.dy(n?i:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}ae(kl,y1),ie({Tspan:{tspan:De(function(e=""){const t=new kl;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}}),he(kl,"Tspan");class bh extends Gn{constructor(t,n=t){super(Re("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new Jt(t).divide(2))}}ae(bh,{x:i1,y:s1,cx:o1,cy:a1,width:l1,height:u1}),ie({Container:{circle:De(function(e=0){return this.put(new bh).size(e).move(0,0)})}}),he(bh,"Circle");class vh extends Rn{constructor(t,n=t){super(Re("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return Os("svg [clip-path*="+this.id()+"]")}}ie({Container:{clip:De(function(){return this.defs().put(new vh)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof vh?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),he(vh,"ClipPath");class w1 extends Fr{constructor(t,n=t){super(Re("foreignObject",t),n)}}ie({Container:{foreignObject:De(function(e,t){return this.put(new w1).size(e,t)})}}),he(w1,"ForeignObject");function Uv(e,t){return this.children().forEach(n=>{let r;try{r=n.node instanceof Vm().SVGSVGElement?new vn(n.attr(["x","y","width","height"])):n.bbox()}catch{return}const i=new fe(n),s=i.translate(e,t).transform(i.inverse()),o=new $e(r.x,r.y).transform(s);n.move(o.x,o.y)}),this}function Hv(e){return this.dmove(e,0)}function Wv(e){return this.dmove(0,e)}function Gv(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function Vv(e=0,t=0,n=this.bbox()){const r=e-n.x,i=t-n.y;return this.dmove(r,i)}function Yv(e,t,n=this.bbox()){const r=Is(this,e,t,n),i=r.width/n.width,s=r.height/n.height;return this.children().forEach(o=>{const a=new $e(n).transform(new fe(o).inverse());o.scale(i,s,a.x,a.y)}),this}function $v(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function Xv(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function Jv(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}const x1=Object.freeze(Object.defineProperty({__proto__:null,dmove:Uv,dx:Hv,dy:Wv,height:Gv,move:Vv,size:Yv,width:$v,x:Xv,y:Jv},Symbol.toStringTag,{value:"Module"}));let yh=class extends Rn{constructor(t,n=t){super(Re("g",t),n)}};ae(yh,x1),ie({Container:{group:De(function(){return this.put(new yh)})}}),he(yh,"G");let Ll=class extends Rn{constructor(t,n=t){super(Re("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Ho)}};ae(Ll,x1),ie({Container:{link:De(function(e){return this.put(new Ll).to(e)})},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new Ll,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}}),he(Ll,"A");class wh extends Rn{constructor(t,n=t){super(Re("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return Os("svg [mask*="+this.id()+"]")}}ie({Container:{mask:De(function(){return this.defs().put(new wh)})},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof wh?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),he(wh,"Mask");class A1 extends Fr{constructor(t,n=t){super(Re("stop",t),n)}update(t){return(typeof t=="number"||t instanceof Jt)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new Jt(t.offset)),this}}ie({Gradient:{stop:function(e,t,n){return this.put(new A1).update(e,t,n)}}}),he(A1,"Stop");function Kv(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(const r in t)n+=Hm(r)+":"+t[r]+";";return n+="}",n}class xh extends Fr{constructor(t,n=t){super(Re("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,r={}){return this.rule("@font-face",{fontFamily:t,src:n,...r})}rule(t,n){return this.addText(Kv(t,n))}}ie("Dom",{style(e,t){return this.put(new xh).rule(e,t)},fontface(e,t,n){return this.put(new xh).font(e,t,n)}}),he(xh,"Style");class Ah extends hr{constructor(t,n=t){super(Re("textPath",t),n)}array(){const t=this.track();return t?t.array():null}plot(t){const n=this.track();let r=null;return n&&(r=n.plot(t)),t==null?r:this}track(){return this.reference("href")}}ie({Container:{textPath:De(function(e,t){return e instanceof hr||(e=this.text(e)),e.path(t)})},Text:{path:De(function(e,t=!0){const n=new Ah;e instanceof qs||(e=this.defs().path(e)),n.attr("href","#"+e,Ho);let r;if(t)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:De(function(e){return e instanceof hr||(e=new hr().addTo(this.parent()).text(e)),e.path(this)}),targets(){return Os("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}}),Ah.prototype.MorphArray=ns,he(Ah,"TextPath");class S1 extends Gn{constructor(t,n=t){super(Re("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,Ho)}}ie({Container:{use:De(function(e,t){return this.put(new S1).use(e,t)})}}),he(S1,"Use");const Sh=Cn;ae([gh,mh,wl,Xo,xl],On("viewbox")),ae([Jo,ta,Qo,qs],On("marker")),ae(hr,On("Text")),ae(qs,On("Path")),ae(nh,On("Defs")),ae([hr,kl],On("Tspan")),ae([Sl,yl,$o,Vn],On("radius")),ae(Go,On("EventTarget")),ae(yi,On("Dom")),ae(Fr,On("Element")),ae(Gn,On("Shape")),ae([Rn,c1],On("Container")),ae($o,On("Gradient")),ae(Vn,On("Runner")),ts.extend(zm()),vv([Jt,Ae,vn,fe,Ds,wi,ns,$e]),yv();const zs=(e,t,n)=>(1-n)*e+n*t,Nh=(e,t,n)=>Math.max(e,Math.min(t,n));function N1(e){return function(){return e=(1664525*e+1013904223)%4294967296,e/4294967296}}function Zv(e,t){e=e.slice();for(let n=e.length-1;n>0;n--){const r=Math.floor(t()*(n+1)),i=e[n];e[n]=e[r],e[r]=i}return e}function Qv(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tr(e){const t=[];function n(r){t.push(r);for(const i of r.children)n(i)}return n(e),t}function*Zr(e){yield e;for(const t of e.children)yield*Zr(t)}function ty(e,t,n,r){const i=new Map;for(const s of e){const o=r(s);i.set(t(s),o)}for(const s of e){const o=i.get(n(s)),a=i.get(t(s));o&&(a.parent=o,o.children.push(a))}for(const s of i.values())if(s.parent==null)return s}function k1(e,t,n,r,i,s){const o=e.group().addClass("sample-taken-label"),a=1,l=3,c=r>t?1:-1,f=tc(1);return f.moveTo(t,n),f.lineTo(r-l*c,n),f.arcTo(r,n,r,i,l),f.lineTo(r,i),o.path(f.toString()).addClass("arrow").stroke({color:"#606060",width:a,linecap:"round"}).fill("none").attr("marker-end","url(#small-arrowhead)"),o.plain(s).font({family:"sans-serif",size:10,anchor:c==1?"end":"start"}).attr({"alignment-baseline":"middle"}).translate(t-3*c,n),o}function ey(e,t,n,r,i,s,o=1,a=1,l=1,c="none"){const f=e.group().addClass("bell"),p=M1(t,n,0);function b(g){const x=n.get(g.subclone),w=x(0,0),A=x(1,0),y=x(0,1),k=x(1,1);if(Math.abs(A-k)<.001)return;let I;const U=D=>Math.round(D*10)/10;if(w==A&&y==k){const D=p.get(g.subclone);D[1]-D[0]>.001&&(I=f.rect(U(o),U((y-w)*a)).move(0,U(w*a)))}else{let Z=0;for(let j=0;j<=50;j++){const X=j/50;if(x(X,0)-x(X,1)!=0){Z=Math.max(0,j-1);break}}const W=tc(1);W.moveTo(Z/50*o,x(Z/50,1)*a);for(let j=Z+1;j<=50;j++){const X=j/50;W.lineTo(X*o,x(X,1)*a)}for(let j=50;j>=Z;j--){const X=j/50;W.lineTo(X*o,x(X,0)*a)}W.lineTo(Z/50*o,x(Z/50,1)*a),I=f.path(W.toString())}if(I){const D=i.get(g.subclone);I.fill(D).stroke({color:pi(D).darker(s.bellStrokeDarkening).toString(),width:s.bellStrokeWidth??1}).addClass("subclone").data("subclone",g.subclone),x.emerging&&I.data("descendant-subclones",tr(g).map(Z=>Z.subclone)),I.add(Sh(`<title>${ny(g.subclone,x.subcloneMetrics)}</title>`))}for(const D of g.children)b(D)}b(t);for(const g of r){const x=i.get(g),w=n.get(g)(1,0)*a;f.line(0,w,o,w).stroke({color:x,width:l,dasharray:"6,4"}).addClass("pass-through").attr({"pointer-events":"none"}).data("subclone",g)}if(c!="none"){const g=s.bellStrokeWidth??1,x=Math.round(o*s.bellPlateauPos);if(f.line(x,g,x,a-g).stroke({color:"black",width:g,dasharray:[1,4].map(w=>w*g).join(","),linecap:"round",opacity:c=="all"?.5:.2}).addClass("sample-taken-line"),c=="all"){const w=x+(o-x)/2;k1(f,w-14,12,w,5,"Sample taken").translate(0,a)}}return f}const L1=Za(".3f");function ny(e,t){let n=`Subclone: ${e}`;return t&&(n+=`
Clonal prevalence: ${L1(t.clonalPrevalence)}`,n+=`
Cancer cell fraction: ${L1(t.cancerCellFraction)}`),n}function ry(e,t,n,r,i){function s(l){return(l.children??[]).filter(c=>t.get(c.subclone).cancerCellFraction>.001&&!i.has(c.subclone)).map(c=>s(c)).reduce((c,f)=>Math.max(c,f),0)+1}const o=new Map;function a(l,c=(b,g)=>g,f=0,p=b=>b){var X,rt;const b=l.parent,g=l.subclone,x=t.get(g),w=n.has(g),A=s(l),y=w?0:(1-f)/(A+1);b&&!i.has(b.subclone)&&(f+=y);const k=(X=l.parent)==null?void 0:X.subclone;if(!w&&k&&n.has(k)){const L=y/2,C=1/r.bellPlateauPos;p=q=>q*(C-L)+L}const I=L=>{const C=Nh(0,.9999,r.bellTipShape);return oy(f,1,p(L),C)},U=w||i.has((rt=l.parent)==null?void 0:rt.subclone),D=(L,C)=>c(L,zs(I(L),1,U?1:0)*x.fractionOfParent*(C-.5)+.5);D.subcloneMetrics=x,D.emerging=!w,o.set(l.subclone,D);const Z=_1(l,t,!0),W=_1(l,t,!1),j=L=>w?()=>W[L]:C=>{const q=f+y;let B=q>=1?1:iy(q,1,p(C));const at=1-r.bellTipSpread;return B=B*(1-at)+at,zs(Z[L],W[L],B)};for(let L=0;L<l.children.length;L++){const C=l.children[L],q=j(L);a(C,(B,at)=>D(B,at+q(B)),f,p)}}return a(e),o}function _1(e,t,n=!1){const r=e.children.map(l=>t.get(l.subclone).fractionOfParent),i=[],s=1-r.reduce((l,c)=>l+c,0),o=n?s/(r.length+1):0;let a=n?o:s;for(const l of r)i.push(a+(l-1)/2),a+=l+o;return i}function M1(e,t,n=1){const r=new Map;function i(o){const a=t.get(o.subclone),l=a(n,0);let f=a(n,1);for(const p of o.children){const b=i(p);t.get(p.subclone).subcloneMetrics.cancerCellFraction>0&&(f=Math.min(f,b))}return r.set(o.subclone,[l,f]),l}i(e);const s=Array.from(r.values()).filter(o=>o[1]-o[0]>0).sort((o,a)=>o[0]-a[0]);for(let o=0;o<s.length-1;o++)s[o][1]=Math.max(s[o][1],s[o+1][0]);return s.length>0&&(s[s.length-1][1]=Array.from(t.values()).map(o=>o(n,1)).filter(o=>!isNaN(o)).reduce((o,a)=>Math.max(o,a),0)),r}function iy(e,t,n){return n=Nh(0,1,(n-e)/(t-e)),n*n*(3-2*n)}function sy(e,t,n){return n=Nh(0,1,(n-e)/(t-e)),n*n*n*(3*n*(2*n-5)+10)}function oy(e,t,n,r=.1){const i=t-e,s=a=>sy(e-i*(1/(1-r)-1),t,a),o=s(e);return Math.max(0,s(n)-o)/(1-o)}const Ee={REAL_SAMPLE:"real",INFERRED_SAMPLE:"inferred",GAP:"gap"};function ay(e,t){const n={sample:{sample:"root",displayName:"Inferred root",rank:0,parent:null,indexNumber:null},type:Ee.INFERRED_SAMPLE,parent:null,children:[],rank:0},r=e.map((i,s)=>({sample:{...i,indexNumber:s},type:t(i)?Ee.REAL_SAMPLE:Ee.INFERRED_SAMPLE,parent:null,children:[],rank:i.rank}));return ly(r),[n,...r]}function ly(e){if(e.some(t=>t.rank==null)&&e.some(t=>t.rank!=null))throw new Error("Rank must be either defined for all samples or none.");if(e.some(t=>t.rank===0))throw new Error("Rank 0 is reserved for the inferred root.")}function uy(e){const t=e.find(r=>r.rank==0),n=new Map(e.map(r=>[r.sample.sample,r]));for(const r of e){const i=n.get(r.sample.parent);if(r.sample.parent&&!i)throw new Error(`Parent "${r.sample.parent}" not found!`);i&&(r.parent=i,i.children.push(r)),!r.parent&&r!=t&&(r.parent=t,t.children.push(r))}return cy(t),t}function cy(e){for(const t of Zr(e))if(t.rank==null){if(!t.parent)throw new Error("Rank must be defined for the root node.");t.rank=t.parent.rank+1}else if(t.parent&&t.rank<=t.parent.rank)throw new Error(`Node "${t.sample.sample}" has rank ${t.rank} <= its parent's rank ${t.parent.rank}`)}const P1=e=>Array.from(new Set(e.map(t=>t.rank)).values()).sort((t,n)=>t-n);function hy(e){e=structuredClone(e);const t=tr(e),n=P1(t);for(const r of t){const i=r.parent;if(!i)continue;const s=n.slice(n.indexOf(i.rank)+1,n.indexOf(r.rank));let o=i;for(const a of s){const l={sample:null,type:Ee.GAP,parent:o,children:[r],rank:a};r.parent=l,o.children[o.children.findIndex(c=>c==r)]=l,o=l}}return e}function fy(e){return new Map(e.map((t,n)=>[t,n]))}function dy(e,t){e=structuredClone(e);for(const n of Zr(e))n.rank=t.get(n.rank);return e}function py(e,t){const n=ay(e,t),r=uy(n),i=fy(P1(tr(r)));return{sampleTree:hy(dy(r,i)),rankPackMap:i}}function gy(e,t){const n=new Map;for(const{rank:r,title:i}of e){const s=t.get(r);s!=null&&n.set(s,i)}return n}function C1(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const s of e)t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x+s.width),i=Math.max(i,s.y+s.height);return{x:t,y:n,width:r-t,height:i-n}}function my(e,t){const n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-n),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-r);return i>0&&s>0?{x:n,y:r,width:i,height:s}:null}function by(e,t){for(const n of t)if(my(e,n)!==null)return!0;return!1}function vy(e){const t=tr(e),n=t.map(i=>i.rank).reduce((i,s)=>Math.max(i,s),0),r=[];for(let i=0;i<=n;i++)r[i]=[];for(const i of t)r[i.rank].push(i);return r}function yy(e,t){const n=e.length,r=[];for(let s=0;s<n;s++)r.push({left:(t.sampleWidth+t.columnSpacing)*s,width:t.sampleWidth});const i=new Map;for(let s=0;s<n;s++){const o=e[s],a=r[s];for(let l=0;l<o.length;l++){const c=o[l];i.set(c.node,{x:a.left,y:c.top,width:a.width,height:c.height})}}return i}function wy(e,t,n,r){const i=[];for(let w=1;w<e.length;w++){const A=[];i.push(A);const y=e[w],k=e[w-1];for(const I of y){const U=I.node,D=k.find(Z=>Z.node==U.parent);D&&A.push([D.top+D.height/2,I.top+I.height/2])}}function s(w){let A=0;for(const y of w)for(const k of w)y!=k&&y[0]<k[0]&&y[1]>k[1]&&(A+=1);return A}function o(w){let A=0;for(const y of w){const k=y[1]-y[0],I=Math.sqrt(t.columnSpacing**2+k**2);A+=I}return A}function a(w){var k;let A=0,y=-1;for(const I of w){const U=I.node.type==Ee.REAL_SAMPLE?(k=I.node.sample)==null?void 0:k.indexNumber:-1;U>=0&&(y>=0&&(A+=r[y][U]),y=U)}return A}function l(w){for(;w.type==Ee.GAP;)w=w.children[0];return w}function c(w,A){let y=0,k=-1;for(const{node:I}of w){const U=A?l(I):I,D=U.sample?n[U.sample.indexNumber]:-1;D>=0&&(k>=0&&A==(I.type==Ee.GAP)&&(y+=Math.max(0,k-D)),(A||!A&&I.type!=Ee.GAP)&&(k=D))}return y}const f=t.crossingWeight>0?i.reduce((w,A)=>w+s(A),0):0,p=t.pathLengthWeight>0?i.reduce((w,A)=>w+o(A),0)/(t.sampleHeight+t.sampleSpacing):0,b=t.orderMismatchWeight>0?e.reduce((w,A)=>w+c(A,!1),0):0,g=t.divergenceWeight>0?e.reduce((w,A)=>w+a(A),0):0,x=t.bundleMismatchWeight>0?e.reduce((w,A)=>w+c(A,!0),0):0;return f*t.crossingWeight+p*t.pathLengthWeight+b*t.orderMismatchWeight+g*t.divergenceWeight+x*t.bundleMismatchWeight}const xy={[Ee.REAL_SAMPLE]:"sampleHeight",[Ee.INFERRED_SAMPLE]:"inferredSampleHeight",[Ee.GAP]:"gapHeight"};function Ay(e,t){let n=0;const r=[];let i;for(const o of e){const a=o.type;i&&(a!=Ee.GAP&&i!=Ee.GAP?n+=t.sampleSpacing:a==Ee.GAP&&i==Ee.GAP&&(n-=t.gapHeight/2.5));const l=t[xy[a]];r.push({node:o,top:n,height:l}),n+=l,i=a}const s=n/2;for(const o of r)o.top-=s;return r}function Sy(e,t,n,r,i=N1(0),s=1e4){let o,a=1/0;for(let l=0;l<s;l++){const f=e.map(b=>Zv(b,i)).map(b=>Ay(b,t)),p=wy(f,t,n,r);p<a&&(o=f,a=p)}return{stackedColumns:o,cost:a}}function Ny(e,t,n){const r=Array.from(e.values()),i=30,s=10,o=t+s*2,a=n+i*2,l=C1(r),c={x:l.x+l.width-o,y:l.y+l.height-a},f={x:l.x+l.width-o,y:l.y},p={x:l.x,y:l.y+l.height-a},b={x:l.x,y:l.y};for(const g of[c,f,p,b]){const x={...g,width:o,height:a};if(!by(x,r))return{x:g.x+s,y:g.y+i,width:t,height:n}}return{x:l.x+l.width+40,y:l.y+Math.round((l.height-n)/2),width:t,height:n}}const kh={rectWidth:12,rectHeight:12,rectSpacing:5,fontSize:12};function ky(e,t=kh){return e*(t.rectHeight+t.rectSpacing)-t.rectSpacing}function Ly(e,t,n,r=kh){const i=e.group().addClass("legend"),s=Array.from(t.entries()),o=a=>a*(r.rectHeight+r.rectSpacing);for(let a=0;a<s.length;a++){const[l,c]=s[a],f=o(a),p=i.rect(r.rectWidth,r.rectHeight).fill(c).stroke(pi(c).darker(.6)).move(0,f).addClass("legend-rect").data("subclone",l);if(i.plain(l).font({family:"sans-serif",size:r.fontSize}).attr({"alignment-baseline":"middle"}).move(r.rectWidth+r.rectSpacing,f),n){const b=n.get(l);b&&p.add(Sh(`<title>Branch length: ${b}</title>`))}}return n&&(k1(i,15,-17,r.rectWidth/2,-r.rectSpacing,"Subclone"),_y(i,s.map(([a])=>a),n,o,r)),i}function _y(e,t,n,r,i=kh){const f={width:1,color:"#a0a0a0",linecap:"round"},p=3,b=Array.from(n.values()),[g,x]=n?[e5,t5].map(I=>I(b)):[0,0],w=j0([g<x?g:x/10,x/(1+.2)],[0,40]).nice(),A=e.group().translate(i.rectWidth+i.rectSpacing+20,0);for(let I=0;I<t.length;I++){const U=t[I],D=n==null?void 0:n.get(U);if(D){const Z=r(I),W=Math.max(1,w(D)),j=0,X=j+W,rt=Z+i.rectHeight/2;A.line(j,rt,X,rt).stroke({width:p,color:"#b0b0b0",linecap:"round"})}}const y=A.group().addClass("legend-ticks").translate(0,r(t.length)),k=w.tickFormat(2);for(const I of w.ticks(2)){const U=w(I);y.line(U,0,U,4).stroke(f),k(I)!=""&&y.plain(I.toString()).font({family:"sans-serif",size:i.fontSize*.8,anchor:"end"}).attr({"alignment-baseline":"middle",transform:`translate(${U}, ${4*2}) rotate(-45)`})}return y.line(0,0,40,0).stroke(f),A.plain("Variants").font({family:"sans-serif",size:10}).translate(-3,1).addClass("legend-title"),A}function My(e,t){const n=e.map(i=>i.branchLength);if(n.some(i=>i==null)&&n.some(i=>i!=null))throw new Error("Either all or none of the branch lengths must be defined");const r=ty(e,i=>i.subclone,i=>i.parent,i=>({subclone:i.subclone,branchLength:i.branchLength,parent:null,children:[]}));if(r.branchLength==null)for(const i of Zr(r))i.branchLength??(i.branchLength=i==r&&t?0:1);for(const i of Zr(r))i.totalBranchLength=i.branchLength,i.parent&&(i.totalBranchLength+=i.parent.totalBranchLength);return r}function Py(e,t){const n=structuredClone(e),r=(o,a)=>t.get(a.subclone)-t.get(o.subclone),i=(o,a)=>o.totalBranchLength-a.totalBranchLength,s=(o,a)=>{const l=r(o,a);return l!=0?l:i(o,a)};for(const o of Zr(n))o.children=o.children.sort(s);return n}function Cy(e,t=0,n){const r=e;n&&e.children.length==1&&(e=e.children[0]);const i=tr(e),s=i.reduce((A,y)=>Math.max(A,y.totalBranchLength),0),o=i.reduce((A,y)=>Math.min(A,y.branchLength),1/0),a=[e.totalBranchLength,s+o],l=rc().domain(a).range([.9,.68]),c=rc().domain(a).range([.025,.21]);let f=i.length-1;f+=Math.max(1,f*.15);function p(A){const y=new Map;n&&(e!=r||r.children.length>1)&&y.set(r.subclone,"#ffffff");let k=0;function I(U){const D=(k/f*360+A)%360,Z=k==0?0:c(U.totalBranchLength),j={mode:"oklch",l:l(U.totalBranchLength),c:Z,h:D},X=Bm(qm(j)),rt=jd(X);y.has(U.subclone)||y.set(U.subclone,rt),k++;const L=Array.from(U.children).sort((C,q)=>C.branchLength-q.branchLength);for(const C of L)I(C)}return I(e),y}const b=N1(s);let g=0,x=0;const w=Eg("oklch");for(let A=0;A<20;A++){const y=b()*360,k=Array.from(p(y).values()).map(I=>Fy.map(U=>w(I,U))).flat().reduce((I,U)=>Math.min(I,U),1/0);if(k>g&&(g=k,x=y),g>.08)break}return p(x+t)}const Fy=["#b99f00","#c09900","#c3a500","#c39100","#b8ad00","#cab547","#9a8200"].map(e=>qd(e));function Ey(e){const t=Array.from(new Set(e.map(n=>n.subclone)));return o0(e,n=>new Map(t.map(r=>{var i;return[r,((i=n.find(s=>s.subclone===r))==null?void 0:i.clonalPrevalence)??0]})),n=>n.sample)}function F1(e,t){const n=new Map;function r(s){const o=s.subclone,a=t.get(o)??0;let l=a;for(const c of s.children)l+=r(c);return n.set(o,{clonalPrevalence:a,cancerCellFraction:l,fractionOfParent:1}),l}function i(s,o=1){const a=s.subclone,l=n.get(a);l.fractionOfParent=o>0?l.cancerCellFraction/o:0;for(const c of s.children)i(c,l.cancerCellFraction)}return r(e),i(e),n}function Iy(e,t){const n=new Map,r=tr(e),i=new Map(r.map((s,o)=>[s.subclone,o/r.length]));for(const[s,o]of t){let a=0,l=0;for(const[c,f]of o)a+=f.clonalPrevalence*i.get(c),l+=f.clonalPrevalence;n.set(s,a/l)}return n}function E1(e,t){let n=0;for(let r=0;r<e.length;r++)e[r]!==0&&t[r]!==0&&(n+=e[r]*Math.log(e[r]/t[r]));return n}function Ty(e,t){const n=e.map((r,i)=>(r+t[i])/2);return .5*E1(e,n)+.5*E1(t,n)}function jy(e,t){const n=e.length,r=Array.from({length:n},()=>Array(n).fill(0));for(let i=0;i<n;i++)for(let s=i+1;s<n;s++){const o=t(e[i],e[s]);r[i][s]=o,r[s][i]=o}return r}function Oy(e,t){rg(e);const{samples:n,phylogeny:r,compositions:i}=e,s=Ey(i),{sampleTree:o,rankPackMap:a}=py(n,W=>s.has(W.sample)),l=tr(o),c=My(r,t.normalsAtPhylogenyRoot),f=new Map(l.filter(W=>W.type==Ee.REAL_SAMPLE).map(W=>W.sample.sample).map(W=>[W,F1(c,s.get(W))])),p=zy(o,c,f),b=Py(c,Wy(p));for(const W of Zr(o))W.type==Ee.INFERRED_SAMPLE&&f.set(W.sample.sample,Uy(W.sample.sample,b,p,t.normalsAtPhylogenyRoot));const g=vy(o),x=Iy(b,f),w=new Array(n.length).fill(-1);for(const W of l)W.sample&&(w[W.sample.indexNumber]=x.get(W.sample.sample));const A=Gy(l,f),{stackedColumns:y}=Sy(g,t,w,A),k=yy(y,t),I=Hy(o,b,f,t,t.normalsAtPhylogenyRoot&&c.children.length==1),U=By(o,I,p);t.phylogenyColorScheme||Ry(r.map(W=>W.color));const D=t.phylogenyColorScheme?Cy(b,t.phylogenyHueOffset??0,t.normalsAtPhylogenyRoot):new Map(r.map(W=>[W.subclone,W.color])),Z=e.ranks&&t.showRankTitles?gy(e.ranks,a):null;return Ky(k,b,I,U,D,Z,t,t.sampleTakenGuide=="text"?Dy(p,y,k):null,t.normalsAtPhylogenyRoot)}function Ry(e){for(const t of e)if(!pi(t))throw new Error(`The phylogeny must have valid colors defined for each subclone or the phylogenyColorScheme must be used. Invalid color: ${t==""?"<empty string>":t}`)}function Dy(e,t,n){var i;const r=new Set;for(const s of t)for(let o=0;o<s.length-1;o++){const a=s[o].node;a.type==Ee.REAL_SAMPLE&&s[o+1].node.type==Ee.GAP&&r.add(a)}return(i=Array.from(e.values()).filter(s=>s.type==Ee.REAL_SAMPLE).map(s=>({node:s,score:n.get(s).y+(r.has(s)?1e3:0)})).sort((s,o)=>s.score-o.score).at(0))==null?void 0:i.node}function By(e,t,n){var o;const r=new Map,i=new Map;for(const[a,{inputRegions:l,outputRegions:c}]of t)r.set(a,new Set(Lh(l))),i.set(a,new Set(Lh(c)));const s=new Map;for(const a of Zr(e)){const l=(o=a.sample)==null?void 0:o.sample;l&&s.set(l,new Set)}for(const a of Zr(e))if(!(!a.sample||!a.parent))for(const l of r.get(a.sample.sample)){const c=n.get(l);let f=a.parent;for(;f&&f!=c;){if(f.type==Ee.GAP){f=f.parent;continue}if(i.get(f.sample.sample).has(l)||r.get(f.sample.sample).has(l))break;s.get(f.sample.sample).add(l),f=f.parent}}return s}function qy(e,t,n){let r=e.parent;for(;r;){if(r.sample&&n.get(r.sample.sample).get(t).cancerCellFraction>0)return!0;r=r.parent}return!1}function zy(e,t,n){function r(i){let s;function o(a){var p,b;let l=0;const c=(p=a.sample)==null?void 0:p.sample,f=(c&&((b=n.get(c))==null?void 0:b.get(i).cancerCellFraction))??0;if(f>0)return s=a,1;for(const g of a.children)l+=o(g);return l>1&&(s=a,a.type==Ee.REAL_SAMPLE&&f==0)?2:l>0?1:0}if(o(e),!s)throw new Error(`Finding LCA for subclone "${i}" failed.`);return s}return new Map(tr(t).map(i=>i.subclone).map(i=>[i,r(i)]))}function Uy(e,t,n,r){const i=$2(tr(t),a=>a.subclone),s=new Set(Array.from(n.entries()).filter(([,a])=>a.sample.sample==e).map(([a])=>a));for(const a of s){let l=i.get(a);for(;l;)s.add(l.subclone),l=l.parent}const o=1/(r?s.size-1:s.size);return F1(t,new Map(Array.from(s.values()).map(a=>[a,a==t.subclone&&r?0:o])))}function Hy(e,t,n,r,i){const s=tr(t).map(a=>a.subclone),o=a=>{const l=new Set(s.filter(x=>qy(a,x,n))),c=n.get(a.sample.sample),f=ry(t,c,l,r,i?new Set([t.subclone]):new Set),p=x=>M1(t,f,x),b=p(0),g=p(1);return{shapers:f,inputRegions:b,outputRegions:g}};return new Map(tr(e).filter(a=>a.sample).map(a=>[a.sample.sample,o(a)]))}function Wy(e){return new Map(Array.from(e.entries()).map(([t,n])=>[t,n.rank]))}function Gy(e,t){const n=e.filter(r=>{var i;return((i=r.sample)==null?void 0:i.indexNumber)!=null}).sort((r,i)=>r.sample.indexNumber-i.sample.indexNumber).map(r=>Array.from(t.get(r.sample.sample).values()).map(i=>i.clonalPrevalence));return jy(n,Ty)}function Lh(e,t=new Set){return Array.from(e.entries()).filter(([n,r])=>r[1]-r[0]>0||t.has(n)).sort((n,r)=>n[1][0]-r[1][0]+n[1][1]-r[1][1]).map(([n])=>n)}function Vy(e,t,n,r=new Set){const i=[];for(const s of e){if(!s.sample||!s.parent)continue;const{inputRegions:o}=t.get(s.sample.sample),a=Lh(o,n.get(s.sample.sample)).filter(f=>!r.has(f)),l=[];let c=s.parent;for(;c&&!c.sample;)l.push(c),c=c.parent;i.push({outputNode:c,inputNode:s,gaps:l,subclones:a})}return i}function Yy(e,t){const n=[];for(const r of e){const i=r.gaps.length>0?r.gaps.at(-1):r.inputNode;for(const s of r.subclones)n.push({outputNode:r.outputNode,nextNode:i,subclone:s})}return o0(n,r=>r.map(i=>i.nextNode).sort((i,s)=>t.get(i).y-t.get(s).y),r=>r.outputNode,r=>r.subclone)}const I1=e=>Math.abs(Math.sqrt(e[0]**2+e[1]**2)/e[0]),T1=(e,t,n,r=[1,0])=>(e-t/2+.5)*n*I1(r);function $y(e,t,n,r,i,s){var f;const{tentacleSpacing:o}=s,a=Zy(i),l=Yy(n,t),c=e.group().addClass("tentacle-group").attr({"pointer-events":"none"});for(const p of n){const b=n5,{subclones:g}=p,x=p.inputNode.sample,{inputRegions:w}=r.get(x.sample),A=g.length,y=c.group().addClass("tentacle-bundle").data("sample",x.sample);for(let k=0;k<A;k++){let I=p.inputNode;const U=g[k];let D=I.parent,Z=b(w.get(U))*t.get(I).height;const W=tc(1);for(;D;){const j=t.get(D),X=t.get(I),rt=D.sample?b(r.get(D.sample.sample).outputRegions.get(U))*j.height:j.height/2+T1(k,A,o);let L=0;const C=(f=l.get(D))==null?void 0:f.get(U);if(C!=null&&C.length){const ut=C.indexOf(I);if(ut<0)throw new Error("Tentacle reservation not found");const ct=r.get(D.sample.sample).outputRegions.get(U);L=(ct[1]-ct[0])*j.height*((ut+1)/(C.length+1)-.5)}const q=j.x+j.width,B=j.y+rt+L,at=X.x,nt=X.y+Z,ht=X.y+X.height/2,tt=s.inOutCPDistance,lt=zs(q,at,1-tt),dt=zs(q,at,tt),Lt=(q+at)/2,M=(j.y+X.y+(j.height+X.height)/2)/2,O=2,z=s.bundleCPDistance/((I1([lt-dt,nt-B])+O)/(1+O)),G=zs(at,Lt,1-z*.5)-Lt,K=zs(ht,M,1-z)-M,it=T1(k,A,o,[G,K]);I.sample&&W.moveTo(at,nt),W.bezierCurveTo(lt,nt,Lt+G,M+K+it,Lt,M+it),W.bezierCurveTo(Lt-G,M-K+it,dt,B,q-(D.type==Ee.GAP?j.width/2:0),B),Z=rt,I=D,D=D.sample?null:D.parent}y.path(W.toString()).stroke({color:a.get(U)??"black",width:s.tentacleWidth}).attr({"stroke-linecap":"square"}).fill("transparent").addClass("tentacle").data("subclone",U)}}return c}function Xy(e,t,n,r,i,s,o,a=null){const l=e.group().addClass("sample-group");for(const[c,f]of t.entries()){const p=c.sample;if(!p)continue;const b=l.group().translate(f.x,f.y).addClass("sample").data("sample",p.sample),g=p.sample,{shapers:x}=r.get(g);ey(b,n,x,i.get(g),s,o,f.width,f.height,o.tentacleWidth,c==a||c.type==Ee.REAL_SAMPLE&&o.sampleTakenGuide=="text-all"?"all":c.type==Ee.REAL_SAMPLE&&o.sampleTakenGuide!="none"?"line":"none");const w=p.displayName??p.sample;b.text(w).dx(f.width/2).dy(-6).font({family:"sans-serif",size:o.sampleFontSize,anchor:"middle"}).addClass("sample-display-name")}return l}function Jy(e,t,n,r,i){const s=e.group().addClass("rank-title-group"),o=Array.from(n.entries()),a=r.sampleFontSize,l=Math.round(r.sampleFontSize*1.5);for(const[c,f]of t.entries()){const[p,b]=o.find(g=>g[0].rank==c);if(b&&f){const g=b.y-l-(p.type==Ee.GAP?0:30);s.rect(b.width,l).translate(b.x,g).fill("white").stroke({width:1,color:"#e8e8e8"}),s.plain(f).dx(b.x+b.width/2).dy(g+l/2).font({family:"sans-serif",size:a,anchor:"middle"}).attr({"alignment-baseline":"middle"}).addClass("rank-title"),i.push({x:b.x,y:g,width:b.width,height:l})}}}function Ky(e,t,n,r,i,s,o,a,l,c=40){const f=o.showLegend?80:0,p=ky(i.size),b=[],g=Sh();g.defs().svg(`<marker
      id="small-arrowhead"
      viewBox="0 0 10 10"
      refX="5"
      refY="5"
      markerWidth="6"
      markerHeight="6"
      orient="auto-start-reverse">
      <path d="M 0 0 L 9 5 L 0 10 z" fill="#606060" />
    </marker>`);const x=g.group();Xy(x,e,t,n,r,i,o,a);const w=Vy(e.keys(),n,r,l?new Set([t.subclone]):new Set);if($y(x,e,w,n,i,o),s&&Jy(x,s,e,o,b),o.showLegend){const I=new Map(tr(t).map(Z=>[Z.subclone,Z.branchLength])),U=Ny(e,f,p);b.push(U);const D=!Array.from(I.values()).every(Z=>Z==0||Z==1);Ly(x,i,D?I:null).translate(U.x,U.y)}const A=C1([...e.values(),...b]),y=A.width+2*c,k=A.height+2*c;return x.translate(c,-A.y+c).translate(.5,.5),g.size(y,k),g}function Zy(e){return new Map(Array.from(e.entries()).map(([n,r])=>{const i=qd(r);i.l=Math.min(.86,i.l);const s=jd(i);return[n,s]}))}const Qy="#f8f8f8",t3="#d0d0d0",e3="#e8e8e8";function n3(e){const t=new Map;let n="normal";for(const i of Array.from(e.querySelectorAll(":is(.subclone, .tentacle, .legend-rect, .pass-through)[data-subclone]")))t.set(i,{fill:i.getAttribute("fill"),stroke:i.getAttribute("stroke")});const r=(i=new Set)=>{for(const[s,{fill:o,stroke:a}]of t.entries())i.has(s.dataset.subclone)||i.size===0?(s.setAttribute("fill",o),s.setAttribute("stroke",a),j1(s)&&(s.style.mixBlendMode="normal")):j1(s)?(s.setAttribute("stroke",e3),s.style.mixBlendMode="darken"):(s.setAttribute("fill",Qy),s.setAttribute("stroke",t3))};e.addEventListener("mouseout",()=>{n=="hover"&&r()}),e.addEventListener("mouseover",i=>{if(n==="normal"||n==="hover"){const s=i.target,o=O1(s.dataset);r(o),o.size>0&&(n="hover")}}),e.addEventListener("click",i=>{const s=i.target,o=O1(s.dataset);r(o),n=o.size>0?"clicked":"normal"})}function j1(e){return e.classList.contains("tentacle")||e.classList.contains("pass-through")}function O1(e){return e.descendantSubclones?new Set(JSON.parse(e.descendantSubclones).map(t=>`${t}`)):e.subclone!=null?new Set([e.subclone]):new Set}function r3(e,t="plot.png",n=2){const r=e.clientWidth*n,i=e.clientHeight*n,s=document.createElement("canvas");s.width=r,s.height=i;const o=new Image,a=new Blob([e.outerHTML],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(a);o.onload=()=>{const c=s.getContext("2d");c&&(c.fillStyle="white",c.fillRect(0,0,r,i),c.drawImage(o,0,0,r,i)),s.toBlob(f=>{if(f){const p=document.createElement("a");p.href=URL.createObjectURL(f),p.download=t,p.click(),p.remove(),URL.revokeObjectURL(l)}},"image/png")},o.src=l}function i3(e,t="plot.svg"){let n=e.outerHTML;n.match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(n=n.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),n.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(n=n.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"'));const r=new Blob([n],{type:"image/svg+xml"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=t,s.click(),s.remove()}async function s3(e,t="plot.pdf"){const n=(await Promise.resolve().then(()=>L4)).downloadPdf;n(e,t)}const o3={crossingWeight:10,pathLengthWeight:2,orderMismatchWeight:2,bundleMismatchWeight:3,divergenceWeight:4,bellTipShape:.1,bellTipSpread:.5,bellStrokeWidth:1,bellStrokeDarkening:.6,bellPlateauPos:.75,sampleHeight:110,sampleWidth:90,inferredSampleHeight:120,gapHeight:60,sampleSpacing:60,columnSpacing:90,tentacleWidth:2,tentacleSpacing:5,inOutCPDistance:.3,bundleCPDistance:.6,sampleFontSize:12,showLegend:!0,phylogenyColorScheme:!0,phylogenyHueOffset:0,sampleTakenGuide:"text",showRankTitles:!0,normalsAtPhylogenyRoot:!1},a3={patient:null,zoom:1},_l=[.2,3];function l3(e,t,n={},r="open"){e.innerHTML=g3;const i=e.querySelector(".jellyfish-gui"),s=i.querySelector(".jellyfish-patient-name"),o=i.querySelector(".jellyfish-plot-container"),a=()=>i.querySelector(".jellyfish-plot svg"),{generalProps:l,layoutProps:c}=f3();Object.assign(c,n);const f=()=>h3(l,c);let p=0,b=0;const g=Array.from(new Set(t.samples.map(C=>C.patient)));l.patient&&!g.includes(l.patient)&&(l.patient=null),l.patient??(l.patient=g[0]);const x=new Uu({container:i});r==="closed"?x.close():r==="hidden"&&(x.close(),x.hide()),x.onChange(f);const w=()=>!x._closed;x.onOpenClose(()=>{s.style.visibility=w()?"hidden":null});const A=()=>{u3(i,g.length>1?ng(t,l.patient):t,c),l.zoom=1,p=0,b=0,s.textContent=l.patient;const C=a(),q=o.getBoundingClientRect(),B=Math.min(q.width/+C.getAttribute("width"),q.height/+C.getAttribute("height"));l.zoom=Math.min(l.zoom,B),k(),I.updateDisplay()};let y;g.length>1&&(y=x.add(l,"patient",g).onChange(A));const k=()=>{const C=i.querySelector(".jellyfish-plot");C.style.transform=`translate(${p}px, ${b}px) translate(-50%, -50%) scale(${l.zoom})`},I=x.add(l,"zoom",_l[0],_l[1]).onChange(k),U=x.addFolder("Options");U.close();const D=U.addFolder("Sizes");D.add(c,"sampleHeight",50,200),D.add(c,"sampleWidth",50,200),D.add(c,"inferredSampleHeight",50,200),D.add(c,"gapHeight",10,100),D.add(c,"sampleSpacing",10,200),D.add(c,"columnSpacing",10,200),D.add(c,"sampleFontSize",8,16),D.onChange(A),D.close();const Z=U.addFolder("Bells");Z.add(c,"bellTipShape",0,1),Z.add(c,"bellTipSpread",0,1),Z.add(c,"bellStrokeWidth",0,3),Z.add(c,"bellStrokeDarkening",0,2),Z.add(c,"bellPlateauPos",.2,1),Z.onChange(A),Z.close();const W=U.addFolder("Tentacles");W.add(c,"tentacleWidth",.1,5),W.add(c,"tentacleSpacing",0,10),W.add(c,"inOutCPDistance",.1,.45),W.add(c,"bundleCPDistance",.1,1.2),W.onChange(A),W.close();const j=U.addFolder("Misc.");j.add(c,"showLegend"),j.add(c,"phylogenyColorScheme"),j.add(c,"phylogenyHueOffset",0,360),j.add(c,"sampleTakenGuide",["none","line","text","text-all"]),j.add(c,"showRankTitles"),j.add(c,"normalsAtPhylogenyRoot"),j.onChange(A),j.close();const X=U.addFolder("Cost weights");X.add(c,"crossingWeight",0,10),X.add(c,"pathLengthWeight",0,10),X.add(c,"orderMismatchWeight",0,10),X.add(c,"divergenceWeight",0,10),X.add(c,"bundleMismatchWeight",0,10),X.onChange(A),X.close();const rt=x.addFolder("Tools"),L={downloadSvg:()=>i3(a(),(l.patient??"jellyfish")+".svg"),downloadPng:()=>r3(a(),(l.patient??"jellyfish")+".png"),downloadPdf:()=>s3(a(),(l.patient??"jellyfish")+".pdf")};rt.add(L,"downloadSvg"),rt.add(L,"downloadPng"),rt.add(L,"downloadPdf"),y&&d3(i,g,l,()=>{y.updateDisplay(),A(),f()}),o.addEventListener("mousedown",C=>{if(C.button!==0||["text","tspan"].includes(C.target.tagName))return;let q=C.clientX,B=C.clientY;const at=nt=>{nt.preventDefault(),nt.stopPropagation();const ht=nt.clientX-q,tt=nt.clientY-B;p+=ht,b+=tt,k(),q=nt.clientX,B=nt.clientY};e.style.cursor="grabbing",document.addEventListener("mousemove",at),e.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",at),e.style.cursor=null})}),o.addEventListener("wheel",C=>{C.preventDefault();const q=o.getBoundingClientRect(),B=l.zoom,at=C.clientX-q.left,nt=C.clientY-q.top,ht=(at-q.width/2-p)/B,tt=(nt-q.height/2-b)/B,lt=B*2**(-C.deltaY*(C.deltaMode===1?.05:C.deltaMode?1:.002)),dt=Math.min(Math.max(lt,_l[0]),_l[1]);l.zoom=dt,p-=ht*(dt-B),b-=tt*(dt-B),k(),I.updateDisplay()}),o.addEventListener("click",C=>{var q;C.target===o&&((q=a())==null||q.dispatchEvent(new MouseEvent("click",C)))}),k(),A()}function u3(e,t,n){const r=e.querySelector(".jellyfish-plot");try{const i=Oy(t,n);r.innerHTML="",i.addTo(r),n3(r.querySelector("svg"))}catch(i){throw c3(e,i.message),i}}function c3(e,t){e.querySelector(".jellyfish-plot").innerHTML=`<div class="jellyfish-error-message">${Qv(t)}</div>`}const R1="jellyfish-plotter-settings";function h3(e,t){sessionStorage.setItem(R1,JSON.stringify({generalProps:e,layoutProps:t}))}function f3(){const e=sessionStorage.getItem(R1)??"{}",t=JSON.parse(e);return{generalProps:{...a3,...t.generalProps??{}},layoutProps:{...o3,...t.layoutProps??{}}}}function d3(e,t,n,r){const i=p3(t,n,r),s=e.querySelector(".jellyfish-patient-nav");s.style.display=null,s.querySelector(".jellyfish-prev-patient").addEventListener("click",()=>i(-1)),s.querySelector(".jellyfish-next-patient").addEventListener("click",()=>i(1)),(e==null?void 0:e.parentElement.id)==="app"&&document.addEventListener("keydown",o=>{o.key==="ArrowLeft"?i(-1):o.key==="ArrowRight"&&i(1)})}function p3(e,t,n){const r=i=>{const o=(e.indexOf(t.patient)+i+e.length)%e.length;return e[o]};return function(s){const o=t.patient,a=r(s);a&&a!==o&&(t.patient=a,n(a))}}const g3=`
  <div class="jellyfish-gui">
    <div class="jellyfish-plot-container">
      <div class="jellyfish-center">
        <div class="jellyfish-plot"></div>
      </div>
    </div>
    <div class="jellyfish-patient-nav" style="display: none">
      <button class="jellyfish-prev-patient">
        <svg viewBox="0 0 8 16" fill="currentColor">
          <polygon points="8,0 0,8 8,16" />
        </svg>
        <span>Previous</span>
      </button>
      <div class="jellyfish-patient-name"></div>
      <button class="jellyfish-next-patient">
        <span>Next</span>
        <svg viewBox="0 0 8 16" fill="currentColor">
          <polygon points="0,0 8,8 0,16" />
        </svg>
      </button>
    </div>
  </div>
`;function Se(e){"@babel/helpers - typeof";return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(e)}var An=Uint8Array,Yn=Uint16Array,_h=Int32Array,Ml=new An([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pl=new An([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mh=new An([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D1=function(e,t){for(var n=new Yn(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new _h(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},B1=D1(Ml,2),q1=B1.b,Ph=B1.r;q1[28]=258,Ph[258]=28;for(var z1=D1(Pl,0),m3=z1.b,U1=z1.r,Ch=new Yn(32768),Be=0;Be<32768;++Be){var xi=(Be&43690)>>1|(Be&21845)<<1;xi=(xi&52428)>>2|(xi&13107)<<2,xi=(xi&61680)>>4|(xi&3855)<<4,Ch[Be]=((xi&65280)>>8|(xi&255)<<8)>>1}for(var Er=function(e,t,n){for(var r=e.length,i=0,s=new Yn(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Yn(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Yn(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],f=t-e[i],p=o[e[i]-1]++<<f,b=p|(1<<f)-1;p<=b;++p)a[Ch[p]>>l]=c}else for(a=new Yn(r),i=0;i<r;++i)e[i]&&(a[i]=Ch[o[e[i]-1]++]>>15-e[i]);return a},Ai=new An(288),Be=0;Be<144;++Be)Ai[Be]=8;for(var Be=144;Be<256;++Be)Ai[Be]=9;for(var Be=256;Be<280;++Be)Ai[Be]=7;for(var Be=280;Be<288;++Be)Ai[Be]=8;for(var ea=new An(32),Be=0;Be<32;++Be)ea[Be]=5;var b3=Er(Ai,9,0),v3=Er(Ai,9,1),y3=Er(ea,5,0),w3=Er(ea,5,1),Fh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},fr=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Eh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ih=function(e){return(e+7)/8|0},H1=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new An(e.subarray(t,n))},x3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],dr=function(e,t,n){var r=new Error(t||x3[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,dr),!n)throw r;return r},A3=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new An(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new An(i*3));var c=function(At){var It=n.length;if(At>It){var Ct=new An(Math.max(It*2,At));Ct.set(n),n=Ct}},f=t.f||0,p=t.p||0,b=t.b||0,g=t.l,x=t.d,w=t.m,A=t.n,y=i*8;do{if(!g){f=fr(e,p,1);var k=fr(e,p+1,3);if(p+=3,k)if(k==1)g=v3,x=w3,w=9,A=5;else if(k==2){var Z=fr(e,p,31)+257,W=fr(e,p+10,15)+4,j=Z+fr(e,p+5,31)+1;p+=14;for(var X=new An(j),rt=new An(19),L=0;L<W;++L)rt[Mh[L]]=fr(e,p+L*3,7);p+=W*3;for(var C=Fh(rt),q=(1<<C)-1,B=Er(rt,C,1),L=0;L<j;){var at=B[fr(e,p,q)];p+=at&15;var I=at>>4;if(I<16)X[L++]=I;else{var nt=0,ht=0;for(I==16?(ht=3+fr(e,p,3),p+=2,nt=X[L-1]):I==17?(ht=3+fr(e,p,7),p+=3):I==18&&(ht=11+fr(e,p,127),p+=7);ht--;)X[L++]=nt}}var tt=X.subarray(0,Z),lt=X.subarray(Z);w=Fh(tt),A=Fh(lt),g=Er(tt,w,1),x=Er(lt,A,1)}else dr(1);else{var I=Ih(p)+4,U=e[I-4]|e[I-3]<<8,D=I+U;if(D>i){l&&dr(0);break}a&&c(b+U),n.set(e.subarray(I,D),b),t.b=b+=U,t.p=p=D*8,t.f=f;continue}if(p>y){l&&dr(0);break}}a&&c(b+131072);for(var dt=(1<<w)-1,Lt=(1<<A)-1,M=p;;M=p){var nt=g[Eh(e,p)&dt],O=nt>>4;if(p+=nt&15,p>y){l&&dr(0);break}if(nt||dr(2),O<256)n[b++]=O;else if(O==256){M=p,g=null;break}else{var z=O-254;if(O>264){var L=O-257,G=Ml[L];z=fr(e,p,(1<<G)-1)+q1[L],p+=G}var K=x[Eh(e,p)&Lt],it=K>>4;K||dr(3),p+=K&15;var lt=m3[it];if(it>3){var G=Pl[it];lt+=Eh(e,p)&(1<<G)-1,p+=G}if(p>y){l&&dr(0);break}a&&c(b+131072);var ut=b+z;if(b<lt){var ct=s-lt,kt=Math.min(lt,ut);for(ct+b<0&&dr(3);b<kt;++b)n[b]=r[ct+b]}for(;b<ut;++b)n[b]=n[b-lt]}}t.l=g,t.p=M,t.b=b,t.f=f,g&&(f=1,t.m=w,t.d=x,t.n=A)}while(!f);return b!=n.length&&o?H1(n,0,b):n.subarray(0,b)},Qr=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},na=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Th=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:Y1,l:0};if(i==1){var o=new An(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(D,Z){return D.f-Z.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[c].f<n[p].f?c++:p++],l=n[c!=f&&n[c].f<n[p].f?c++:p++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var b=s[0].s,r=1;r<i;++r)s[r].s>b&&(b=s[r].s);var g=new Yn(b+1),x=jh(n[f-1],g,0);if(x>t){var r=0,w=0,A=x-t,y=1<<A;for(s.sort(function(Z,W){return g[W.s]-g[Z.s]||Z.f-W.f});r<i;++r){var k=s[r].s;if(g[k]>t)w+=y-(1<<x-g[k]),g[k]=t;else break}for(w>>=A;w>0;){var I=s[r].s;g[I]<t?w-=1<<t-g[I]++-1:++r}for(;r>=0&&w;--r){var U=s[r].s;g[U]==t&&(--g[U],++w)}x=t}return{t:new An(g),l:x}},jh=function(e,t,n){return e.s==-1?Math.max(jh(e.l,t,n+1),jh(e.r,t,n+1)):t[e.s]=n},W1=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Yn(++t),r=0,i=e[0],s=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},ra=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},G1=function(e,t,n){var r=n.length,i=Ih(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},V1=function(e,t,n,r,i,s,o,a,l,c,f){Qr(t,f++,n),++i[256];for(var p=Th(i,15),b=p.t,g=p.l,x=Th(s,15),w=x.t,A=x.l,y=W1(b),k=y.c,I=y.n,U=W1(w),D=U.c,Z=U.n,W=new Yn(19),j=0;j<k.length;++j)++W[k[j]&31];for(var j=0;j<D.length;++j)++W[D[j]&31];for(var X=Th(W,7),rt=X.t,L=X.l,C=19;C>4&&!rt[Mh[C-1]];--C);var q=c+5<<3,B=ra(i,Ai)+ra(s,ea)+o,at=ra(i,b)+ra(s,w)+o+14+3*C+ra(W,rt)+2*W[16]+3*W[17]+7*W[18];if(l>=0&&q<=B&&q<=at)return G1(t,f,e.subarray(l,l+c));var nt,ht,tt,lt;if(Qr(t,f,1+(at<B)),f+=2,at<B){nt=Er(b,g,0),ht=b,tt=Er(w,A,0),lt=w;var dt=Er(rt,L,0);Qr(t,f,I-257),Qr(t,f+5,Z-1),Qr(t,f+10,C-4),f+=14;for(var j=0;j<C;++j)Qr(t,f+3*j,rt[Mh[j]]);f+=3*C;for(var Lt=[k,D],M=0;M<2;++M)for(var O=Lt[M],j=0;j<O.length;++j){var z=O[j]&31;Qr(t,f,dt[z]),f+=rt[z],z>15&&(Qr(t,f,O[j]>>5&127),f+=O[j]>>12)}}else nt=b3,ht=Ai,tt=y3,lt=ea;for(var j=0;j<a;++j){var G=r[j];if(G>255){var z=G>>18&31;na(t,f,nt[z+257]),f+=ht[z+257],z>7&&(Qr(t,f,G>>23&31),f+=Ml[z]);var K=G&31;na(t,f,tt[K]),f+=lt[K],K>3&&(na(t,f,G>>5&8191),f+=Pl[K])}else na(t,f,nt[G]),f+=ht[G]}return na(t,f,nt[256]),f+ht[256]},S3=new _h([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y1=new An(0),N3=function(e,t,n,r,i,s){var o=s.z||e.length,a=new An(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,f=(s.r||0)&7;if(t){f&&(l[0]=s.r>>3);for(var p=S3[t-1],b=p>>13,g=p&8191,x=(1<<n)-1,w=s.p||new Yn(32768),A=s.h||new Yn(x+1),y=Math.ceil(n/3),k=2*y,I=function(Yt){return(e[Yt]^e[Yt+1]<<y^e[Yt+2]<<k)&x},U=new _h(25e3),D=new Yn(288),Z=new Yn(32),W=0,j=0,X=s.i||0,rt=0,L=s.w||0,C=0;X+2<o;++X){var q=I(X),B=X&32767,at=A[q];if(w[B]=at,A[q]=B,L<=X){var nt=o-X;if((W>7e3||rt>24576)&&(nt>423||!c)){f=V1(e,l,0,U,D,Z,j,rt,C,X-C,f),rt=W=j=0,C=X;for(var ht=0;ht<286;++ht)D[ht]=0;for(var ht=0;ht<30;++ht)Z[ht]=0}var tt=2,lt=0,dt=g,Lt=B-at&32767;if(nt>2&&q==I(X-Lt))for(var M=Math.min(b,nt)-1,O=Math.min(32767,X),z=Math.min(258,nt);Lt<=O&&--dt&&B!=at;){if(e[X+tt]==e[X+tt-Lt]){for(var G=0;G<z&&e[X+G]==e[X+G-Lt];++G);if(G>tt){if(tt=G,lt=Lt,G>M)break;for(var K=Math.min(Lt,G-2),it=0,ht=0;ht<K;++ht){var ut=X-Lt+ht&32767,ct=w[ut],kt=ut-ct&32767;kt>it&&(it=kt,at=ut)}}}B=at,at=w[B],Lt+=B-at&32767}if(lt){U[rt++]=268435456|Ph[tt]<<18|U1[lt];var At=Ph[tt]&31,It=U1[lt]&31;j+=Ml[At]+Pl[It],++D[257+At],++Z[It],L=X+tt,++W}else U[rt++]=e[X],++D[e[X]]}}for(X=Math.max(X,L);X<o;++X)U[rt++]=e[X],++D[e[X]];f=V1(e,l,c,U,D,Z,j,rt,C,X-C,f),c||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=A,s.p=w,s.i=X,s.w=L)}else{for(var X=s.w||0;X<o+c;X+=65535){var Ct=X+65535;Ct>=o&&(l[f/8|0]=c,Ct=o),f=G1(l,f+1,e.subarray(X,Ct))}s.i=o}return H1(a,0,r+Ih(f)+i)},$1=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},k3=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new An(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return N3(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},X1=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},L3=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=$1();i.p(t.dictionary),X1(e,2,i.d())}},_3=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&dr(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&dr(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Oh(e,t){t||(t={});var n=$1();n.p(e);var r=k3(e,t,t.dictionary?6:2,4);return L3(r,t),X1(r,r.length-4,n.d()),r}function M3(e,t){return A3(e.subarray(_3(e,t),-4),{i:2},t,t)}var P3=typeof TextDecoder<"u"&&new TextDecoder,C3=0;try{P3.decode(Y1,{stream:!0}),C3=1}catch{}/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.2 Built on 2024-09-17T13:29:57.859Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rh(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var Me={log:Rh,warn:function(e){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):Rh.call(null,arguments))},error:function(e){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):Rh(e))}};function Dh(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){is(r.response,t,n)},r.onerror=function(){Me.error("could not download file")},r.send()}function J1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cl(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ia,Bh,is=Vt.saveAs||((typeof window>"u"?"undefined":Se(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Vt.URL||Vt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?J1(i.href)?Dh(e,t,n):Cl(i,i.target="_blank"):Cl(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cl(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(J1(e))Dh(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Cl(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Se(s)!=="object"&&(Me.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Dh(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Vt.HTMLElement)||Vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Se(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(e)}else{var l=Vt.URL||Vt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function K1(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qh(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Sn(n,r,i,s,t[0],7,-680876936),s=Sn(s,n,r,i,t[1],12,-389564586),i=Sn(i,s,n,r,t[2],17,606105819),r=Sn(r,i,s,n,t[3],22,-1044525330),n=Sn(n,r,i,s,t[4],7,-176418897),s=Sn(s,n,r,i,t[5],12,1200080426),i=Sn(i,s,n,r,t[6],17,-1473231341),r=Sn(r,i,s,n,t[7],22,-45705983),n=Sn(n,r,i,s,t[8],7,1770035416),s=Sn(s,n,r,i,t[9],12,-1958414417),i=Sn(i,s,n,r,t[10],17,-42063),r=Sn(r,i,s,n,t[11],22,-1990404162),n=Sn(n,r,i,s,t[12],7,1804603682),s=Sn(s,n,r,i,t[13],12,-40341101),i=Sn(i,s,n,r,t[14],17,-1502002290),n=Nn(n,r=Sn(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Nn(s,n,r,i,t[6],9,-1069501632),i=Nn(i,s,n,r,t[11],14,643717713),r=Nn(r,i,s,n,t[0],20,-373897302),n=Nn(n,r,i,s,t[5],5,-701558691),s=Nn(s,n,r,i,t[10],9,38016083),i=Nn(i,s,n,r,t[15],14,-660478335),r=Nn(r,i,s,n,t[4],20,-405537848),n=Nn(n,r,i,s,t[9],5,568446438),s=Nn(s,n,r,i,t[14],9,-1019803690),i=Nn(i,s,n,r,t[3],14,-187363961),r=Nn(r,i,s,n,t[8],20,1163531501),n=Nn(n,r,i,s,t[13],5,-1444681467),s=Nn(s,n,r,i,t[2],9,-51403784),i=Nn(i,s,n,r,t[7],14,1735328473),n=kn(n,r=Nn(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=kn(s,n,r,i,t[8],11,-2022574463),i=kn(i,s,n,r,t[11],16,1839030562),r=kn(r,i,s,n,t[14],23,-35309556),n=kn(n,r,i,s,t[1],4,-1530992060),s=kn(s,n,r,i,t[4],11,1272893353),i=kn(i,s,n,r,t[7],16,-155497632),r=kn(r,i,s,n,t[10],23,-1094730640),n=kn(n,r,i,s,t[13],4,681279174),s=kn(s,n,r,i,t[0],11,-358537222),i=kn(i,s,n,r,t[3],16,-722521979),r=kn(r,i,s,n,t[6],23,76029189),n=kn(n,r,i,s,t[9],4,-640364487),s=kn(s,n,r,i,t[12],11,-421815835),i=kn(i,s,n,r,t[15],16,530742520),n=Ln(n,r=kn(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Ln(s,n,r,i,t[7],10,1126891415),i=Ln(i,s,n,r,t[14],15,-1416354905),r=Ln(r,i,s,n,t[5],21,-57434055),n=Ln(n,r,i,s,t[12],6,1700485571),s=Ln(s,n,r,i,t[3],10,-1894986606),i=Ln(i,s,n,r,t[10],15,-1051523),r=Ln(r,i,s,n,t[1],21,-2054922799),n=Ln(n,r,i,s,t[8],6,1873313359),s=Ln(s,n,r,i,t[15],10,-30611744),i=Ln(i,s,n,r,t[6],15,-1560198380),r=Ln(r,i,s,n,t[13],21,1309151649),n=Ln(n,r,i,s,t[4],6,-145523070),s=Ln(s,n,r,i,t[11],10,-1120210379),i=Ln(i,s,n,r,t[2],15,718787259),r=Ln(r,i,s,n,t[9],21,-343485551),e[0]=Si(n,e[0]),e[1]=Si(r,e[1]),e[2]=Si(i,e[2]),e[3]=Si(s,e[3])}function Fl(e,t,n,r,i,s){return t=Si(Si(t,e),Si(r,s)),Si(t<<i|t>>>32-i,n)}function Sn(e,t,n,r,i,s,o){return Fl(t&n|~t&r,e,t,i,s,o)}function Nn(e,t,n,r,i,s,o){return Fl(t&r|n&~r,e,t,i,s,o)}function kn(e,t,n,r,i,s,o){return Fl(t^n^r,e,t,i,s,o)}function Ln(e,t,n,r,i,s,o){return Fl(n^(t|~r),e,t,i,s,o)}function Z1(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qh(r,F3(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(qh(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,qh(r,i),r}function F3(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ia=Vt.atob.bind(Vt),Bh=Vt.btoa.bind(Vt);var Q1="0123456789abcdef".split("");function E3(e){for(var t="",n=0;n<4;n++)t+=Q1[e>>8*n+4&15]+Q1[e>>8*n&15];return t}function I3(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zh(e){return Z1(e).map(I3).join("")}var T3=function(e){for(var t=0;t<e.length;t++)e[t]=E3(e[t]);return e.join("")}(Z1("hello"))!="5d41402abc4b2a76b9719d911017c592";function Si(e,t){if(T3){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Uh(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var f=a[l];c=(c+f+o.charCodeAt(l))%256,a[l]=a[c],a[c]=f}n=e,r=a}else a=r;var p=t.length,b=0,g=0,x="";for(l=0;l<p;l++)g=(g+(f=a[b=(b+1)%256]))%256,a[b]=a[g],a[g]=f,o=a[(a[b]+a[g])%256],x+=String.fromCharCode(t.charCodeAt(l)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tp={print:4,modify:8,copy:16,"annot-forms":32};function Us(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(tp.perm!==void 0)throw new Error("Invalid permission: "+a);i+=tp[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=zh(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Uh(this.encryptionKey,this.padding)}function Hs(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function ep(e){if(Se(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(a){Vt.console&&Me.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ss(e){if(!(this instanceof ss))return new ss(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function np(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ni(e,t,n,r,i){if(!(this instanceof Ni))return new Ni(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,np.call(this,r,i)}function os(e,t,n,r,i){if(!(this instanceof os))return new os(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,np.call(this,r,i)}function Ht(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",f=null;Se(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=ep;var x="1.3",w=g.__private__.getPdfVersion=function(){return x};g.__private__.setPdfVersion=function(d){x=d};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return A};var y=g.__private__.getPageFormat=function(d){return A[d]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},I=k.COMPAT;function U(){this.saveGraphicsState(),H(new Wt(jt,0,0,-jt,0,ji()*jt).toString()+" cm"),this.setFontSize(this.getFontSize()/jt),c="n",I=k.ADVANCED}function D(){this.restoreGraphicsState(),c="S",I=k.COMPAT}var Z=g.__private__.combineFontStyleAndFontWeight=function(d,N){if(d=="bold"&&N=="normal"||d=="bold"&&N==400||d=="normal"&&N=="italic"||d=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(d=N==400||N==="normal"?d==="italic"?"italic":"normal":N!=700&&N!=="bold"||d!=="normal"?(N==700?"bold":N)+""+d:"bold"),d};g.advancedAPI=function(d){var N=I===k.COMPAT;return N&&U.call(this),typeof d!="function"||(d(this),N&&D.call(this)),this},g.compatAPI=function(d){var N=I===k.ADVANCED;return N&&D.call(this),typeof d!="function"||(d(this),N&&U.call(this)),this},g.isAdvancedAPI=function(){return I===k.ADVANCED};var W,j=function(d){if(I!==k.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=g.roundToPrecision=g.__private__.roundToPrecision=function(d,N){var R=t||N;if(isNaN(d)||isNaN(R))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(R).replace(/0+$/,"")};W=g.hpf=g.__private__.hpf=typeof l=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return X(d,l)}:l==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return X(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return X(d,16)};var rt=g.f2=g.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return X(d,2)},L=g.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return X(d,3)},C=g.scale=g.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return I===k.COMPAT?d*jt:I===k.ADVANCED?d:void 0},q=function(d){return I===k.COMPAT?ji()-d:I===k.ADVANCED?d:void 0},B=function(d){return C(q(d))};g.__private__.setPrecision=g.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(t=parseInt(d,10))};var at,nt="00000000000000000000000000000000",ht=g.__private__.getFileId=function(){return nt},tt=g.__private__.setFileId=function(d){return nt=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():nt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Mn=new Us(f.userPermissions,f.userPassword,f.ownerPassword,nt)),nt};g.setFileId=function(d){return tt(d),this},g.getFileId=function(){return ht()};var lt=g.__private__.convertDateToPDFDate=function(d){var N=d.getTimezoneOffset(),R=N<0?"+":"-",V=Math.floor(Math.abs(N/60)),et=Math.abs(N%60),pt=[R,z(V),"'",z(et),"'"].join("");return["D:",d.getFullYear(),z(d.getMonth()+1),z(d.getDate()),z(d.getHours()),z(d.getMinutes()),z(d.getSeconds()),pt].join("")},dt=g.__private__.convertPDFDateToDate=function(d){var N=parseInt(d.substr(2,4),10),R=parseInt(d.substr(6,2),10)-1,V=parseInt(d.substr(8,2),10),et=parseInt(d.substr(10,2),10),pt=parseInt(d.substr(12,2),10),wt=parseInt(d.substr(14,2),10);return new Date(N,R,V,et,pt,wt,0)},Lt=g.__private__.setCreationDate=function(d){var N;if(d===void 0&&(d=new Date),d instanceof Date)N=lt(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=d}return at=N},M=g.__private__.getCreationDate=function(d){var N=at;return d==="jsDate"&&(N=dt(at)),N};g.setCreationDate=function(d){return Lt(d),this},g.getCreationDate=function(d){return M(d)};var O,z=g.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},G=g.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},K=0,it=[],ut=[],ct=0,kt=[],At=[],It=!1,Ct=ut,Yt=function(){K=0,ct=0,ut=[],it=[],kt=[],ii=nn(),xr=nn()};g.__private__.setCustomOutputDestination=function(d){It=!0,Ct=d};var gt=function(d){It||(Ct=d)};g.__private__.resetCustomOutputDestination=function(){It=!1,Ct=ut};var H=g.__private__.out=function(d){return d=d.toString(),ct+=d.length+1,Ct.push(d),Ct},ee=g.__private__.write=function(d){return H(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Bt=g.__private__.getArrayBuffer=function(d){for(var N=d.length,R=new ArrayBuffer(N),V=new Uint8Array(R);N--;)V[N]=d.charCodeAt(N);return R},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return xt};var _t=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(d){return _t=I===k.ADVANCED?d/jt:d,this};var Tt,Et=g.__private__.getFontSize=g.getFontSize=function(){return I===k.COMPAT?_t:_t*jt},qt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(d){return qt=d,this},g.__private__.getR2L=g.getR2L=function(){return qt};var Zt,se=g.__private__.setZoomMode=function(d){var N=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))Tt=d;else if(isNaN(d)){if(N.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');Tt=d}else Tt=parseInt(d,10)};g.__private__.getZoomMode=function(){return Tt};var oe,pe=g.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');Zt=d};g.__private__.getPageMode=function(){return Zt};var Le=g.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');oe=d};g.__private__.getLayoutMode=function(){return oe},g.__private__.setDisplayMode=g.setDisplayMode=function(d,N,R){return se(d),Le(N),pe(R),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(d){if(Object.keys($t).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[d]},g.__private__.getDocumentProperties=function(){return $t},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(d){for(var N in $t)$t.hasOwnProperty(N)&&d[N]&&($t[N]=d[N]);return this},g.__private__.setDocumentProperty=function(d,N){if(Object.keys($t).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[d]=N};var le,jt,_n,me,vr,Ce={},qe={},Dr=[],we={},us={},We={},yr={},ri=null,Ge=0,Qt=[],xe=new ep(g),cs=e.hotfixes||[],yn={},Br={},qr=[],Wt=function d(N,R,V,et,pt,wt){if(!(this instanceof d))return new d(N,R,V,et,pt,wt);isNaN(N)&&(N=1),isNaN(R)&&(R=0),isNaN(V)&&(V=0),isNaN(et)&&(et=1),isNaN(pt)&&(pt=0),isNaN(wt)&&(wt=0),this._matrix=[N,R,V,et,pt,wt]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(d)},Wt.prototype.multiply=function(d){var N=d.sx*this.sx+d.shy*this.shx,R=d.sx*this.shy+d.shy*this.sy,V=d.shx*this.sx+d.sy*this.shx,et=d.shx*this.shy+d.sy*this.sy,pt=d.tx*this.sx+d.ty*this.shx+this.tx,wt=d.tx*this.shy+d.ty*this.sy+this.ty;return new Wt(N,R,V,et,pt,wt)},Wt.prototype.decompose=function(){var d=this.sx,N=this.shy,R=this.shx,V=this.sy,et=this.tx,pt=this.ty,wt=Math.sqrt(d*d+N*N),Ot=(d/=wt)*R+(N/=wt)*V;R-=d*Ot,V-=N*Ot;var zt=Math.sqrt(R*R+V*V);return Ot/=zt,d*(V/=zt)<N*(R/=zt)&&(d=-d,N=-N,Ot=-Ot,wt=-wt),{scale:new Wt(wt,0,0,zt,0,0),translate:new Wt(1,0,0,1,et,pt),rotate:new Wt(d,N,-N,d,0,0),skew:new Wt(1,0,Ot,1,0,0)}},Wt.prototype.toString=function(d){return this.join(" ")},Wt.prototype.inversed=function(){var d=this.sx,N=this.shy,R=this.shx,V=this.sy,et=this.tx,pt=this.ty,wt=1/(d*V-N*R),Ot=V*wt,zt=-N*wt,ne=-R*wt,te=d*wt;return new Wt(Ot,zt,ne,te,-Ot*et-ne*pt,-zt*et-te*pt)},Wt.prototype.applyToPoint=function(d){var N=d.x*this.sx+d.y*this.shx+this.tx,R=d.x*this.shy+d.y*this.sy+this.ty;return new po(N,R)},Wt.prototype.applyToRectangle=function(d){var N=this.applyToPoint(d),R=this.applyToPoint(new po(d.x+d.w,d.y+d.h));return new Sa(N.x,N.y,R.x-N.x,R.y-N.y)},Wt.prototype.clone=function(){var d=this.sx,N=this.shy,R=this.shx,V=this.sy,et=this.tx,pt=this.ty;return new Wt(d,N,R,V,et,pt)},g.Matrix=Wt;var wr=g.matrixMult=function(d,N){return N.multiply(d)},zr=new Wt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=zr;var Bn=function(d,N){if(!us[d]){var R=(N instanceof Ni?"Sh":"P")+(Object.keys(we).length+1).toString(10);N.id=R,us[d]=R,we[R]=N,xe.publish("addPattern",N)}};g.ShadingPattern=Ni,g.TilingPattern=os,g.addShadingPattern=function(d,N){return j("addShadingPattern()"),Bn(d,N),this},g.beginTilingPattern=function(d){j("beginTilingPattern()"),du(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},g.endTilingPattern=function(d,N){j("endTilingPattern()"),N.stream=At[O].join(`
`),Bn(d,N),xe.publish("endTilingPattern",N),qr.pop().restore()};var ln=g.__private__.newObject=function(){var d=nn();return $n(d,!0),d},nn=g.__private__.newObjectDeferred=function(){return K++,it[K]=function(){return ct},K},$n=function(d,N){return N=typeof N=="boolean"&&N,it[d]=ct,N&&H(d+" 0 obj"),d},to=g.__private__.newAdditionalObject=function(){var d={objId:nn(),content:""};return kt.push(d),d},ii=nn(),xr=nn(),Ar=g.__private__.decodeColorString=function(d){var N=d.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length===5&&(N[4]==="k"||N[4]==="K")&&(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var R=parseFloat(N[0]);N=[R,R,R,"r"]}for(var V="#",et=0;et<3;et++)V+=("0"+Math.floor(255*parseFloat(N[et])).toString(16)).slice(-2);return V},Sr=g.__private__.encodeColorString=function(d){var N;typeof d=="string"&&(d={ch1:d});var R=d.ch1,V=d.ch2,et=d.ch3,pt=d.ch4,wt=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof R=="string"&&R.charAt(0)!=="#"){var Ot=new K1(R);if(Ot.ok)R=Ot.toHex();else if(!/^\d*\.?\d*$/.test(R))throw new Error('Invalid color "'+R+'" passed to jsPDF.encodeColorString.')}if(typeof R=="string"&&/^#[0-9A-Fa-f]{3}$/.test(R)&&(R="#"+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]),typeof R=="string"&&/^#[0-9A-Fa-f]{6}$/.test(R)){var zt=parseInt(R.substr(1),16);R=zt>>16&255,V=zt>>8&255,et=255&zt}if(V===void 0||pt===void 0&&R===V&&V===et)if(typeof R=="string")N=R+" "+wt[0];else switch(d.precision){case 2:N=rt(R/255)+" "+wt[0];break;case 3:default:N=L(R/255)+" "+wt[0]}else if(pt===void 0||Se(pt)==="object"){if(pt&&!isNaN(pt.a)&&pt.a===0)return N=["1.","1.","1.",wt[1]].join(" ");if(typeof R=="string")N=[R,V,et,wt[1]].join(" ");else switch(d.precision){case 2:N=[rt(R/255),rt(V/255),rt(et/255),wt[1]].join(" ");break;default:case 3:N=[L(R/255),L(V/255),L(et/255),wt[1]].join(" ")}}else if(typeof R=="string")N=[R,V,et,pt,wt[2]].join(" ");else switch(d.precision){case 2:N=[rt(R),rt(V),rt(et),rt(pt),wt[2]].join(" ");break;case 3:default:N=[L(R),L(V),L(et),L(pt),wt[2]].join(" ")}return N},Ur=g.__private__.getFilters=function(){return o},nr=g.__private__.putStream=function(d){var N=(d=d||{}).data||"",R=d.filters||Ur(),V=d.alreadyAppliedFilters||[],et=d.addLength1||!1,pt=N.length,wt=d.objectId,Ot=function(Pn){return Pn};if(f!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ot=Mn.encryptor(wt,0));var zt={};R===!0&&(R=["FlateEncode"]);var ne=d.additionalKeyValues||[],te=(zt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(N,R):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(V)?V.join(" "):V.toString());if(zt.data.length!==0&&(ne.push({key:"Length",value:zt.data.length}),et===!0&&ne.push({key:"Length1",value:pt})),te.length!=0)if(te.split("/").length-1==1)ne.push({key:"Filter",value:te});else{ne.push({key:"Filter",value:"["+te+"]"});for(var de=0;de<ne.length;de+=1)if(ne[de].key==="DecodeParms"){for(var Ue=[],Ve=0;Ve<zt.reverseChain.split("/").length-1;Ve+=1)Ue.push("null");Ue.push(ne[de].value),ne[de].value="["+Ue.join(" ")+"]"}}H("<<");for(var rn=0;rn<ne.length;rn++)H("/"+ne[rn].key+" "+ne[rn].value);H(">>"),zt.data.length!==0&&(H("stream"),H(Ot(zt.data)),H("endstream"))},Hr=g.__private__.putPage=function(d){var N=d.number,R=d.data,V=d.objId,et=d.contentsObjId;$n(V,!0),H("<</Type /Page"),H("/Parent "+d.rootDictionaryObjId+" 0 R"),H("/Resources "+d.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(W(d.mediaBox.bottomLeftX))+" "+parseFloat(W(d.mediaBox.bottomLeftY))+" "+W(d.mediaBox.topRightX)+" "+W(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&H("/CropBox ["+W(d.cropBox.bottomLeftX)+" "+W(d.cropBox.bottomLeftY)+" "+W(d.cropBox.topRightX)+" "+W(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&H("/BleedBox ["+W(d.bleedBox.bottomLeftX)+" "+W(d.bleedBox.bottomLeftY)+" "+W(d.bleedBox.topRightX)+" "+W(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&H("/TrimBox ["+W(d.trimBox.bottomLeftX)+" "+W(d.trimBox.bottomLeftY)+" "+W(d.trimBox.topRightX)+" "+W(d.trimBox.topRightY)+"]"),d.artBox!==null&&H("/ArtBox ["+W(d.artBox.bottomLeftX)+" "+W(d.artBox.bottomLeftY)+" "+W(d.artBox.topRightX)+" "+W(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&H("/UserUnit "+d.userUnit),xe.publish("putPage",{objId:V,pageContext:Qt[N],pageNumber:N,page:R}),H("/Contents "+et+" 0 R"),H(">>"),H("endobj");var pt=R.join(`
`);return I===k.ADVANCED&&(pt+=`
Q`),$n(et,!0),nr({data:pt,filters:Ur(),objectId:et}),H("endobj"),V},hs=g.__private__.putPages=function(){var d,N,R=[];for(d=1;d<=Ge;d++)Qt[d].objId=nn(),Qt[d].contentsObjId=nn();for(d=1;d<=Ge;d++)R.push(Hr({number:d,data:At[d],objId:Qt[d].objId,contentsObjId:Qt[d].contentsObjId,mediaBox:Qt[d].mediaBox,cropBox:Qt[d].cropBox,bleedBox:Qt[d].bleedBox,trimBox:Qt[d].trimBox,artBox:Qt[d].artBox,userUnit:Qt[d].userUnit,rootDictionaryObjId:ii,resourceDictionaryObjId:xr}));$n(ii,!0),H("<</Type /Pages");var V="/Kids [";for(N=0;N<Ge;N++)V+=R[N]+" 0 R ";H(V+"]"),H("/Count "+Ge),H(">>"),H("endobj"),xe.publish("postPutPages")},eo=function(d){xe.publish("putFont",{font:d,out:H,newObject:ln,putStream:nr}),d.isAlreadyPutted!==!0&&(d.objectNumber=ln(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Hs(d.postScriptName)),H("/Subtype /Type1"),typeof d.encoding=="string"&&H("/Encoding /"+d.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},no=function(){for(var d in Ce)Ce.hasOwnProperty(d)&&(p===!1||p===!0&&b.hasOwnProperty(d))&&eo(Ce[d])},ro=function(d){d.objectNumber=ln();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[W(d.x),W(d.y),W(d.x+d.width),W(d.y+d.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var R=d.pages[1].join(`
`);nr({data:R,additionalKeyValues:N,objectId:d.objectNumber}),H("endobj")},io=function(){for(var d in yn)yn.hasOwnProperty(d)&&ro(yn[d])},Xl=function(d,N){var R,V=[],et=1/(N-1);for(R=0;R<1;R+=et)V.push(R);if(V.push(1),d[0].offset!=0){var pt={offset:0,color:d[0].color};d.unshift(pt)}if(d[d.length-1].offset!=1){var wt={offset:1,color:d[d.length-1].color};d.push(wt)}for(var Ot="",zt=0,ne=0;ne<V.length;ne++){for(R=V[ne];R>d[zt+1].offset;)zt++;var te=d[zt].offset,de=(R-te)/(d[zt+1].offset-te),Ue=d[zt].color,Ve=d[zt+1].color;Ot+=G(Math.round((1-de)*Ue[0]+de*Ve[0]).toString(16))+G(Math.round((1-de)*Ue[1]+de*Ve[1]).toString(16))+G(Math.round((1-de)*Ue[2]+de*Ve[2]).toString(16))}return Ot.trim()},pf=function(d,N){N||(N=21);var R=ln(),V=Xl(d.colors,N),et=[];et.push({key:"FunctionType",value:"0"}),et.push({key:"Domain",value:"[0.0 1.0]"}),et.push({key:"Size",value:"["+N+"]"}),et.push({key:"BitsPerSample",value:"8"}),et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr({data:V,additionalKeyValues:et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:R}),H("endobj"),d.objectNumber=ln(),H("<< /ShadingType "+d.type),H("/ColorSpace /DeviceRGB");var pt="/Coords ["+W(parseFloat(d.coords[0]))+" "+W(parseFloat(d.coords[1]))+" ";d.type===2?pt+=W(parseFloat(d.coords[2]))+" "+W(parseFloat(d.coords[3])):pt+=W(parseFloat(d.coords[2]))+" "+W(parseFloat(d.coords[3]))+" "+W(parseFloat(d.coords[4]))+" "+W(parseFloat(d.coords[5])),H(pt+="]"),d.matrix&&H("/Matrix ["+d.matrix.toString()+"]"),H("/Function "+R+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},gf=function(d,N){var R=nn(),V=ln();N.push({resourcesOid:R,objectOid:V}),d.objectNumber=V;var et=[];et.push({key:"Type",value:"/Pattern"}),et.push({key:"PatternType",value:"1"}),et.push({key:"PaintType",value:"1"}),et.push({key:"TilingType",value:"1"}),et.push({key:"BBox",value:"["+d.boundingBox.map(W).join(" ")+"]"}),et.push({key:"XStep",value:W(d.xStep)}),et.push({key:"YStep",value:W(d.yStep)}),et.push({key:"Resources",value:R+" 0 R"}),d.matrix&&et.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),nr({data:d.stream,additionalKeyValues:et,objectId:d.objectNumber}),H("endobj")},so=function(d){var N;for(N in we)we.hasOwnProperty(N)&&(we[N]instanceof Ni?pf(we[N]):we[N]instanceof os&&gf(we[N],d))},Jl=function(d){for(var N in d.objectNumber=ln(),H("<<"),d)switch(N){case"opacity":H("/ca "+rt(d[N]));break;case"stroke-opacity":H("/CA "+rt(d[N]))}H(">>"),H("endobj")},mf=function(){var d;for(d in We)We.hasOwnProperty(d)&&Jl(We[d])},da=function(){for(var d in H("/XObject <<"),yn)yn.hasOwnProperty(d)&&yn[d].objectNumber>=0&&H("/"+d+" "+yn[d].objectNumber+" 0 R");xe.publish("putXobjectDict"),H(">>")},bf=function(){Mn.oid=ln(),H("<<"),H("/Filter /Standard"),H("/V "+Mn.v),H("/R "+Mn.r),H("/U <"+Mn.toHexString(Mn.U)+">"),H("/O <"+Mn.toHexString(Mn.O)+">"),H("/P "+Mn.P),H(">>"),H("endobj")},Kl=function(){for(var d in H("/Font <<"),Ce)Ce.hasOwnProperty(d)&&(p===!1||p===!0&&b.hasOwnProperty(d))&&H("/"+d+" "+Ce[d].objectNumber+" 0 R");H(">>")},vf=function(){if(Object.keys(we).length>0){for(var d in H("/Shading <<"),we)we.hasOwnProperty(d)&&we[d]instanceof Ni&&we[d].objectNumber>=0&&H("/"+d+" "+we[d].objectNumber+" 0 R");xe.publish("putShadingPatternDict"),H(">>")}},oo=function(d){if(Object.keys(we).length>0){for(var N in H("/Pattern <<"),we)we.hasOwnProperty(N)&&we[N]instanceof g.TilingPattern&&we[N].objectNumber>=0&&we[N].objectNumber<d&&H("/"+N+" "+we[N].objectNumber+" 0 R");xe.publish("putTilingPatternDict"),H(">>")}},yf=function(){if(Object.keys(We).length>0){var d;for(d in H("/ExtGState <<"),We)We.hasOwnProperty(d)&&We[d].objectNumber>=0&&H("/"+d+" "+We[d].objectNumber+" 0 R");xe.publish("putGStateDict"),H(">>")}},Ze=function(d){$n(d.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Kl(),vf(),oo(d.objectOid),yf(),da(),H(">>"),H("endobj")},Zl=function(){var d=[];no(),mf(),io(),so(d),xe.publish("putResources"),d.forEach(Ze),Ze({resourcesOid:xr,objectOid:Number.MAX_SAFE_INTEGER}),xe.publish("postPutResources")},Ql=function(){xe.publish("putAdditionalObjects");for(var d=0;d<kt.length;d++){var N=kt[d];$n(N.objId,!0),H(N.content),H("endobj")}xe.publish("postPutAdditionalObjects")},tu=function(d){qe[d.fontName]=qe[d.fontName]||{},qe[d.fontName][d.fontStyle]=d.id},pa=function(d,N,R,V,et){var pt={id:"F"+(Object.keys(Ce).length+1).toString(10),postScriptName:d,fontName:N,fontStyle:R,encoding:V,isStandardFont:et||!1,metadata:{}};return xe.publish("addFont",{font:pt,instance:this}),Ce[pt.id]=pt,tu(pt),pt.id},wf=function(d){for(var N=0,R=xt.length;N<R;N++){var V=pa.call(this,d[N][0],d[N][1],d[N][2],xt[N][3],!0);p===!1&&(b[V]=!0);var et=d[N][0].split("-");tu({id:V,fontName:et[0],fontStyle:et[1]||""})}xe.publish("addFonts",{fonts:Ce,dictionary:qe})},Nr=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(V){var N=V.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var R="Error in function "+N.split(`
`)[0].split("<")[0]+": "+V.message;if(!Vt.console)throw new Error(R);Vt.console.error(R,V),Vt.alert&&alert(R)}},d.foo.bar=d,d.foo},ao=function(d,N){var R,V,et,pt,wt,Ot,zt,ne,te;if(et=(N=N||{}).sourceEncoding||"Unicode",wt=N.outputEncoding,(N.autoencode||wt)&&Ce[le].metadata&&Ce[le].metadata[et]&&Ce[le].metadata[et].encoding&&(pt=Ce[le].metadata[et].encoding,!wt&&Ce[le].encoding&&(wt=Ce[le].encoding),!wt&&pt.codePages&&(wt=pt.codePages[0]),typeof wt=="string"&&(wt=pt[wt]),wt)){for(zt=!1,Ot=[],R=0,V=d.length;R<V;R++)(ne=wt[d.charCodeAt(R)])?Ot.push(String.fromCharCode(ne)):Ot.push(d[R]),Ot[R].charCodeAt(0)>>8&&(zt=!0);d=Ot.join("")}for(R=d.length;zt===void 0&&R!==0;)d.charCodeAt(R-1)>>8&&(zt=!0),R--;if(!zt)return d;for(Ot=N.noBOM?[]:[254,255],R=0,V=d.length;R<V;R++){if((te=(ne=d.charCodeAt(R))>>8)>>8)throw new Error("Character at position "+R+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(te),Ot.push(ne-(te<<8))}return String.fromCharCode.apply(void 0,Ot)},qn=g.__private__.pdfEscape=g.pdfEscape=function(d,N){return ao(d,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ga=g.__private__.beginPage=function(d){At[++Ge]=[],Qt[Ge]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},nu(Ge),gt(At[O])},eu=function(d,N){var R,V,et;switch(n=N||n,typeof d=="string"&&(R=y(d.toLowerCase()),Array.isArray(R)&&(V=R[0],et=R[1])),Array.isArray(d)&&(V=d[0]*jt,et=d[1]*jt),isNaN(V)&&(V=i[0],et=i[1]),(V>14400||et>14400)&&(Me.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),V=Math.min(14400,V),et=Math.min(14400,et)),i=[V,et],n.substr(0,1)){case"l":et>V&&(i=[et,V]);break;case"p":V>et&&(i=[et,V])}ga(i),lu(ya),H(kr),xa!==0&&H(xa+" J"),Aa!==0&&H(Aa+" j"),xe.publish("addPage",{pageNumber:Ge})},xf=function(d){d>0&&d<=Ge&&(At.splice(d,1),Qt.splice(d,1),Ge--,O>Ge&&(O=Ge),this.setPage(O))},nu=function(d){d>0&&d<=Ge&&(O=d)},Af=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return At.length-1},ru=function(d,N,R){var V,et=void 0;return R=R||{},d=d!==void 0?d:Ce[le].fontName,N=N!==void 0?N:Ce[le].fontStyle,V=d.toLowerCase(),qe[V]!==void 0&&qe[V][N]!==void 0?et=qe[V][N]:qe[d]!==void 0&&qe[d][N]!==void 0?et=qe[d][N]:R.disableWarning===!1&&Me.warn("Unable to look up font label for font '"+d+"', '"+N+"'. Refer to getFontList() for available fonts."),et||R.noFallback||(et=qe.times[N])==null&&(et=qe.times.normal),et},Sf=g.__private__.putInfo=function(){var d=ln(),N=function(V){return V};for(var R in f!==null&&(N=Mn.encryptor(d,0)),H("<<"),H("/Producer ("+qn(N("jsPDF "+Ht.version))+")"),$t)$t.hasOwnProperty(R)&&$t[R]&&H("/"+R.substr(0,1).toUpperCase()+R.substr(1)+" ("+qn(N($t[R]))+")");H("/CreationDate ("+qn(N(at))+")"),H(">>"),H("endobj")},ma=g.__private__.putCatalog=function(d){var N=(d=d||{}).rootDictionaryObjId||ii;switch(ln(),H("<<"),H("/Type /Catalog"),H("/Pages "+N+" 0 R"),Tt||(Tt="fullwidth"),Tt){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var R=""+Tt;R.substr(R.length-1)==="%"&&(Tt=parseInt(Tt)/100),typeof Tt=="number"&&H("/OpenAction [3 0 R /XYZ null null "+rt(Tt)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}Zt&&H("/PageMode /"+Zt),xe.publish("putCatalog"),H(">>"),H("endobj")},Nf=g.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(K+1)),H("/Root "+K+" 0 R"),H("/Info "+(K-1)+" 0 R"),f!==null&&H("/Encrypt "+Mn.oid+" 0 R"),H("/ID [ <"+nt+"> <"+nt+"> ]"),H(">>")},kf=g.__private__.putHeader=function(){H("%PDF-"+x),H("%ºß¬à")},Lf=g.__private__.putXRef=function(){var d="0000000000";H("xref"),H("0 "+(K+1)),H("0000000000 65535 f ");for(var N=1;N<=K;N++)typeof it[N]=="function"?H((d+it[N]()).slice(-10)+" 00000 n "):it[N]!==void 0?H((d+it[N]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},si=g.__private__.buildDocument=function(){Yt(),gt(ut),xe.publish("buildDocument"),kf(),hs(),Ql(),Zl(),f!==null&&bf(),Sf(),ma();var d=ct;return Lf(),Nf(),H("startxref"),H(""+d),H("%%EOF"),gt(At[O]),ut.join(`
`)},lo=g.__private__.getBlob=function(d){return new Blob([Bt(d)],{type:"application/pdf"})},uo=g.output=g.__private__.output=Nr(function(d,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",d){case void 0:return si();case"save":g.save(N.filename);break;case"arraybuffer":return Bt(si());case"blob":return lo(si());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(lo(si()))||void 0;Me.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var R="",V=si();try{R=Bh(V)}catch{R=Bh(unescape(encodeURIComponent(V)))}return"data:application/pdf;filename="+N.filename+";base64,"+R;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(et=N.pdfObjectUrl,pt="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+et+'"'+pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Ot=Vt.open();return Ot!==null&&Ot.document.write(wt),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',ne=Vt.open();if(ne!==null){ne.document.write(zt);var te=this;ne.document.documentElement.querySelector("#pdfViewer").onload=function(){ne.document.title=N.filename,ne.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(te.output("bloburl"))}}return ne}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',Ue=Vt.open();if(Ue!==null&&(Ue.document.write(de),Ue.document.title=N.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",N);default:return null}}),iu=function(d){return Array.isArray(cs)===!0&&cs.indexOf(d)>-1};switch(r){case"pt":jt=1;break;case"mm":jt=72/25.4;break;case"cm":jt=72/2.54;break;case"in":jt=72;break;case"px":jt=iu("px_scaling")==1?.75:96/72;break;case"pc":case"em":jt=12;break;case"ex":jt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);jt=r}var Mn=null;Lt(),tt();var _f=function(d){return f!==null?Mn.encryptor(d,0):function(N){return N}},su=g.__private__.getPageInfo=g.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[d].objId,pageNumber:d,pageContext:Qt[d]}},Xt=g.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in Qt)if(Qt[N].objId===d)break;return su(N)},Mf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Qt[O].objId,pageNumber:O,pageContext:Qt[O]}};g.addPage=function(){return eu.apply(this,arguments),this},g.setPage=function(){return nu.apply(this,arguments),gt.call(this,At[O]),this},g.insertPage=function(d){return this.addPage(),this.movePage(O,d),this},g.movePage=function(d,N){var R,V;if(d>N){R=At[d],V=Qt[d];for(var et=d;et>N;et--)At[et]=At[et-1],Qt[et]=Qt[et-1];At[N]=R,Qt[N]=V,this.setPage(N)}else if(d<N){R=At[d],V=Qt[d];for(var pt=d;pt<N;pt++)At[pt]=At[pt+1],Qt[pt]=Qt[pt+1];At[N]=R,Qt[N]=V,this.setPage(N)}return this},g.deletePage=function(){return xf.apply(this,arguments),this},g.__private__.text=g.text=function(d,N,R,V,et){var pt,wt,Ot,zt,ne,te,de,Ue,Ve,rn=(V=V||{}).scope||this;if(typeof d=="number"&&typeof N=="number"&&(typeof R=="string"||Array.isArray(R))){var Pn=R;R=N,N=d,d=Pn}if(arguments[3]instanceof Wt?(j("The transform parameter of text() with a Matrix value"),Ve=et):(Ot=arguments[4],zt=arguments[5],Se(de=arguments[3])==="object"&&de!==null||(typeof Ot=="string"&&(zt=Ot,Ot=null),typeof de=="string"&&(zt=de,de=null),typeof de=="number"&&(Ot=de,de=null),V={flags:de,angle:Ot,align:zt})),isNaN(N)||isNaN(R)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return rn;var pn="",Lr=!1,Xn=typeof V.lineHeightFactor=="number"?V.lineHeightFactor:ds,Vr=rn.internal.scaleFactor;function pu(je){return je=je.split("	").join(Array(V.TabLen||9).join(" ")),qn(je,de)}function _a(je){for(var Oe,tn=je.concat(),un=[],ci=tn.length;ci--;)typeof(Oe=tn.shift())=="string"?un.push(Oe):Array.isArray(je)&&(Oe.length===1||Oe[1]===void 0&&Oe[2]===void 0)?un.push(Oe[0]):un.push([Oe[0],Oe[1],Oe[2]]);return un}function Ma(je,Oe){var tn;if(typeof je=="string")tn=Oe(je)[0];else if(Array.isArray(je)){for(var un,ci,Oa=je.concat(),ko=[],yu=Oa.length;yu--;)typeof(un=Oa.shift())=="string"?ko.push(Oe(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(ci=Oe(un[0],un[1],un[2]),ko.push([ci[0],ci[1],ci[2]]));tn=ko}return tn}var mo=!1,Pa=!0;if(typeof d=="string")mo=!0;else if(Array.isArray(d)){var Ca=d.concat();wt=[];for(var bo,wn=Ca.length;wn--;)(typeof(bo=Ca.shift())!="string"||Array.isArray(bo)&&typeof bo[0]!="string")&&(Pa=!1);mo=Pa}if(mo===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var vo=_t/rn.internal.scaleFactor,yo=vo*(Xn-1);switch(V.baseline){case"bottom":R-=yo;break;case"top":R+=vo-yo;break;case"hanging":R+=vo-2*yo;break;case"middle":R+=vo/2-yo}if((te=V.maxWidth||0)>0&&(typeof d=="string"?d=rn.splitTextToSize(d,te):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(je,Oe){return je.concat(rn.splitTextToSize(Oe,te))},[]))),pt={text:d,x:N,y:R,options:V,mutex:{pdfEscape:qn,activeFontKey:le,fonts:Ce,activeFontSize:_t}},xe.publish("preProcessText",pt),d=pt.text,Ot=(V=pt.options).angle,!(Ve instanceof Wt)&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,V.rotationDirection===0&&(Ot=-Ot),I===k.ADVANCED&&(Ot=-Ot);var wo=Math.cos(Ot),Fa=Math.sin(Ot);Ve=new Wt(wo,Fa,-Fa,wo,0,0)}else Ot&&Ot instanceof Wt&&(Ve=Ot);I!==k.ADVANCED||Ve||(Ve=zr),(ne=V.charSpace||fo)!==void 0&&(pn+=W(C(ne))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=V.horizontalScale)!==void 0&&(pn+=W(100*Ue)+` Tz
`),V.lang;var zn=-1,Df=V.renderingMode!==void 0?V.renderingMode:V.stroke,Ea=rn.internal.getCurrentPageInfo().pageContext;switch(Df){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var gu=Ea.usedRenderingMode!==void 0?Ea.usedRenderingMode:-1;zn!==-1?pn+=zn+` Tr
`:gu!==-1&&(pn+=`0 Tr
`),zn!==-1&&(Ea.usedRenderingMode=zn),zt=V.align||"left";var rr,xo=_t*Xn,mu=rn.internal.pageSize.getWidth(),bu=Ce[le];ne=V.charSpace||fo,te=V.maxWidth||0,de=Object.assign({autoencode:!0,noBOM:!0},V.flags);var Oi=[],ms=function(je){return rn.getStringUnitWidth(je,{font:bu,charSpace:ne,fontSize:_t,doKerning:!1})*_t/Vr};if(Object.prototype.toString.call(d)==="[object Array]"){var Un;wt=_a(d),zt!=="left"&&(rr=wt.map(ms));var En,Ri=0;if(zt==="right"){N-=rr[0],d=[],wn=wt.length;for(var ai=0;ai<wn;ai++)ai===0?(En=Gr(N),Un=oi(R)):(En=C(Ri-rr[ai]),Un=-xo),d.push([wt[ai],En,Un]),Ri=rr[ai]}else if(zt==="center"){N-=rr[0]/2,d=[],wn=wt.length;for(var li=0;li<wn;li++)li===0?(En=Gr(N),Un=oi(R)):(En=C((Ri-rr[li])/2),Un=-xo),d.push([wt[li],En,Un]),Ri=rr[li]}else if(zt==="left"){d=[],wn=wt.length;for(var Ao=0;Ao<wn;Ao++)d.push(wt[Ao])}else if(zt==="justify"&&bu.encoding==="Identity-H"){d=[],wn=wt.length,te=te!==0?te:mu;for(var ui=0,Qe=0;Qe<wn;Qe++)if(Un=Qe===0?oi(R):-xo,En=Qe===0?Gr(N):ui,Qe<wn-1){var Ia=C((te-rr[Qe])/(wt[Qe].split(" ").length-1)),In=wt[Qe].split(" ");d.push([In[0]+" ",En,Un]),ui=0;for(var ir=1;ir<In.length;ir++){var So=(ms(In[ir-1]+" "+In[ir])-ms(In[ir]))*Vr+Ia;ir==In.length-1?d.push([In[ir],So,0]):d.push([In[ir]+" ",So,0]),ui-=So}}else d.push([wt[Qe],En,Un]);d.push(["",ui,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],wn=wt.length,te=te!==0?te:mu,Qe=0;Qe<wn;Qe++)Un=Qe===0?oi(R):-xo,En=Qe===0?Gr(N):0,Qe<wn-1?Oi.push(W(C((te-rr[Qe])/(wt[Qe].split(" ").length-1)))):Oi.push(0),d.push([wt[Qe],En,Un])}}var vu=typeof V.R2L=="boolean"?V.R2L:qt;vu===!0&&(d=Ma(d,function(je,Oe,tn){return[je.split("").reverse().join(""),Oe,tn]})),pt={text:d,x:N,y:R,options:V,mutex:{pdfEscape:qn,activeFontKey:le,fonts:Ce,activeFontSize:_t}},xe.publish("postProcessText",pt),d=pt.text,Lr=pt.mutex.isHex||!1;var Ta=Ce[le].encoding;Ta!=="WinAnsiEncoding"&&Ta!=="StandardEncoding"||(d=Ma(d,function(je,Oe,tn){return[pu(je),Oe,tn]})),wt=_a(d),d=[];for(var bs,vs,Di,ys=0,No=1,ws=Array.isArray(wt[0])?No:ys,Bi="",ja=function(je,Oe,tn){var un="";return tn instanceof Wt?(tn=typeof V.angle=="number"?wr(tn,new Wt(1,0,0,1,je,Oe)):wr(new Wt(1,0,0,1,je,Oe),tn),I===k.ADVANCED&&(tn=wr(new Wt(1,0,0,-1,0,0),tn)),un=tn.join(" ")+` Tm
`):un=W(je)+" "+W(Oe)+` Td
`,un},sr=0;sr<wt.length;sr++){switch(Bi="",ws){case No:Di=(Lr?"<":"(")+wt[sr][0]+(Lr?">":")"),bs=parseFloat(wt[sr][1]),vs=parseFloat(wt[sr][2]);break;case ys:Di=(Lr?"<":"(")+wt[sr]+(Lr?">":")"),bs=Gr(N),vs=oi(R)}Oi!==void 0&&Oi[sr]!==void 0&&(Bi=Oi[sr]+` Tw
`),sr===0?d.push(Bi+ja(bs,vs,Ve)+Di):ws===ys?d.push(Bi+Di):ws===No&&d.push(Bi+ja(bs,vs,Ve)+Di)}d=ws===ys?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var or=`BT
/`;return or+=le+" "+_t+` Tf
`,or+=W(_t*Xn)+` TL
`,or+=ps+`
`,or+=pn,or+=d,H(or+="ET"),b[le]=!0,rn};var Pf=g.__private__.clip=g.clip=function(d){return H(d==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Pf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return H("n"),this};var Wr=g.__private__.isValidStyle=function(d){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(N=!0),N};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(d){return Wr(d)&&(c=d),this};var ou=g.__private__.getStyle=g.getStyle=function(d){var N=c;switch(d){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=d}return N},au=g.close=function(){return H("h"),this};g.stroke=function(){return H("S"),this},g.fill=function(d){return co("f",d),this},g.fillEvenOdd=function(d){return co("f*",d),this},g.fillStroke=function(d){return co("B",d),this},g.fillStrokeEvenOdd=function(d){return co("B*",d),this};var co=function(d,N){Se(N)==="object"?Ff(N,d):H(d)},ba=function(d){d===null||I===k.ADVANCED&&d===void 0||(d=ou(d),H(d))};function Cf(d,N,R,V,et){var pt=new os(N||this.boundingBox,R||this.xStep,V||this.yStep,this.gState,et||this.matrix);pt.stream=this.stream;var wt=d+"$$"+this.cloneIndex+++"$$";return Bn(wt,pt),pt}var Ff=function(d,N){var R=us[d.key],V=we[R];if(V instanceof Ni)H("q"),H(Ef(N)),V.gState&&g.setGState(V.gState),H(d.matrix.toString()+" cm"),H("/"+R+" sh"),H("Q");else if(V instanceof os){var et=new Wt(1,0,0,-1,0,ji());d.matrix&&(et=et.multiply(d.matrix||zr),R=Cf.call(V,d.key,d.boundingBox,d.xStep,d.yStep,et).id),H("q"),H("/Pattern cs"),H("/"+R+" scn"),V.gState&&g.setGState(V.gState),H(N),H("Q")}},Ef=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},va=g.moveTo=function(d,N){return H(W(C(d))+" "+W(B(N))+" m"),this},fs=g.lineTo=function(d,N){return H(W(C(d))+" "+W(B(N))+" l"),this},Ii=g.curveTo=function(d,N,R,V,et,pt){return H([W(C(d)),W(B(N)),W(C(R)),W(B(V)),W(C(et)),W(B(pt)),"c"].join(" ")),this};g.__private__.line=g.line=function(d,N,R,V,et){if(isNaN(d)||isNaN(N)||isNaN(R)||isNaN(V)||!Wr(et))throw new Error("Invalid arguments passed to jsPDF.line");return I===k.COMPAT?this.lines([[R-d,V-N]],d,N,[1,1],et||"S"):this.lines([[R-d,V-N]],d,N,[1,1]).stroke()},g.__private__.lines=g.lines=function(d,N,R,V,et,pt){var wt,Ot,zt,ne,te,de,Ue,Ve,rn,Pn,pn,Lr;if(typeof d=="number"&&(Lr=R,R=N,N=d,d=Lr),V=V||[1,1],pt=pt||!1,isNaN(N)||isNaN(R)||!Array.isArray(d)||!Array.isArray(V)||!Wr(et)||typeof pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(va(N,R),wt=V[0],Ot=V[1],ne=d.length,Pn=N,pn=R,zt=0;zt<ne;zt++)(te=d[zt]).length===2?(Pn=te[0]*wt+Pn,pn=te[1]*Ot+pn,fs(Pn,pn)):(de=te[0]*wt+Pn,Ue=te[1]*Ot+pn,Ve=te[2]*wt+Pn,rn=te[3]*Ot+pn,Pn=te[4]*wt+Pn,pn=te[5]*Ot+pn,Ii(de,Ue,Ve,rn,Pn,pn));return pt&&au(),ba(et),this},g.path=function(d){for(var N=0;N<d.length;N++){var R=d[N],V=R.c;switch(R.op){case"m":va(V[0],V[1]);break;case"l":fs(V[0],V[1]);break;case"c":Ii.apply(this,V);break;case"h":au()}}return this},g.__private__.rect=g.rect=function(d,N,R,V,et){if(isNaN(d)||isNaN(N)||isNaN(R)||isNaN(V)||!Wr(et))throw new Error("Invalid arguments passed to jsPDF.rect");return I===k.COMPAT&&(V=-V),H([W(C(d)),W(B(N)),W(C(R)),W(C(V)),"re"].join(" ")),ba(et),this},g.__private__.triangle=g.triangle=function(d,N,R,V,et,pt,wt){if(isNaN(d)||isNaN(N)||isNaN(R)||isNaN(V)||isNaN(et)||isNaN(pt)||!Wr(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[R-d,V-N],[et-R,pt-V],[d-et,N-pt]],d,N,[1,1],wt,!0),this},g.__private__.roundedRect=g.roundedRect=function(d,N,R,V,et,pt,wt){if(isNaN(d)||isNaN(N)||isNaN(R)||isNaN(V)||isNaN(et)||isNaN(pt)||!Wr(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return et=Math.min(et,.5*R),pt=Math.min(pt,.5*V),this.lines([[R-2*et,0],[et*Ot,0,et,pt-pt*Ot,et,pt],[0,V-2*pt],[0,pt*Ot,-et*Ot,pt,-et,pt],[2*et-R,0],[-et*Ot,0,-et,-pt*Ot,-et,-pt],[0,2*pt-V],[0,-pt*Ot,et*Ot,-pt,et,-pt]],d+et,N,[1,1],wt,!0),this},g.__private__.ellipse=g.ellipse=function(d,N,R,V,et){if(isNaN(d)||isNaN(N)||isNaN(R)||isNaN(V)||!Wr(et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var pt=4/3*(Math.SQRT2-1)*R,wt=4/3*(Math.SQRT2-1)*V;return va(d+R,N),Ii(d+R,N-wt,d+pt,N-V,d,N-V),Ii(d-pt,N-V,d-R,N-wt,d-R,N),Ii(d-R,N+wt,d-pt,N+V,d,N+V),Ii(d+pt,N+V,d+R,N+wt,d+R,N),ba(et),this},g.__private__.circle=g.circle=function(d,N,R,V){if(isNaN(d)||isNaN(N)||isNaN(R)||!Wr(V))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,N,R,R,V)},g.setFont=function(d,N,R){return R&&(N=Z(N,R)),le=ru(d,N,{disableWarning:!1}),this};var If=g.__private__.getFont=g.getFont=function(){return Ce[ru.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var d,N,R={};for(d in qe)if(qe.hasOwnProperty(d))for(N in R[d]=[],qe[d])qe[d].hasOwnProperty(N)&&R[d].push(N);return R},g.addFont=function(d,N,R,V,et){var pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&pt.indexOf(arguments[3])!==-1?et=arguments[3]:arguments[3]&&pt.indexOf(arguments[3])==-1&&(R=Z(R,V)),et=et||"Identity-H",pa.call(this,d,N,R,et)};var ds,ya=e.lineWidth||.200025,ho=g.__private__.getLineWidth=g.getLineWidth=function(){return ya},lu=g.__private__.setLineWidth=g.setLineWidth=function(d){return ya=d,H(W(C(d))+" w"),this};g.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(d,N){if(d=d||[],N=N||0,isNaN(N)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(R){return W(C(R))}).join(" "),N=W(C(N)),H("["+d+"] "+N+" d"),this};var uu=g.__private__.getLineHeight=g.getLineHeight=function(){return _t*ds};g.__private__.getLineHeight=g.getLineHeight=function(){return _t*ds};var cu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(ds=d),this},hu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ds};cu(e.lineHeight);var Gr=g.__private__.getHorizontalCoordinate=function(d){return C(d)},oi=g.__private__.getVerticalCoordinate=function(d){return I===k.ADVANCED?d:Qt[O].mediaBox.topRightY-Qt[O].mediaBox.bottomLeftY-C(d)},Tf=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(d){return W(Gr(d))},Ti=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(d){return W(oi(d))},kr=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ar(kr)},g.__private__.setStrokeColor=g.setDrawColor=function(d,N,R,V){return kr=Sr({ch1:d,ch2:N,ch3:R,ch4:V,pdfColorType:"draw",precision:2}),H(kr),this};var wa=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ar(wa)},g.__private__.setFillColor=g.setFillColor=function(d,N,R,V){return wa=Sr({ch1:d,ch2:N,ch3:R,ch4:V,pdfColorType:"fill",precision:2}),H(wa),this};var ps=e.textColor||"0 g",jf=g.__private__.getTextColor=g.getTextColor=function(){return Ar(ps)};g.__private__.setTextColor=g.setTextColor=function(d,N,R,V){return ps=Sr({ch1:d,ch2:N,ch3:R,ch4:V,pdfColorType:"text",precision:3}),this};var fo=e.charSpace,Of=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(fo||0)};g.__private__.setCharSpace=g.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fo=d,this};var xa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(d){var N=g.CapJoinStyles[d];if(N===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xa=N,H(N+" J"),this};var Aa=0;g.__private__.setLineJoin=g.setLineJoin=function(d){var N=g.CapJoinStyles[d];if(N===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Aa=N,H(N+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(W(C(d))+" M"),this},g.GState=ss,g.setGState=function(d){(d=typeof d=="string"?We[yr[d]]:fu(null,d)).equals(ri)||(H("/"+d.id+" gs"),ri=d)};var fu=function(d,N){if(!d||!yr[d]){var R=!1;for(var V in We)if(We.hasOwnProperty(V)&&We[V].equals(N)){R=!0;break}if(R)N=We[V];else{var et="GS"+(Object.keys(We).length+1).toString(10);We[et]=N,N.id=et}return d&&(yr[d]=N.id),xe.publish("addGState",N),N}};g.addGState=function(d,N){return fu(d,N),this},g.saveGraphicsState=function(){return H("q"),Dr.push({key:le,size:_t,color:ps}),this},g.restoreGraphicsState=function(){H("Q");var d=Dr.pop();return le=d.key,_t=d.size,ps=d.color,ri=null,this},g.setCurrentTransformationMatrix=function(d){return H(d.toString()+" cm"),this},g.comment=function(d){return H("#"+d),this};var po=function(d,N){var R=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return R},set:function(pt){isNaN(pt)||(R=parseFloat(pt))}});var V=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return V},set:function(pt){isNaN(pt)||(V=parseFloat(pt))}});var et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return et},set:function(pt){et=pt.toString()}}),this},Sa=function(d,N,R,V){po.call(this,d,N),this.type="rect";var et=R||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return et},set:function(wt){isNaN(wt)||(et=parseFloat(wt))}});var pt=V||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return pt},set:function(wt){isNaN(wt)||(pt=parseFloat(wt))}}),this},Na=function(){this.page=Ge,this.currentPage=O,this.pages=At.slice(0),this.pagesContext=Qt.slice(0),this.x=_n,this.y=me,this.matrix=vr,this.width=gs(O),this.height=ji(O),this.outputDestination=Ct,this.id="",this.objectNumber=-1};Na.prototype.restore=function(){Ge=this.page,O=this.currentPage,Qt=this.pagesContext,At=this.pages,_n=this.x,me=this.y,vr=this.matrix,ka(O,this.width),La(O,this.height),Ct=this.outputDestination};var du=function(d,N,R,V,et){qr.push(new Na),Ge=O=0,At=[],_n=d,me=N,vr=et,ga([R,V])},Rf=function(d){if(Br[d])qr.pop().restore();else{var N=new Na,R="Xo"+(Object.keys(yn).length+1).toString(10);N.id=R,Br[d]=R,yn[R]=N,xe.publish("addFormObject",N),qr.pop().restore()}};for(var go in g.beginFormObject=function(d,N,R,V,et){return du(d,N,R,V,et),this},g.endFormObject=function(d){return Rf(d),this},g.doFormObject=function(d,N){var R=yn[Br[d]];return H("q"),H(N.toString()+" cm"),H("/"+R.id+" Do"),H("Q"),this},g.getFormObject=function(d){var N=yn[Br[d]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},g.save=function(d,N){return d=d||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(is(lo(si()),d),typeof is.unload=="function"&&Vt.setTimeout&&setTimeout(is.unload,911),this):new Promise(function(R,V){try{var et=is(lo(si()),d);typeof is.unload=="function"&&Vt.setTimeout&&setTimeout(is.unload,911),R(et)}catch(pt){V(pt.message)}})},Ht.API)Ht.API.hasOwnProperty(go)&&(go==="events"&&Ht.API.events.length?function(d,N){var R,V,et;for(et=N.length-1;et!==-1;et--)R=N[et][0],V=N[et][1],d.subscribe.apply(d,[R].concat(typeof V=="function"?[V]:V))}(xe,Ht.API.events):g[go]=Ht.API[go]);var gs=g.getPageWidth=function(d){return(Qt[d=d||O].mediaBox.topRightX-Qt[d].mediaBox.bottomLeftX)/jt},ka=g.setPageWidth=function(d,N){Qt[d].mediaBox.topRightX=N*jt+Qt[d].mediaBox.bottomLeftX},ji=g.getPageHeight=function(d){return(Qt[d=d||O].mediaBox.topRightY-Qt[d].mediaBox.bottomLeftY)/jt},La=g.setPageHeight=function(d,N){Qt[d].mediaBox.topRightY=N*jt+Qt[d].mediaBox.bottomLeftY};return g.internal={pdfEscape:qn,getStyle:ou,getFont:If,getFontSize:Et,getCharSpace:Of,getTextColor:jf,getLineHeight:uu,getLineHeightFactor:hu,getLineWidth:ho,write:ee,getHorizontalCoordinate:Gr,getVerticalCoordinate:oi,getCoordinateString:Tf,getVerticalCoordinateString:Ti,collections:{},newObject:ln,newAdditionalObject:to,newObjectDeferred:nn,newObjectDeferredBegin:$n,getFilters:Ur,putStream:nr,events:xe,scaleFactor:jt,pageSize:{getWidth:function(){return gs(O)},setWidth:function(d){ka(O,d)},getHeight:function(){return ji(O)},setHeight:function(d){La(O,d)}},encryptionOptions:f,encryption:Mn,getEncryptor:_f,output:uo,getNumberOfPages:Af,pages:At,out:H,f2:rt,f3:L,getPageInfo:su,getPageInfoByObjId:Xt,getCurrentPageInfo:Mf,getPDFVersion:w,Point:po,Rectangle:Sa,Matrix:Wt,hasHotfix:iu},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return gs(O)},set:function(d){ka(O,d)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ji(O)},set:function(d){La(O,d)},enumerable:!0,configurable:!0}),wf.call(g,xt),le="F1",eu(i,n),xe.publish("initialized"),g}Us.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Us.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Us.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Us.prototype.processOwnerPassword=function(e,t){return Uh(zh(t).substr(0,5),e)},Us.prototype.encryptor=function(e,t){var n=zh(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Uh(n,r)}},ss.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Se(e)!==Se(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Ht.API={events:[]},Ht.version="2.5.2";var He=Ht.API,Hh=1,as=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ws=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(e){return e.toFixed(2)},ki=function(e){return e.toFixed(5)};He.__acroform__={};var Dn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},rp=function(e){return e*Hh},Ir=function(e){var t=new sp,n=Dt.internal.getHeight(e)||0,r=Dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Kt(r)),Number(Kt(n))],t},j3=He.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},O3=He.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},R3=He.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Xe=He.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return R3(e,t-1)},Je=He.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return j3(e,t-1)},Ke=He.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return O3(e,t-1)},D3=He.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Kt(l.lowerLeft_X)),Number(Kt(l.lowerLeft_Y)),Number(Kt(l.upperRight_X)),Number(Kt(l.upperRight_Y))]},B3=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Wh(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Kt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Ir(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Wh=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=n,o=Dt.internal.getHeight(e)||0;o=o<0?-o:o;var a=Dt.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(L,C,q){if(L+1<i.length){var B=C+" "+i[L+1][0];return El(B,e,q).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var c,f,p=El("3",e,s).height,b=e.multiline?o-s:(o-p)/2,g=b+=2,x=0,w=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+El(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",k=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var U=!1;if(i[I].length!==1&&A!==i[I].length-1){if((p+2)*(k+2)+2>o)continue t;y+=i[I][A],U=!0,w=I,I--}else{y=(y+=i[I][A]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var D=parseInt(I),Z=l(D,y,s),W=I>=i.length-1;if(Z&&!W){y+=" ",A=0;continue}if(Z||W){if(W)w=D;else if(e.multiline&&(p+2)*(k+2)+2>o)continue t}else{if(!e.multiline||(p+2)*(k+2)+2>o)continue t;w=D}}for(var j="",X=x;X<=w;X++){var rt=i[X];if(e.multiline){if(X===w){j+=rt[A]+" ",A=(A+1)%rt.length;continue}if(X===x){j+=rt[rt.length-1]+" ";continue}}j+=rt[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,f=El(j,e,s).width,e.textAlign){case"right":c=a-f-2;break;case"center":c=(a-f)/2;break;case"left":default:c=2}t+=Kt(c)+" "+Kt(g)+` Td
`,t+="("+as(j)+`) Tj
`,t+=-Kt(c)+` 0 Td
`,g=-(s+2),f=0,x=U?w:w+1,k++,y=""}break}return r.text=t,r.fontSize=s,r},El=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},q3={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},z3=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},U3=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Se(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},H3=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(pr.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(q3)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Hh=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new op,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&z3(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=D3(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Dt.createDefaultAppearanceStream(a),Se(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=B3(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var p="";for(var b in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(b)){var g=a.appearanceStreamContent[b];if(p+="/"+b+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var x=g[o];typeof x=="function"&&(x=x.call(i,a)),p+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=g)=="function"&&(x=x.call(i,a)),p+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&U3(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},ip=He.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Se(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+as(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gh=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+as(r(e))+")"},Tr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Tr.prototype.toString=function(){return this.objId+" 0 R"},Tr.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Tr.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:ip(i,this.objId,this.scope)}):i instanceof Tr?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var sp=function(){Tr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Dn(sp,Tr);var op=function(){Tr.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+as(n(e))+")"}},set:function(n){e=n}})};Dn(op,Tr);var pr=function e(){Tr.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xe(t,3)},set:function(y){y?this.F=Je(t,3):this.F=Ke(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof jl)return;s="FieldObject"+e.FieldNum++}var y=function(k){return k};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+as(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Hh:c},set:function(y){c=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof jl||this instanceof ls))return Gh(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=y}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof fn?b:Gh(b,this.objId,this.scope)},set:function(y){y=y.toString(),b=this instanceof fn?y:y.substr(0,1)==="("?Ws(y.substr(1,y.length-2)):Ws(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fn?Ws(b.substr(1,b.length-1)):b},set:function(y){y=y.toString(),b=this instanceof fn?"/"+y:y}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof fn?g:Gh(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof fn?y:y.substr(0,1)==="("?Ws(y.substr(1,y.length-2)):Ws(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fn?Ws(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof fn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(y){y=!!y,w=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,1)},set:function(y){y?this.Ff=Je(this.Ff,1):this.Ff=Ke(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,2)},set:function(y){y?this.Ff=Je(this.Ff,2):this.Ff=Ke(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,3)},set:function(y){y?this.Ff=Je(this.Ff,3):this.Ff=Ke(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');A=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(A){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Dn(pr,Tr);var Gs=function(){pr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ip(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,18)},set:function(n){n?this.Ff=Je(this.Ff,18):this.Ff=Ke(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Je(this.Ff,19):this.Ff=Ke(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,20)},set:function(n){n?(this.Ff=Je(this.Ff,20),t.sort()):this.Ff=Ke(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,22)},set:function(n){n?this.Ff=Je(this.Ff,22):this.Ff=Ke(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,23)},set:function(n){n?this.Ff=Je(this.Ff,23):this.Ff=Ke(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,27)},set:function(n){n?this.Ff=Je(this.Ff,27):this.Ff=Ke(this.Ff,27)}}),this.hasAppearanceStream=!1};Dn(Gs,pr);var Vs=function(){Gs.call(this),this.fontName="helvetica",this.combo=!1};Dn(Vs,Gs);var Ys=function(){Vs.call(this),this.combo=!0};Dn(Ys,Vs);var Il=function(){Ys.call(this),this.edit=!0};Dn(Il,Ys);var fn=function(){pr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,15)},set:function(n){n?this.Ff=Je(this.Ff,15):this.Ff=Ke(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,16)},set:function(n){n?this.Ff=Je(this.Ff,16):this.Ff=Ke(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,17)},set:function(n){n?this.Ff=Je(this.Ff,17):this.Ff=Ke(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,26)},set:function(n){n?this.Ff=Je(this.Ff,26):this.Ff=Ke(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+as(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Se(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Dn(fn,pr);var Tl=function(){fn.call(this),this.pushButton=!0};Dn(Tl,fn);var $s=function(){fn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Dn($s,fn);var jl=function(){var e,t;pr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+as(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Se(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Dn(jl,pr),$s.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},$s.prototype.createOption=function(e){var t=new jl;return t.Parent=this,t.optionName=e,this.Kids.push(t),W3.call(this.scope,t),t};var Ol=function(){fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};Dn(Ol,fn);var ls=function(){pr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,13)},set:function(t){t?this.Ff=Je(this.Ff,13):this.Ff=Ke(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,21)},set:function(t){t?this.Ff=Je(this.Ff,21):this.Ff=Ke(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,23)},set:function(t){t?this.Ff=Je(this.Ff,23):this.Ff=Ke(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,24)},set:function(t){t?this.Ff=Je(this.Ff,24):this.Ff=Ke(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,25)},set:function(t){t?this.Ff=Je(this.Ff,25):this.Ff=Ke(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,26)},set:function(t){t?this.Ff=Je(this.Ff,26):this.Ff=Ke(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Dn(ls,pr);var Rl=function(){ls.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xe(this.Ff,14)},set:function(e){e?this.Ff=Je(this.Ff,14):this.Ff=Ke(this.Ff,14)}}),this.password=!0};Dn(Rl,ls);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ir(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Wh(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Kt(Dt.internal.getWidth(e))+" "+Kt(Dt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Kt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ir(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Dt.internal.getHeight(e),o=Dt.internal.getWidth(e),a=Wh(e,e.caption);return i.push("1 g"),i.push("0 0 "+Kt(o)+" "+Kt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kt(o-1)+" "+Kt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ir(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(Dt.internal.getWidth(e))+" "+Kt(Dt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Circle.YesNormal,t.D[e]=Dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ir(e);t.scope=e.scope;var n=[],r=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Dt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ki(Dt.internal.getWidth(e)/2)+" "+ki(Dt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ir(e);t.scope=e.scope;var n=[],r=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Dt.internal.Bezier_C).toFixed(5)),o=Number((r*Dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ki(Dt.internal.getWidth(e)/2)+" "+ki(Dt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ki(Dt.internal.getWidth(e)/2)+" "+ki(Dt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ir(e);t.scope=e.scope;var n=[],r=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ki(Dt.internal.getWidth(e)/2)+" "+ki(Dt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Cross.YesNormal,t.D[e]=Dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ir(e);t.scope=e.scope;var n=[],r=Dt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Kt(Dt.internal.getWidth(e)-2)+" "+Kt(Dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(r.x1.x)+" "+Kt(r.x1.y)+" m"),n.push(Kt(r.x2.x)+" "+Kt(r.x2.y)+" l"),n.push(Kt(r.x4.x)+" "+Kt(r.x4.y)+" m"),n.push(Kt(r.x3.x)+" "+Kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ir(e);t.scope=e.scope;var n=Dt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(Dt.internal.getWidth(e))+" "+Kt(Dt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Kt(Dt.internal.getWidth(e)-2)+" "+Kt(Dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),r.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),r.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),r.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ir(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(Dt.internal.getWidth(e))+" "+Kt(Dt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Dt.internal.getWidth(e),n=Dt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Dt.internal.getWidth=function(e){var t=0;return Se(e)==="object"&&(t=rp(e.Rect[2])),t},Dt.internal.getHeight=function(e){var t=0;return Se(e)==="object"&&(t=rp(e.Rect[3])),t};var W3=He.addField=function(e){if(H3(this,e),!(e instanceof pr))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};He.AcroFormChoiceField=Gs,He.AcroFormListBox=Vs,He.AcroFormComboBox=Ys,He.AcroFormEditBox=Il,He.AcroFormButton=fn,He.AcroFormPushButton=Tl,He.AcroFormRadioButton=$s,He.AcroFormCheckBox=Ol,He.AcroFormTextField=ls,He.AcroFormPasswordField=Rl,He.AcroFormAppearance=Dt,He.AcroForm={ChoiceField:Gs,ListBox:Vs,ComboBox:Ys,EditBox:Il,Button:fn,PushButton:Tl,RadioButton:$s,CheckBox:Ol,TextField:ls,PasswordField:Rl,Appearance:Dt},Ht.AcroForm={ChoiceField:Gs,ListBox:Vs,ComboBox:Ys,EditBox:Il,Button:fn,PushButton:Tl,RadioButton:$s,CheckBox:Ol,TextField:ls,PasswordField:Rl,Appearance:Dt};function ap(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(L,C){var q,B,at,nt,ht,tt=t;if((C=C||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(Z(L))for(ht in n)for(at=n[ht],q=0;q<at.length;q+=1){for(nt=!0,B=0;B<at[q].length;B+=1)if(at[q][B]!==void 0&&at[q][B]!==L[B]){nt=!1;break}if(nt===!0){tt=ht;break}}else for(ht in n)for(at=n[ht],q=0;q<at.length;q+=1){for(nt=!0,B=0;B<at[q].length;B+=1)if(at[q][B]!==void 0&&at[q][B]!==L.charCodeAt(B)){nt=!1;break}if(nt===!0){tt=ht;break}}return tt===t&&C!==t&&(tt=C),tt},i=function L(C){for(var q=this.internal.write,B=this.internal.putStream,at=(0,this.internal.getFilters)();at.indexOf("FlateEncode")!==-1;)at.splice(at.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var nt=[];if(nt.push({key:"Type",value:"/XObject"}),nt.push({key:"Subtype",value:"/Image"}),nt.push({key:"Width",value:C.width}),nt.push({key:"Height",value:C.height}),C.colorSpace===A.INDEXED?nt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(nt.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===A.DEVICE_CMYK&&nt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),nt.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&nt.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ht="",tt=0,lt=C.transparency.length;tt<lt;tt++)ht+=C.transparency[tt]+" "+C.transparency[tt]+" ";nt.push({key:"Mask",value:"["+ht+"]"})}C.sMask!==void 0&&nt.push({key:"SMask",value:C.objectId+1+" 0 R"});var dt=C.filter!==void 0?["/"+C.filter]:void 0;if(B({data:C.data,additionalKeyValues:nt,alreadyAppliedFilters:dt,objectId:C.objectId}),q("endobj"),"sMask"in C&&C.sMask!==void 0){var Lt="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,M={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Lt,data:C.sMask};"filter"in C&&(M.filter=C.filter),L.call(this,M)}if(C.colorSpace===A.INDEXED){var O=this.internal.newObject();B({data:j(new Uint8Array(C.palette)),objectId:O}),q("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var C in L)i.call(this,L[C])},o=function(){var L,C=this.internal.collections.addImage_images,q=this.internal.write;for(var B in C)q("/I"+(L=C[B]).index,L.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var L=this.internal.collections.addImage_images;return a.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(L){return typeof e["process"+L.toUpperCase()]=="function"},p=function(L){return Se(L)==="object"&&L.nodeType===1},b=function(L,C){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var q=""+L.getAttribute("src");if(q.indexOf("data:image/")===0)return ia(unescape(q).split("base64,").pop());var B=e.loadFile(q,!0);if(B!==void 0)return B}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var at;switch(C){case"PNG":at="image/png";break;case"WEBP":at="image/webp";break;case"JPEG":case"JPG":default:at="image/jpeg"}return ia(L.toDataURL(at,1).split("base64,").pop())}},g=function(L){var C=this.internal.collections.addImage_images;if(C){for(var q in C)if(L===C[q].alias)return C[q]}},x=function(L,C,q){return L||C||(L=-96,C=-96),L<0&&(L=-1*q.width*72/L/this.internal.scaleFactor),C<0&&(C=-1*q.height*72/C/this.internal.scaleFactor),L===0&&(L=C*q.width/q.height),C===0&&(C=L*q.height/q.width),[L,C]},w=function(L,C,q,B,at,nt){var ht=x.call(this,q,B,at),tt=this.internal.getCoordinateString,lt=this.internal.getVerticalCoordinateString,dt=l.call(this);if(q=ht[0],B=ht[1],dt[at.index]=at,nt){nt*=Math.PI/180;var Lt=Math.cos(nt),M=Math.sin(nt),O=function(G){return G.toFixed(4)},z=[O(Lt),O(M),O(-1*M),O(Lt),0,0,"cm"]}this.internal.write("q"),nt?(this.internal.write([1,"0","0",1,tt(L),lt(C+B),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([tt(q),"0","0",tt(B),"0","0","cm"].join(" "))):this.internal.write([tt(q),"0","0",tt(B),tt(L),lt(C+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+at.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(L){var C,q,B=0;if(typeof L=="string")for(q=L.length,C=0;C<q;C++)B=(B<<5)-B+L.charCodeAt(C),B|=0;else if(Z(L))for(q=L.byteLength/2,C=0;C<q;C++)B=(B<<5)-B+L[C],B|=0;return B},I=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var C=!0;return L.length===0&&(C=!1),L.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(C=!1),C},U=e.__addimage__.extractImageFromDataUrl=function(L){var C=(L=L||"").split("base64,"),q=null;if(C.length===2){var B=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(B)&&(q={mimeType:B[1],charset:B[2],data:C[1]})}return q},D=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(L){return D()&&L instanceof ArrayBuffer};var Z=e.__addimage__.isArrayBufferView=function(L){return D()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},W=e.__addimage__.binaryStringToUint8Array=function(L){for(var C=L.length,q=new Uint8Array(C),B=0;B<C;B++)q[B]=L.charCodeAt(B);return q},j=e.__addimage__.arrayBufferToBinaryString=function(L){for(var C="",q=Z(L)?L:new Uint8Array(L),B=0;B<q.length;B+=8192)C+=String.fromCharCode.apply(null,q.subarray(B,B+8192));return C};e.addImage=function(){var L,C,q,B,at,nt,ht,tt,lt;if(typeof arguments[1]=="number"?(C=t,q=arguments[1],B=arguments[2],at=arguments[3],nt=arguments[4],ht=arguments[5],tt=arguments[6],lt=arguments[7]):(C=arguments[1],q=arguments[2],B=arguments[3],at=arguments[4],nt=arguments[5],ht=arguments[6],tt=arguments[7],lt=arguments[8]),Se(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var dt=L;L=dt.imageData,C=dt.format||C||t,q=dt.x||q||0,B=dt.y||B||0,at=dt.w||dt.width||at,nt=dt.h||dt.height||nt,ht=dt.alias||ht,tt=dt.compression||tt,lt=dt.rotation||dt.angle||lt}var Lt=this.internal.getFilters();if(tt===void 0&&Lt.indexOf("FlateEncode")!==-1&&(tt="SLOW"),isNaN(q)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=X.call(this,L,C,ht,tt);return w.call(this,q,B,at,nt,M,lt),this};var X=function(L,C,q,B){var at,nt,ht;if(typeof L=="string"&&r(L)===t){L=unescape(L);var tt=rt(L,!1);(tt!==""||(tt=e.loadFile(L,!0))!==void 0)&&(L=tt)}if(p(L)&&(L=b(L,C)),C=r(L,C),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ht=q)==null||ht.length===0)&&(q=function(lt){return typeof lt=="string"||Z(lt)?k(lt):Z(lt.data)?k(lt.data):null}(L)),(at=g.call(this,q))||(D()&&(L instanceof Uint8Array||C==="RGBA"||(nt=L,L=W(L))),at=this["process"+C.toUpperCase()](L,c.call(this),q,function(lt){return lt&&typeof lt=="string"&&(lt=lt.toUpperCase()),lt in e.image_compression?lt:y.NONE}(B),nt)),!at)throw new Error("An unknown error occurred whilst processing the image.");return at},rt=e.__addimage__.convertBase64ToBinaryString=function(L,C){var q;C=typeof C!="boolean"||C;var B,at="";if(typeof L=="string"){B=(q=U(L))!==null?q.data:L;try{at=ia(B)}catch(nt){if(C)throw I(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+nt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return at};e.getImageProperties=function(L){var C,q,B="";if(p(L)&&(L=b(L)),typeof L=="string"&&r(L)===t&&((B=rt(L,!1))===""&&(B=e.loadFile(L)||""),L=B),q=r(L),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!D()||L instanceof Uint8Array||(L=W(L)),!(C=this["process"+q.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=q,C}})(Ht.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,f=!1,p=0;p<c.length&&!f;p++)switch((r=c[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<c.length;b++){r=c[b];var g=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(w.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(y(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+g(y(k))+") >>",w.content=s;var I=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+I,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(w.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(x(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Z=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(c*f)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ht.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=e.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&i.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&t[w.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(w){var A=0,y=n,k="",I=0;for(A=0;A<w.length;A+=1)y[w.charCodeAt(A)]!==void 0?(I++,typeof(y=y[w.charCodeAt(A)])=="number"&&(k+=String.fromCharCode(y),y=n,I=0),A===w.length-1&&(y=n,k+=w.charAt(A-(I-1)),A-=I-1,I=0)):(y=n,k+=w.charAt(A-I),A-=I,I=0);return k};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(w,A,y){return o(w)?s(w)===!1?-1:!c(w)||!o(A)&&!o(y)||!o(y)&&a(A)||a(w)&&!o(A)||a(w)&&l(A)||a(w)&&a(A)?0:f(w)&&o(A)&&!a(A)&&o(y)&&c(y)?3:a(w)||!o(y)?1:2:-1},g=function(w){var A=0,y=0,k=0,I="",U="",D="",Z=(w=w||"").split("\\s+"),W=[];for(A=0;A<Z.length;A+=1){for(W.push(""),y=0;y<Z[A].length;y+=1)I=Z[A][y],U=Z[A][y-1],D=Z[A][y+1],o(I)?(k=b(I,U,D),W[A]+=k!==-1?String.fromCharCode(t[I.charCodeAt(0)][k]):I):W[A]+=I;W[A]=p(W[A])}return W.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var w,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(A)){var k=0;for(y=[],k=0;k<A.length;k+=1)Array.isArray(A[k])?y.push([g(A[k][0]),A[k][1],A[k][2]]):y.push([g(A[k])]);w=y}else w=g(A);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",x])}(Ht.API),Ht.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ht.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(w){b=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(w){x=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),b=c.scaleFactor||this.internal.scaleFactor,g=0,x=0,w=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,U){return I.concat(A.splitTextToSize(U,y))},[])):l=Array.isArray(l)?l:[l];for(var k=0;k<l.length;k++)g<(w=this.getStringUnitWidth(l[k],{font:p})*f)&&(g=w);return g!==0&&(x=l.length),{w:g/=b,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,g&&b&&(this.printHeaderRow(l.lineNumber,!0),l.y+=b[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,f,p,b){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,x,w,A,y=[],k=[],I=[],U={},D={},Z=[],W=[],j=(b=b||{}).autoSize||!1,X=b.printHeaders!==!1,rt=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,L=b.margins||Object.assign({width:this.getPageWidth()},t),C=typeof b.padding=="number"?b.padding:3,q=b.headerBackgroundColor||"#c8c8c8",B=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=X,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=rt,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=B,this.setFontSize(rt),p==null)k=y=Object.keys(f[0]),I=y.map(function(){return"left"});else if(Array.isArray(p)&&Se(p[0])==="object")for(y=p.map(function(dt){return dt.name}),k=p.map(function(dt){return dt.prompt||dt.name||""}),I=p.map(function(dt){return dt.align||"left"}),g=0;g<p.length;g+=1)D[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(k=y=p,I=y.map(function(){return"left"}));if(j||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<y.length;g+=1){for(U[A=y[g]]=f.map(function(dt){return dt[A]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(k[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=U[A],this.setFont(void 0,"normal"),w=0;w<x.length;w+=1)Z.push(this.getTextDimensions(x[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[A]=Math.max.apply(null,Z)+C+C,Z=[]}if(X){var at={};for(g=0;g<y.length;g+=1)at[y[g]]={},at[y[g]].text=k[g],at[y[g]].align=I[g];var nt=a.call(this,at,D);W=y.map(function(dt){return new s(l,c,D[dt],nt,at[dt].text,void 0,at[dt].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var ht=p.reduce(function(dt,Lt){return dt[Lt.name]=Lt.align,dt},{});for(g=0;g<f.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:f[g]},this);var tt=a.call(this,f[g],D);for(w=0;w<y.length;w+=1){var lt=f[g][y[w]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:w,data:lt},this),o.call(this,new s(l,c,D[y[w]],tt,lt,g+2,ht[y[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(l).map(function(g){var x=l[g];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,c[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/b+f+f},this).reduce(function(g,x){return Math.max(g,x)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),n=!1}}(Ht.API);var lp={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},up=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vh=ap(up),cp=[100,200,300,400,500,600,700,800,900],G3=ap(cp);function Yh(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return lp[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof Vh[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function hp(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var V3={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fp={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dp(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Y3(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},V3,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=Yh(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+dp(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var f=Vh[l],p=f<=Vh.normal?-1:1,b=hp(c,up,f,p);if(!b)throw new Error("Could not find a matching font-stretch value for "+l);return b}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var f=lp[l],p=0;p<f.length;++p)if(c[f[p]])return c[f[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var f=G3[l],p=hp(c,cp,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+dp(s)+"'.");return o}function pp(e){return e.trimLeft()}function $3(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function X3(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Dl,gp,mp,$h=["times"];(function(e){var t,n,r,i,s,o,a,l,c,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=M;Object.defineProperty(this,"pdf",{get:function(){return O}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(gt){z=!!gt}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(gt){G=!!gt}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(gt){isNaN(gt)||(K=gt)}});var it=0;Object.defineProperty(this,"posY",{get:function(){return it},set:function(gt){isNaN(gt)||(it=gt)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(gt){var H;typeof gt=="number"?H=[gt,gt,gt,gt]:((H=new Array(4))[0]=gt[0],H[1]=gt.length>=2?gt[1]:H[0],H[2]=gt.length>=3?gt[2]:H[0],H[3]=gt.length>=4?gt[3]:H[1]),c.margin=H}});var ut=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ut},set:function(gt){ut=gt}});var ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return ct},set:function(gt){ct=gt}});var kt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return kt},set:function(gt){kt=gt}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(gt){gt instanceof f&&(c=gt)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(gt){c.path=gt}});var At=[];Object.defineProperty(this,"ctxStack",{get:function(){return At},set:function(gt){At=gt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(gt){var H;H=b(gt),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(gt){var H=b(gt);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(gt){["butt","round","square"].indexOf(gt)!==-1&&(this.ctx.lineCap=gt,this.pdf.setLineCap(gt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(gt){isNaN(gt)||(this.ctx.lineWidth=gt,this.pdf.setLineWidth(gt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(gt){["bevel","round","miter"].indexOf(gt)!==-1&&(this.ctx.lineJoin=gt,this.pdf.setLineJoin(gt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(gt){isNaN(gt)||(this.ctx.miterLimit=gt,this.pdf.setMiterLimit(gt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(gt){this.ctx.textBaseline=gt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(gt){["right","end","center","left","start"].indexOf(gt)!==-1&&(this.ctx.textAlign=gt)}});var It=null;function Ct(gt,H){if(It===null){var ee=function(Bt){var xt=[];return Object.keys(Bt).forEach(function(_t){Bt[_t].forEach(function(Tt){var Et=null;switch(Tt){case"bold":Et={family:_t,weight:"bold"};break;case"italic":Et={family:_t,style:"italic"};break;case"bolditalic":Et={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:_t}}Et!==null&&(Et.ref={name:_t,style:Tt},xt.push(Et))})}),xt}(gt.getFontList());It=function(Bt){for(var xt={},_t=0;_t<Bt.length;++_t){var Tt=Yh(Bt[_t]),Et=Tt.family,qt=Tt.stretch,Zt=Tt.style,se=Tt.weight;xt[Et]=xt[Et]||{},xt[Et][qt]=xt[Et][qt]||{},xt[Et][qt][Zt]=xt[Et][qt][Zt]||{},xt[Et][qt][Zt][se]=Tt}return xt}(ee.concat(H))}return It}var Yt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yt},set:function(gt){It=null,Yt=gt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(gt){var H;if(this.ctx.font=gt,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(gt))!==null){var ee=H[1],Bt=(H[2],H[3]),xt=H[4],_t=(H[5],H[6]),Tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(Tt==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:Tt==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var Et=function($t){var le,jt,_n=[],me=$t.trim();if(me==="")return $h;if(me in fp)return[fp[me]];for(;me!=="";){switch(jt=null,le=(me=pp(me)).charAt(0)){case'"':case"'":jt=$3(me.substring(1),le);break;default:jt=X3(me)}if(jt===null||(_n.push(jt[0]),(me=pp(jt[1]))!==""&&me.charAt(0)!==","))return $h;me=me.replace(/^,/,"")}return _n}(_t);if(this.fontFaces){var qt=Y3(Ct(this.pdf,this.fontFaces),Et.map(function($t){return{family:$t,stretch:"normal",weight:Bt,style:ee}}));this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var Zt="";(Bt==="bold"||parseInt(Bt,10)>=700||ee==="bold")&&(Zt="bold"),ee==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var se="",oe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pe=0;pe<Et.length;pe++){if(this.pdf.internal.getFont(Et[pe],Zt,{noFallback:!0,disableWarning:!0})!==void 0){se=Et[pe];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(Et[pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)se=Et[pe],Zt="bold";else if(this.pdf.internal.getFont(Et[pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){se=Et[pe],Zt="normal";break}}if(se===""){for(var Le=0;Le<Et.length;Le++)if(oe[Et[Le]]){se=oe[Et[Le]];break}}se=se===""?"Times":se,this.pdf.setFont(se,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(gt){this.ctx.globalCompositeOperation=gt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(gt){this.ctx.globalAlpha=gt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(gt){this.ctx.lineDashOffset=gt,Lt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(gt){this.ctx.lineDash=gt,Lt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(gt){this.ctx.ignoreClearRect=!!gt}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){U.call(this,"fill",!1)},p.prototype.stroke=function(){U.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,O){if(isNaN(M)||isNaN(O))throw Me.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(M,O));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(M,O)},p.prototype.closePath=function(){var M=new o(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&Se(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){M=new o(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},p.prototype.lineTo=function(M,O){if(isNaN(M)||isNaN(O))throw Me.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(M,O));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,O,z,G){if(isNaN(z)||isNaN(G)||isNaN(M)||isNaN(O))throw Me.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new o(z,G)),it=this.ctx.transform.applyToPoint(new o(M,O));this.path.push({type:"qct",x1:it.x,y1:it.y,x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},p.prototype.bezierCurveTo=function(M,O,z,G,K,it){if(isNaN(K)||isNaN(it)||isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G))throw Me.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ut=this.ctx.transform.applyToPoint(new o(K,it)),ct=this.ctx.transform.applyToPoint(new o(M,O)),kt=this.ctx.transform.applyToPoint(new o(z,G));this.path.push({type:"bct",x1:ct.x,y1:ct.y,x2:kt.x,y2:kt.y,x:ut.x,y:ut.y}),this.ctx.lastPoint=new o(ut.x,ut.y)},p.prototype.arc=function(M,O,z,G,K,it){if(isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G)||isNaN(K))throw Me.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(it=!!it,!this.ctx.transform.isIdentity){var ut=this.ctx.transform.applyToPoint(new o(M,O));M=ut.x,O=ut.y;var ct=this.ctx.transform.applyToPoint(new o(0,z)),kt=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ct.x-kt.x,2)+Math.pow(ct.y-kt.y,2))}Math.abs(K-G)>=2*Math.PI&&(G=0,K=2*Math.PI),this.path.push({type:"arc",x:M,y:O,radius:z,startAngle:G,endAngle:K,counterclockwise:it})},p.prototype.arcTo=function(M,O,z,G,K){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,O,z,G){if(isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G))throw Me.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,O),this.lineTo(M+z,O),this.lineTo(M+z,O+G),this.lineTo(M,O+G),this.lineTo(M,O),this.lineTo(M+z,O),this.lineTo(M,O)},p.prototype.fillRect=function(M,O,z,G){if(isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G))throw Me.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,O,z,G),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},p.prototype.strokeRect=function(M,O,z,G){if(isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G))throw Me.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(M,O,z,G),this.stroke())},p.prototype.clearRect=function(M,O,z,G){if(isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G))throw Me.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,O,z,G))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(O),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(M){var O,z,G,K;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))O=0,z=0,G=0,K=0;else{var it=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(it!==null)O=parseInt(it[1]),z=parseInt(it[2]),G=parseInt(it[3]),K=1;else if((it=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)O=parseInt(it[1]),z=parseInt(it[2]),G=parseInt(it[3]),K=parseFloat(it[4]);else{if(K=1,typeof M=="string"&&M.charAt(0)!=="#"){var ut=new K1(M);M=ut.ok?ut.toHex():"#000000"}M.length===4?(O=M.substring(1,2),O+=O,z=M.substring(2,3),z+=z,G=M.substring(3,4),G+=G):(O=M.substring(1,3),z=M.substring(3,5),G=M.substring(5,7)),O=parseInt(O,16),z=parseInt(z,16),G=parseInt(G,16)}}return{r:O,g:z,b:G,a:K,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,O,z,G){if(isNaN(O)||isNaN(z)||typeof M!="string")throw Me.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!g.call(this)){var K=tt(this.ctx.transform.rotation),it=this.ctx.transform.scaleX;C.call(this,{text:M,x:O,y:z,scale:it,angle:K,align:this.textAlign,maxWidth:G})}},p.prototype.strokeText=function(M,O,z,G){if(isNaN(O)||isNaN(z)||typeof M!="string")throw Me.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){G=isNaN(G)?void 0:G;var K=tt(this.ctx.transform.rotation),it=this.ctx.transform.scaleX;C.call(this,{text:M,x:O,y:z,scale:it,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:G})}},p.prototype.measureText=function(M){if(typeof M!="string")throw Me.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,z=this.pdf.internal.scaleFactor,G=O.internal.getFontSize(),K=O.getStringUnitWidth(M)*G/O.internal.scaleFactor,it=function(ut){var ct=(ut=ut||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ct}}),this};return new it({width:K*=Math.round(96*z/72*1e4)/1e4})},p.prototype.scale=function(M,O){if(isNaN(M)||isNaN(O))throw Me.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(M,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.rotate=function(M){if(isNaN(M))throw Me.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},p.prototype.translate=function(M,O){if(isNaN(M)||isNaN(O))throw Me.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,M,O);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.transform=function(M,O,z,G,K,it){if(isNaN(M)||isNaN(O)||isNaN(z)||isNaN(G)||isNaN(K)||isNaN(it))throw Me.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ut=new l(M,O,z,G,K,it);this.ctx.transform=this.ctx.transform.multiply(ut)},p.prototype.setTransform=function(M,O,z,G,K,it){M=isNaN(M)?1:M,O=isNaN(O)?0:O,z=isNaN(z)?0:z,G=isNaN(G)?1:G,K=isNaN(K)?0:K,it=isNaN(it)?0:it,this.ctx.transform=new l(M,O,z,G,K,it)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,O,z,G,K,it,ut,ct,kt){var At=this.pdf.getImageProperties(M),It=1,Ct=1,Yt=1,gt=1;G!==void 0&&ct!==void 0&&(Yt=ct/G,gt=kt/K,It=At.width/G*ct/G,Ct=At.height/K*kt/K),it===void 0&&(it=O,ut=z,O=0,z=0),G!==void 0&&ct===void 0&&(ct=G,kt=K),G===void 0&&ct===void 0&&(ct=At.width,kt=At.height);for(var H,ee=this.ctx.transform.decompose(),Bt=tt(ee.rotate.shx),xt=new l,_t=(xt=(xt=(xt=xt.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale)).applyToRectangle(new a(it-O*Yt,ut-z*gt,G*It,K*Ct)),Tt=A.call(this,_t),Et=[],qt=0;qt<Tt.length;qt+=1)Et.indexOf(Tt[qt])===-1&&Et.push(Tt[qt]);if(I(Et),this.autoPaging)for(var Zt=Et[0],se=Et[Et.length-1],oe=Zt;oe<se+1;oe++){this.pdf.setPage(oe);var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=oe===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=oe===1?0:$t+(oe-2)*le;if(this.ctx.clip_path.length!==0){var _n=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(H,this.posX+this.margin[3],-jt+Le+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=_n}var me=JSON.parse(JSON.stringify(_t));me=k([me],this.posX+this.margin[3],-jt+Le+this.ctx.prevPageLastElemOffset)[0];var vr=(oe>Zt||oe<se)&&w.call(this);vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,le,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",me.x,me.y,me.w,me.h,null,null,Bt),vr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Bt)};var A=function(M,O,z){var G=[];O=O||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":G.push(Math.floor((M.y+K)/z)+1);break;case"arc":G.push(Math.floor((M.y+K-M.radius)/z)+1),G.push(Math.floor((M.y+K+M.radius)/z)+1);break;case"qct":var it=lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);G.push(Math.floor((it.y+K)/z)+1),G.push(Math.floor((it.y+it.h+K)/z)+1);break;case"bct":var ut=dt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);G.push(Math.floor((ut.y+K)/z)+1),G.push(Math.floor((ut.y+ut.h+K)/z)+1);break;case"rect":G.push(Math.floor((M.y+K)/z)+1),G.push(Math.floor((M.y+M.h+K)/z)+1)}for(var ct=0;ct<G.length;ct+=1)for(;this.pdf.internal.getNumberOfPages()<G[ct];)y.call(this);return G},y=function(){var M=this.fillStyle,O=this.strokeStyle,z=this.font,G=this.lineCap,K=this.lineWidth,it=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=O,this.font=z,this.lineCap=G,this.lineWidth=K,this.lineJoin=it},k=function(M,O,z){for(var G=0;G<M.length;G++)switch(M[G].type){case"bct":M[G].x2+=O,M[G].y2+=z;case"qct":M[G].x1+=O,M[G].y1+=z;case"mt":case"lt":case"arc":default:M[G].x+=O,M[G].y+=z}return M},I=function(M){return M.sort(function(O,z){return O-z})},U=function(M,O){for(var z,G,K=this.fillStyle,it=this.strokeStyle,ut=this.lineCap,ct=this.lineWidth,kt=Math.abs(ct*this.ctx.transform.scaleX),At=this.lineJoin,It=JSON.parse(JSON.stringify(this.path)),Ct=JSON.parse(JSON.stringify(this.path)),Yt=[],gt=0;gt<Ct.length;gt++)if(Ct[gt].x!==void 0)for(var H=A.call(this,Ct[gt]),ee=0;ee<H.length;ee+=1)Yt.indexOf(H[ee])===-1&&Yt.push(H[ee]);for(var Bt=0;Bt<Yt.length;Bt++)for(;this.pdf.internal.getNumberOfPages()<Yt[Bt];)y.call(this);if(I(Yt),this.autoPaging)for(var xt=Yt[0],_t=Yt[Yt.length-1],Tt=xt;Tt<_t+1;Tt++){this.pdf.setPage(Tt),this.fillStyle=K,this.strokeStyle=it,this.lineCap=ut,this.lineWidth=kt,this.lineJoin=At;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Tt===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=Tt===1?0:Zt+(Tt-2)*se;if(this.ctx.clip_path.length!==0){var pe=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(z,this.posX+this.margin[3],-oe+qt+this.ctx.prevPageLastElemOffset),D.call(this,M,!0),this.path=pe}if(G=JSON.parse(JSON.stringify(It)),this.path=k(G,this.posX+this.margin[3],-oe+qt+this.ctx.prevPageLastElemOffset),O===!1||Tt===0){var Le=(Tt>xt||Tt<_t)&&w.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,se,null).clip().discardPath()),D.call(this,M,O),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=ct}else this.lineWidth=kt,D.call(this,M,O),this.lineWidth=ct;this.path=It},D=function(M,O){if((M!=="stroke"||O||!x.call(this))&&(M==="stroke"||O||!g.call(this))){for(var z,G,K=[],it=this.path,ut=0;ut<it.length;ut++){var ct=it[ut];switch(ct.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:ct,deltas:[],abs:[]});break;case"lt":var kt=K.length;if(it[ut-1]&&!isNaN(it[ut-1].x)&&(z=[ct.x-it[ut-1].x,ct.y-it[ut-1].y],kt>0)){for(;kt>=0;kt--)if(K[kt-1].close!==!0&&K[kt-1].begin!==!0){K[kt-1].deltas.push(z),K[kt-1].abs.push(ct);break}}break;case"bct":z=[ct.x1-it[ut-1].x,ct.y1-it[ut-1].y,ct.x2-it[ut-1].x,ct.y2-it[ut-1].y,ct.x-it[ut-1].x,ct.y-it[ut-1].y],K[K.length-1].deltas.push(z);break;case"qct":var At=it[ut-1].x+2/3*(ct.x1-it[ut-1].x),It=it[ut-1].y+2/3*(ct.y1-it[ut-1].y),Ct=ct.x+2/3*(ct.x1-ct.x),Yt=ct.y+2/3*(ct.y1-ct.y),gt=ct.x,H=ct.y;z=[At-it[ut-1].x,It-it[ut-1].y,Ct-it[ut-1].x,Yt-it[ut-1].y,gt-it[ut-1].x,H-it[ut-1].y],K[K.length-1].deltas.push(z);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(ct)}}G=O?null:M==="stroke"?"stroke":"fill";for(var ee=!1,Bt=0;Bt<K.length;Bt++)if(K[Bt].arc)for(var xt=K[Bt].abs,_t=0;_t<xt.length;_t++){var Tt=xt[_t];Tt.type==="arc"?j.call(this,Tt.x,Tt.y,Tt.radius,Tt.startAngle,Tt.endAngle,Tt.counterclockwise,void 0,O,!ee):q.call(this,Tt.x,Tt.y),ee=!0}else if(K[Bt].close===!0)this.pdf.internal.out("h"),ee=!1;else if(K[Bt].begin!==!0){var Et=K[Bt].start.x,qt=K[Bt].start.y;B.call(this,K[Bt].deltas,Et,qt),ee=!0}G&&X.call(this,G),O&&rt.call(this)}},Z=function(M){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-z;case"top":return M+O-z;case"hanging":return M+O-2*z;case"middle":return M+O/2-z;case"ideographic":return M;case"alphabetic":default:return M}},W=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(O,z){this.colorStops.push([O,z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(M,O,z,G,K,it,ut,ct,kt){for(var At=nt.call(this,z,G,K,it),It=0;It<At.length;It++){var Ct=At[It];It===0&&(kt?L.call(this,Ct.x1+M,Ct.y1+O):q.call(this,Ct.x1+M,Ct.y1+O)),at.call(this,M,O,Ct.x2,Ct.y2,Ct.x3,Ct.y3,Ct.x4,Ct.y4)}ct?rt.call(this):X.call(this,ut)},X=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},rt=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(M,O){this.pdf.internal.out(n(M)+" "+r(O)+" m")},C=function(M){var O;switch(M.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var z=this.pdf.getTextDimensions(M.text),G=Z.call(this,M.y),K=W.call(this,G)-z.h,it=this.ctx.transform.applyToPoint(new o(M.x,G)),ut=this.ctx.transform.decompose(),ct=new l;ct=(ct=(ct=ct.multiply(ut.translate)).multiply(ut.skew)).multiply(ut.scale);for(var kt,At,It,Ct=this.ctx.transform.applyToRectangle(new a(M.x,G,z.w,z.h)),Yt=ct.applyToRectangle(new a(M.x,K,z.w,z.h)),gt=A.call(this,Yt),H=[],ee=0;ee<gt.length;ee+=1)H.indexOf(gt[ee])===-1&&H.push(gt[ee]);if(I(H),this.autoPaging)for(var Bt=H[0],xt=H[H.length-1],_t=Bt;_t<xt+1;_t++){this.pdf.setPage(_t);var Tt=_t===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[2],Zt=qt-this.margin[0],se=this.pdf.internal.pageSize.width-this.margin[1],oe=se-this.margin[3],pe=_t===1?0:Et+(_t-2)*Zt;if(this.ctx.clip_path.length!==0){var Le=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(kt,this.posX+this.margin[3],-1*pe+Tt),D.call(this,"fill",!0),this.path=Le}var $t=k([JSON.parse(JSON.stringify(Yt))],this.posX+this.margin[3],-pe+Tt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(At=this.pdf.internal.getFontSize(),this.pdf.setFontSize(At*M.scale),It=this.lineWidth,this.lineWidth=It*M.scale);var le=this.autoPaging!=="text";if(le||$t.y+$t.h<=qt){if(le||$t.y>=Tt&&$t.x<=se){var jt=le?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||se-$t.x)[0],_n=k([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-pe+Tt+this.ctx.prevPageLastElemOffset)[0],me=le&&(_t>Bt||_t<xt)&&w.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,Zt,null).clip().discardPath()),this.pdf.text(jt,_n.x,_n.y,{angle:M.angle,align:O,renderingMode:M.renderingMode}),me&&this.pdf.restoreGraphicsState()}}else $t.y<qt&&(this.ctx.prevPageLastElemOffset+=qt-$t.y);M.scale>=.01&&(this.pdf.setFontSize(At),this.lineWidth=It)}else M.scale>=.01&&(At=this.pdf.internal.getFontSize(),this.pdf.setFontSize(At*M.scale),It=this.lineWidth,this.lineWidth=It*M.scale),this.pdf.text(M.text,it.x+this.posX,it.y+this.posY,{angle:M.angle,align:O,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(At),this.lineWidth=It)},q=function(M,O,z,G){z=z||0,G=G||0,this.pdf.internal.out(n(M+z)+" "+r(O+G)+" l")},B=function(M,O,z){return this.pdf.lines(M,O,z,null,null)},at=function(M,O,z,G,K,it,ut,ct){this.pdf.internal.out([t(i(z+M)),t(s(G+O)),t(i(K+M)),t(s(it+O)),t(i(ut+M)),t(s(ct+O)),"c"].join(" "))},nt=function(M,O,z,G){for(var K=2*Math.PI,it=Math.PI/2;O>z;)O-=K;var ut=Math.abs(z-O);ut<K&&G&&(ut=K-ut);for(var ct=[],kt=G?-1:1,At=O;ut>1e-5;){var It=At+kt*Math.min(ut,it);ct.push(ht.call(this,M,At,It)),ut-=Math.abs(It-At),At=It}return ct},ht=function(M,O,z){var G=(z-O)/2,K=M*Math.cos(G),it=M*Math.sin(G),ut=K,ct=-it,kt=ut*ut+ct*ct,At=kt+ut*K+ct*it,It=4/3*(Math.sqrt(2*kt*At)-At)/(ut*it-ct*K),Ct=ut-It*ct,Yt=ct+It*ut,gt=Ct,H=-Yt,ee=G+O,Bt=Math.cos(ee),xt=Math.sin(ee);return{x1:M*Math.cos(O),y1:M*Math.sin(O),x2:Ct*Bt-Yt*xt,y2:Ct*xt+Yt*Bt,x3:gt*Bt-H*xt,y3:gt*xt+H*Bt,x4:M*Math.cos(z),y4:M*Math.sin(z)}},tt=function(M){return 180*M/Math.PI},lt=function(M,O,z,G,K,it){var ut=M+.5*(z-M),ct=O+.5*(G-O),kt=K+.5*(z-K),At=it+.5*(G-it),It=Math.min(M,K,ut,kt),Ct=Math.max(M,K,ut,kt),Yt=Math.min(O,it,ct,At),gt=Math.max(O,it,ct,At);return new a(It,Yt,Ct-It,gt-Yt)},dt=function(M,O,z,G,K,it,ut,ct){var kt,At,It,Ct,Yt,gt,H,ee,Bt,xt,_t,Tt,Et,qt,Zt=z-M,se=G-O,oe=K-z,pe=it-G,Le=ut-K,$t=ct-it;for(At=0;At<41;At++)Bt=(H=(It=M+(kt=At/40)*Zt)+kt*((Yt=z+kt*oe)-It))+kt*(Yt+kt*(K+kt*Le-Yt)-H),xt=(ee=(Ct=O+kt*se)+kt*((gt=G+kt*pe)-Ct))+kt*(gt+kt*(it+kt*$t-gt)-ee),At==0?(_t=Bt,Tt=xt,Et=Bt,qt=xt):(_t=Math.min(_t,Bt),Tt=Math.min(Tt,xt),Et=Math.max(Et,Bt),qt=Math.max(qt,xt));return new a(Math.round(_t),Math.round(Tt),Math.round(Et-_t),Math.round(qt-Tt))},Lt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,O,z=(M=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:O}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Ht.API),function(e){var t=function(s){var o,a,l,c,f,p,b,g,x,w;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(f=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(w=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)-(b=f%85))/85)%85,a.push(p+33,b+33,g+33,x+33,w+33)):a.push(122);return function(A,y){for(var k=y;k>0;k--)A.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,f,p=String,b="length",g=255,x="charCodeAt",w="slice",A="replace";for(s[w](-2),s=s[w](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],c=0,f=(s+=o="uuuuu"[w](s[b]%5||5))[b];f>c;c+=5)a=52200625*(s[x](c)-33)+614125*(s[x](c+1)-33)+7225*(s[x](c+2)-33)+85*(s[x](c+3)-33)+(s[x](c+4)-33),l.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(y,k){for(var I=k;I>0;I--)y.pop()}(l,o[b]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Oh(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ht.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,f){var p=new XMLHttpRequest,b=0,g=function(x){var w=x.length,A=[],y=String.fromCharCode;for(b=0;b<w;b+=1)A.push(y(255&x.charCodeAt(b)));return A.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),c&&p.status===200)return g(p.responseText)}(i,s,o)}catch{}return a}(t,n,r)},e.loadImageFile=e.loadFile}(Ht.API),function(e){function t(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):import("html2canvas")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):import("dompurify")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Se(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,f){for(var p=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),b=c.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||p.appendChild(l(b,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(p.width=c.width,p.height=c.height,p.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(p.value=c.value),p.addEventListener("load",function(){p.scrollTop=c.scrollTop,p.scrollLeft=c.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var b=0;b<c.length;++b){var g=c[b],x=g.src.find(function(w){return w.format==="truetype"});x&&l.addFont(x.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,f){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,c),p}).then(c,f).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=l.call(c,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ht.getPageSize=function(o,a,l){if(Se(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var g,x=0,w=0;if(b.hasOwnProperty(p))x=b[p][1]/f,w=b[p][0]/f;else try{x=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",w>x&&(g=w,w=x,x=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>w&&(g=w,w=x,x=g)}return{width:w,height:x,unit:a,k:f,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Yh):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Ht.API),Ht.API.addJS=function(e){return mp=e,this.internal.events.subscribe("postPutResources",function(){Dl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mp+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dl!==void 0&&gp!==void 0&&this.internal.out("/Names <</JavaScript "+Dl+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(s=0;s<c;s++){var p=n.internal.newObject();f.push(p);var b=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ht.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var b,g=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,w={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=g,t.indexOf(p.charCodeAt(A+1))!==-1){b=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),w={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:b,numcomponents:p.charCodeAt(A+9)};break}g=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return f}}(Ht.API);var Xs,Bl,bp,vp,yp,J3=function(){var e,t,n;function r(s){var o,a,l,c,f,p,b,g,x,w,A,y,k,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),x=(function(){var U,D;for(D=[],U=0;U<4;++U)D.push(String.fromCharCode(this.data[this.pos++]));return D}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,p.delay=1e3*f/c,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(k=0;0<=w?k<w:k>w;0<=w?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(A=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,A.slice(0,b)),this.text[g]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,b,g,x){var w,A,y,k,I,U,D,Z,W,j,X,rt,L,C,q,B,at,nt,ht,tt,lt,dt=Math.ceil((c.width-p)/g),Lt=Math.ceil((c.height-b)/x),M=c.width==dt&&c.height==Lt;for(C=o*dt,rt=M?a:new Uint8Array(C*Lt),U=s.length,L=0,A=0;L<Lt&&l<U;){switch(s[l++]){case 0:for(k=at=0;at<C;k=at+=1)rt[A++]=s[l++];break;case 1:for(k=nt=0;nt<C;k=nt+=1)w=s[l++],I=k<o?0:rt[A-o],rt[A++]=(w+I)%256;break;case 2:for(k=ht=0;ht<C;k=ht+=1)w=s[l++],y=(k-k%o)/o,q=L&&rt[(L-1)*C+y*o+k%o],rt[A++]=(q+w)%256;break;case 3:for(k=tt=0;tt<C;k=tt+=1)w=s[l++],y=(k-k%o)/o,I=k<o?0:rt[A-o],q=L&&rt[(L-1)*C+y*o+k%o],rt[A++]=(w+Math.floor((I+q)/2))%256;break;case 4:for(k=lt=0;lt<C;k=lt+=1)w=s[l++],y=(k-k%o)/o,I=k<o?0:rt[A-o],L===0?q=B=0:(q=rt[(L-1)*C+y*o+k%o],B=y&&rt[(L-1)*C+(y-1)*o+k%o]),D=I+q-B,Z=Math.abs(D-I),j=Math.abs(D-q),X=Math.abs(D-B),W=Z<=j&&Z<=X?I:j<=X?q:B,rt[A++]=(w+W)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var O=((b+L*x)*c.width+p)*o,z=L*C;for(k=0;k<dt;k+=1){for(var G=0;G<o;G+=1)a[O++]=rt[z++];O+=(g-1)*o}}L++}}return s=M3(s),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,f,p,b,g;for(a=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+a.length),l=0,s=0,o=p=0,b=a.length;p<b;o=p+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(g=f[s++])!=null?g:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,f,p,b,g,x,w,A,y;if(l=this.colors,w=null,a=this.hasAlphaChannel,this.palette.length&&(w=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),x=(c=s.data||s).length,p=w||o,f=b=0,l===1)for(;f<x;)g=w?4*o[f/4]:b,A=p[g++],c[f++]=A,c[f++]=A,c[f++]=A,c[f++]=a?p[g++]:255,b=g;else for(;f<x;)g=w?4*o[f/4]:b,c[f++]=p[g++],c[f++]=p[g++],c[f++]=p[g++],c[f++]=a?p[g++]:255,b=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Vt)==="[object Window]"){try{t=Vt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,f,p,b,g;if(this.animation){for(g=[],a=f=0,p=(b=this.animation.frames).length;f<p;a=++f)o=b[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,g.push(o.image=e(l));return g}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,f,p,b=this;return a=0,p=this.animation,c=p.numFrames,l=p.frames,f=p.numPlays,(o=function(){var g,x;if(g=a++%c,x=l[g],b.renderFrame(s,g),c>1&&a/c<f)return b.animation._timeout=setTimeout(o,x.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function K3(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,f=[],p=0,b=null,g=0,x=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];p=e[t++]|e[t++]<<8,b=e[t++],!(1&w)&&(b=null),g=w>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,U=e[t++],D=U>>6&1,Z=1<<(7&U)+1,W=a,j=l,X=!1;U>>7&&(X=!0,W=t,j=Z,t+=3*Z);var rt=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}f.push({x:A,y,width:k,height:I,has_local_palette:X,palette_offset:W,palette_size:j,data_offset:rt,data_length:t-rt,transparent_index:b,interlaced:!!D,delay:p,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(C){if(C<0||C>=f.length)throw new Error("Frame index out of range.");return f[C]},this.decodeAndBlitFrameBGRA=function(C,q){var B=this.frameInfo(C),at=B.width*B.height,nt=new Uint8Array(at);wp(e,B.data_offset,nt,at);var ht=B.palette_offset,tt=B.transparent_index;tt===null&&(tt=256);var lt=B.width,dt=n-lt,Lt=lt,M=4*(B.y*n+B.x),O=4*((B.y+B.height)*n+B.x),z=M,G=4*dt;B.interlaced===!0&&(G+=4*n*7);for(var K=8,it=0,ut=nt.length;it<ut;++it){var ct=nt[it];if(Lt===0&&(Lt=lt,(z+=G)>=O&&(G=4*dt+4*n*(K-1),z=M+(lt+dt)*(K<<1),K>>=1)),ct===tt)z+=4;else{var kt=e[ht+3*ct],At=e[ht+3*ct+1],It=e[ht+3*ct+2];q[z++]=It,q[z++]=At,q[z++]=kt,q[z++]=255}--Lt}},this.decodeAndBlitFrameRGBA=function(C,q){var B=this.frameInfo(C),at=B.width*B.height,nt=new Uint8Array(at);wp(e,B.data_offset,nt,at);var ht=B.palette_offset,tt=B.transparent_index;tt===null&&(tt=256);var lt=B.width,dt=n-lt,Lt=lt,M=4*(B.y*n+B.x),O=4*((B.y+B.height)*n+B.x),z=M,G=4*dt;B.interlaced===!0&&(G+=4*n*7);for(var K=8,it=0,ut=nt.length;it<ut;++it){var ct=nt[it];if(Lt===0&&(Lt=lt,(z+=G)>=O&&(G=4*dt+4*n*(K-1),z=M+(lt+dt)*(K<<1),K>>=1)),ct===tt)z+=4;else{var kt=e[ht+3*ct],At=e[ht+3*ct+1],It=e[ht+3*ct+2];q[z++]=kt,q[z++]=At,q[z++]=It,q[z++]=255}--Lt}}}function wp(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,f=0,p=0,b=0,g=e[t++],x=new Int32Array(4096),w=null;;){for(;f<16&&g!==0;)p|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<l)break;var A=p&c;if(p>>=l,f-=l,A!==s){if(A===o)break;for(var y=A<a?A:w,k=0,I=y;I>s;)I=x[I]>>8,++k;var U=I;if(b+k+(y!==A?1:0)>r)return void Me.log("Warning, gif stream longer than expected.");n[b++]=U;var D=b+=k;for(y!==A&&(n[b++]=U),I=y;k--;)I=x[I],n[--D]=255&I,I>>=8;w!==null&&a<4096&&(x[a++]=w<<8|U,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=A}else a=o+1,c=(1<<(l=i+1))-1,w=null}return b!==r&&Me.log("Warning, gif stream shorter than expected."),n}/**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.

    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:

    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */function Xh(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),p=new Array(65535),b=new Array(65535),g=new Array(64),x=new Array(64),w=[],A=0,y=7,k=new Array(64),I=new Array(64),U=new Array(64),D=new Array(256),Z=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],rt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],at=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function nt(M,O){for(var z=0,G=0,K=new Array,it=1;it<=16;it++){for(var ut=1;ut<=M[it];ut++)K[O[G]]=[],K[O[G]][0]=z,K[O[G]][1]=it,G++,z++;z*=2}return K}function ht(M){for(var O=M[0],z=M[1]-1;z>=0;)O&1<<z&&(A|=1<<y),z--,--y<0&&(A==255?(tt(255),tt(0)):tt(A),y=7,A=0)}function tt(M){w.push(M)}function lt(M){tt(M>>8&255),tt(255&M)}function dt(M,O,z,G,K){for(var it,ut=K[0],ct=K[240],kt=function(xt,_t){var Tt,Et,qt,Zt,se,oe,pe,Le,$t,le,jt=0;for($t=0;$t<8;++$t){Tt=xt[jt],Et=xt[jt+1],qt=xt[jt+2],Zt=xt[jt+3],se=xt[jt+4],oe=xt[jt+5],pe=xt[jt+6];var _n=Tt+(Le=xt[jt+7]),me=Tt-Le,vr=Et+pe,Ce=Et-pe,qe=qt+oe,Dr=qt-oe,we=Zt+se,us=Zt-se,We=_n+we,yr=_n-we,ri=vr+qe,Ge=vr-qe;xt[jt]=We+ri,xt[jt+4]=We-ri;var Qt=.707106781*(Ge+yr);xt[jt+2]=yr+Qt,xt[jt+6]=yr-Qt;var xe=.382683433*((We=us+Dr)-(Ge=Ce+me)),cs=.5411961*We+xe,yn=1.306562965*Ge+xe,Br=.707106781*(ri=Dr+Ce),qr=me+Br,Wt=me-Br;xt[jt+5]=Wt+cs,xt[jt+3]=Wt-cs,xt[jt+1]=qr+yn,xt[jt+7]=qr-yn,jt+=8}for(jt=0,$t=0;$t<8;++$t){Tt=xt[jt],Et=xt[jt+8],qt=xt[jt+16],Zt=xt[jt+24],se=xt[jt+32],oe=xt[jt+40],pe=xt[jt+48];var wr=Tt+(Le=xt[jt+56]),zr=Tt-Le,Bn=Et+pe,ln=Et-pe,nn=qt+oe,$n=qt-oe,to=Zt+se,ii=Zt-se,xr=wr+to,Ar=wr-to,Sr=Bn+nn,Ur=Bn-nn;xt[jt]=xr+Sr,xt[jt+32]=xr-Sr;var nr=.707106781*(Ur+Ar);xt[jt+16]=Ar+nr,xt[jt+48]=Ar-nr;var Hr=.382683433*((xr=ii+$n)-(Ur=ln+zr)),hs=.5411961*xr+Hr,eo=1.306562965*Ur+Hr,no=.707106781*(Sr=$n+ln),ro=zr+no,io=zr-no;xt[jt+40]=io+hs,xt[jt+24]=io-hs,xt[jt+8]=ro+eo,xt[jt+56]=ro-eo,jt++}for($t=0;$t<64;++$t)le=xt[$t]*_t[$t],g[$t]=le>0?le+.5|0:le-.5|0;return g}(M,O),At=0;At<64;++At)x[W[At]]=kt[At];var It=x[0]-z;z=x[0],It==0?ht(G[0]):(ht(G[b[it=32767+It]]),ht(p[it]));for(var Ct=63;Ct>0&&x[Ct]==0;)Ct--;if(Ct==0)return ht(ut),z;for(var Yt,gt=1;gt<=Ct;){for(var H=gt;x[gt]==0&&gt<=Ct;)++gt;var ee=gt-H;if(ee>=16){Yt=ee>>4;for(var Bt=1;Bt<=Yt;++Bt)ht(ct);ee&=15}it=32767+x[gt],ht(K[(ee<<4)+b[it]]),ht(p[it]),gt++}return Ct!=63&&ht(ut),z}function Lt(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(O){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var K=o((z[G]*O+50)/100);K=Math.min(Math.max(K,1),255),a[W[G]]=K}for(var it=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ut=0;ut<64;ut++){var ct=o((it[ut]*O+50)/100);ct=Math.min(Math.max(ct,1),255),l[W[ut]]=ct}for(var kt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],At=0,It=0;It<8;It++)for(var Ct=0;Ct<8;Ct++)c[At]=1/(a[W[At]]*kt[It]*kt[Ct]*8),f[At]=1/(l[W[At]]*kt[It]*kt[Ct]*8),At++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,O){O&&Lt(O),w=new Array,A=0,y=7,lt(65496),lt(65504),lt(16),tt(74),tt(70),tt(73),tt(70),tt(0),tt(1),tt(1),tt(0),lt(1),lt(1),tt(0),tt(0),function(){lt(65499),lt(132),tt(0);for(var Et=0;Et<64;Et++)tt(a[Et]);tt(1);for(var qt=0;qt<64;qt++)tt(l[qt])}(),function(Et,qt){lt(65472),lt(17),tt(8),lt(qt),lt(Et),tt(3),tt(1),tt(17),tt(0),tt(2),tt(17),tt(1),tt(3),tt(17),tt(1)}(M.width,M.height),function(){lt(65476),lt(418),tt(0);for(var Et=0;Et<16;Et++)tt(j[Et+1]);for(var qt=0;qt<=11;qt++)tt(X[qt]);tt(16);for(var Zt=0;Zt<16;Zt++)tt(rt[Zt+1]);for(var se=0;se<=161;se++)tt(L[se]);tt(1);for(var oe=0;oe<16;oe++)tt(C[oe+1]);for(var pe=0;pe<=11;pe++)tt(q[pe]);tt(17);for(var Le=0;Le<16;Le++)tt(B[Le+1]);for(var $t=0;$t<=161;$t++)tt(at[$t])}(),lt(65498),lt(12),tt(3),tt(1),tt(0),tt(2),tt(17),tt(3),tt(17),tt(0),tt(63),tt(0);var z=0,G=0,K=0;A=0,y=7,this.encode.displayName="_encode_";for(var it,ut,ct,kt,At,It,Ct,Yt,gt,H=M.data,ee=M.width,Bt=M.height,xt=4*ee,_t=0;_t<Bt;){for(it=0;it<xt;){for(At=xt*_t+it,Ct=-1,Yt=0,gt=0;gt<64;gt++)It=At+(Yt=gt>>3)*xt+(Ct=4*(7&gt)),_t+Yt>=Bt&&(It-=xt*(_t+1+Yt-Bt)),it+Ct>=xt&&(It-=it+Ct-xt+4),ut=H[It++],ct=H[It++],kt=H[It++],k[gt]=(Z[ut]+Z[ct+256>>0]+Z[kt+512>>0]>>16)-128,I[gt]=(Z[ut+768>>0]+Z[ct+1024>>0]+Z[kt+1280>>0]>>16)-128,U[gt]=(Z[ut+1280>>0]+Z[ct+1536>>0]+Z[kt+1792>>0]>>16)-128;z=dt(k,c,z,t,r),G=dt(I,f,G,n,i),K=dt(U,f,K,n,i),it+=32}_t+=8}if(y>=0){var Tt=[];Tt[1]=y+1,Tt[0]=(1<<y+1)-1,ht(Tt)}return lt(65497),new Uint8Array(w)},e=e||50,function(){for(var M=String.fromCharCode,O=0;O<256;O++)D[O]=M(O)}(),t=nt(j,X),n=nt(C,q),r=nt(rt,L),i=nt(B,at),function(){for(var M=1,O=2,z=1;z<=15;z++){for(var G=M;G<O;G++)b[32767+G]=z,p[32767+G]=[],p[32767+G][1]=z,p[32767+G][0]=G;for(var K=-(O-1);K<=-M;K++)b[32767+K]=z,p[32767+K]=[],p[32767+K][1]=z,p[32767+K][0]=O-1+K;M<<=1,O<<=1}}(),function(){for(var M=0;M<256;M++)Z[M]=19595*M,Z[M+256>>0]=38470*M,Z[M+512>>0]=7471*M+32768,Z[M+768>>0]=-11059*M,Z[M+1024>>0]=-21709*M,Z[M+1280>>0]=32768*M+8421375,Z[M+1536>>0]=-27439*M,Z[M+1792>>0]=-5329*M}(),Lt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gr(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xp(e){function t(j){if(!j)throw Error("assert :P")}function n(j,X,rt){for(var L=0;4>L;L++)if(j[X+L]!=rt.charCodeAt(L))return!0;return!1}function r(j,X,rt,L,C){for(var q=0;q<C;q++)j[X+q]=rt[L+q]}function i(j,X,rt,L){for(var C=0;C<L;C++)j[X+C]=rt}function s(j){return new Int32Array(j)}function o(j,X){for(var rt=[],L=0;L<j;L++)rt.push(new X);return rt}function a(j,X){var rt=[];return function L(C,q,B){for(var at=B[q],nt=0;nt<at&&(C.push(B.length>q+1?[]:new X),!(B.length<q+1));nt++)L(C[nt],q+1,B)}(rt,0,j),rt}var l=function(){var j=this;function X(u,h){for(var m=1<<h-1>>>0;u&m;)m>>>=1;return m?(u&m-1)+m:u}function rt(u,h,m,v,S){t(!(v%m));do u[h+(v-=m)]=S;while(0<v)}function L(u,h,m,v,S){if(t(2328>=S),512>=S)var _=s(512);else if((_=s(S))==null)return 0;return function(P,F,E,T,Y,st){var ot,Q,vt=F,ft=1<<E,$=s(16),J=s(16);for(t(Y!=0),t(T!=null),t(P!=null),t(0<E),Q=0;Q<Y;++Q){if(15<T[Q])return 0;++$[T[Q]]}if($[0]==Y)return 0;for(J[1]=0,ot=1;15>ot;++ot){if($[ot]>1<<ot)return 0;J[ot+1]=J[ot]+$[ot]}for(Q=0;Q<Y;++Q)ot=T[Q],0<T[Q]&&(st[J[ot]++]=Q);if(J[15]==1)return(T=new C).g=0,T.value=st[0],rt(P,vt,1,ft,T),ft;var mt,yt=-1,bt=ft-1,Rt=0,Mt=1,Ut=1,Ft=1<<E;for(Q=0,ot=1,Y=2;ot<=E;++ot,Y<<=1){if(Mt+=Ut<<=1,0>(Ut-=$[ot]))return 0;for(;0<$[ot];--$[ot])(T=new C).g=ot,T.value=st[Q++],rt(P,vt+Rt,Y,Ft,T),Rt=X(Rt,ot)}for(ot=E+1,Y=2;15>=ot;++ot,Y<<=1){if(Mt+=Ut<<=1,0>(Ut-=$[ot]))return 0;for(;0<$[ot];--$[ot]){if(T=new C,(Rt&bt)!=yt){for(vt+=Ft,mt=1<<(yt=ot)-E;15>yt&&!(0>=(mt-=$[yt]));)++yt,mt<<=1;ft+=Ft=1<<(mt=yt-E),P[F+(yt=Rt&bt)].g=mt+E,P[F+yt].value=vt-F-yt}T.g=ot-E,T.value=st[Q++],rt(P,vt+(Rt>>E),Y,Ft,T),Rt=X(Rt,ot)}}return Mt!=2*J[15]-1?0:ft}(u,h,m,v,S,_)}function C(){this.value=this.g=0}function q(){this.value=this.g=0}function B(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(wn,q)}function at(u,h,m,v){t(u!=null),t(h!=null),t(2147483648>v),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=m,u.Jd=h,u.Yc=m+v,u.Zc=4<=v?m+v-4+1:m,it(u)}function nt(u,h){for(var m=0;0<h--;)m|=ct(u,128)<<h;return m}function ht(u,h){var m=nt(u,h);return ut(u)?-m:m}function tt(u,h,m,v){var S,_=0;for(t(u!=null),t(h!=null),t(4294967288>v),u.Sb=v,u.Ra=0,u.u=0,u.h=0,4<v&&(v=4),S=0;S<v;++S)_+=h[m+S]<<8*S;u.Ra=_,u.bb=v,u.oa=h,u.pa=m}function lt(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<wo-8>>>0,++u.bb,u.u-=8;z(u)&&(u.h=1,u.u=0)}function dt(u,h){if(t(0<=h),!u.h&&h<=yo){var m=O(u)&vo[h];return u.u+=h,lt(u),m}return u.h=1,u.u=0}function Lt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(u){return u.Ra>>>(u.u&wo-1)>>>0}function z(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>wo}function G(u,h){u.u=h,u.h=z(u)}function K(u){u.u>=Fa&&(t(u.u>=Fa),lt(u))}function it(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ut(u){return nt(u,1)}function ct(u,h){var m=u.Ca;0>u.b&&it(u);var v=u.b,S=m*h>>>8,_=(u.I>>>v>S)+0;for(_?(m-=S,u.I-=S+1<<v>>>0):m=S+1,v=m,S=0;256<=v;)S+=8,v>>=8;return v=7^S+zn[v],u.b-=v,u.Ca=(m<<v)-1,_}function kt(u,h,m){u[h+0]=m>>24&255,u[h+1]=m>>16&255,u[h+2]=m>>8&255,u[h+3]=m>>0&255}function At(u,h){return u[h+0]<<0|u[h+1]<<8}function It(u,h){return At(u,h)|u[h+2]<<16}function Ct(u,h){return At(u,h)|At(u,h+2)<<16}function Yt(u,h){var m=1<<h;return t(u!=null),t(0<h),u.X=s(m),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function gt(u,h){t(u!=null),t(h!=null),t(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function H(){this.X=[],this.Xa=this.Mb=0}function ee(u,h,m,v){t(m!=null),t(v!=null);var S=m[0],_=v[0];return S==0&&(S=(u*_+h/2)/h),_==0&&(_=(h*S+u/2)/u),0>=S||0>=_?0:(m[0]=S,v[0]=_,1)}function Bt(u,h){return u+(1<<h)-1>>>h}function xt(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function _t(u,h){j[h]=function(m,v,S,_,P,F,E){var T;for(T=0;T<P;++T){var Y=j[u](F[E+T-1],S,_+T);F[E+T]=xt(m[v+T],Y)}}}function Tt(){this.ud=this.hd=this.jd=0}function Et(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function qt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Zt(u,h){return qt(u+(u-h+.5>>1))}function se(u,h,m){return Math.abs(h-m)-Math.abs(u-m)}function oe(u,h,m,v,S,_,P){for(v=_[P-1],m=0;m<S;++m)_[P+m]=v=xt(u[h+m],v)}function pe(u,h,m,v,S){var _;for(_=0;_<m;++_){var P=u[h+_],F=P>>8&255,E=16711935&(E=(E=16711935&P)+((F<<16)+F));v[S+_]=(4278255360&P)+E>>>0}}function Le(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function $t(u,h,m,v,S,_){var P;for(P=0;P<v;++P){var F=h[m+P],E=F>>>8,T=F,Y=255&(Y=(Y=F>>>16)+((u.jd<<24>>24)*(E<<24>>24)>>>5));T=255&(T=(T=T+((u.hd<<24>>24)*(E<<24>>24)>>>5))+((u.ud<<24>>24)*(Y<<24>>24)>>>5)),S[_+P]=(4278255360&F)+(Y<<16)+T}}function le(u,h,m,v,S){j[h]=function(_,P,F,E,T,Y,st,ot,Q){for(E=st;E<ot;++E)for(st=0;st<Q;++st)T[Y++]=S(F[v(_[P++])])},j[u]=function(_,P,F,E,T,Y,st){var ot=8>>_.b,Q=_.Ea,vt=_.K[0],ft=_.w;if(8>ot)for(_=(1<<_.b)-1,ft=(1<<ot)-1;P<F;++P){var $,J=0;for($=0;$<Q;++$)$&_||(J=v(E[T++])),Y[st++]=S(vt[J&ft]),J>>=ot}else j["VP8LMapColor"+m](E,T,vt,ft,Y,st,P,F,Q)}}function jt(u,h,m,v,S){for(m=h+m;h<m;){var _=u[h++];v[S++]=_>>16&255,v[S++]=_>>8&255,v[S++]=_>>0&255}}function _n(u,h,m,v,S){for(m=h+m;h<m;){var _=u[h++];v[S++]=_>>16&255,v[S++]=_>>8&255,v[S++]=_>>0&255,v[S++]=_>>24&255}}function me(u,h,m,v,S){for(m=h+m;h<m;){var _=(P=u[h++])>>16&240|P>>12&15,P=P>>0&240|P>>28&15;v[S++]=_,v[S++]=P}}function vr(u,h,m,v,S){for(m=h+m;h<m;){var _=(P=u[h++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;v[S++]=_,v[S++]=P}}function Ce(u,h,m,v,S){for(m=h+m;h<m;){var _=u[h++];v[S++]=_>>0&255,v[S++]=_>>8&255,v[S++]=_>>16&255}}function qe(u,h,m,v,S,_){if(_==0)for(m=h+m;h<m;)kt(v,((_=u[h++])[0]>>24|_[1]>>8&65280|_[2]<<8&16711680|_[3]<<24)>>>0),S+=32;else r(v,S,u,h,m)}function Dr(u,h){j[h][0]=j[u+"0"],j[h][1]=j[u+"1"],j[h][2]=j[u+"2"],j[h][3]=j[u+"3"],j[h][4]=j[u+"4"],j[h][5]=j[u+"5"],j[h][6]=j[u+"6"],j[h][7]=j[u+"7"],j[h][8]=j[u+"8"],j[h][9]=j[u+"9"],j[h][10]=j[u+"10"],j[h][11]=j[u+"11"],j[h][12]=j[u+"12"],j[h][13]=j[u+"13"],j[h][14]=j[u+"0"],j[h][15]=j[u+"0"]}function we(u){return u==zf||u==Uf||u==ku||u==Hf}function us(){this.eb=[],this.size=this.A=this.fb=0}function We(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new us,this.f.kb=new We,this.sd=null}function ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ge(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function xe(u,h){var m=u.T,v=h.ba.f.RGBA,S=v.eb,_=v.fb+u.ka*v.A,P=lr[h.ba.S],F=u.y,E=u.O,T=u.f,Y=u.N,st=u.ea,ot=u.W,Q=h.cc,vt=h.dc,ft=h.Mc,$=h.Nc,J=u.ka,mt=u.ka+u.T,yt=u.U,bt=yt+1>>1;for(J==0?P(F,E,null,null,T,Y,st,ot,T,Y,st,ot,S,_,null,null,yt):(P(h.ec,h.fc,F,E,Q,vt,ft,$,T,Y,st,ot,S,_-v.A,S,_,yt),++m);J+2<mt;J+=2)Q=T,vt=Y,ft=st,$=ot,Y+=u.Rc,ot+=u.Rc,_+=2*v.A,P(F,(E+=2*u.fa)-u.fa,F,E,Q,vt,ft,$,T,Y,st,ot,S,_-v.A,S,_,yt);return E+=u.fa,u.j+mt<u.o?(r(h.ec,h.fc,F,E,yt),r(h.cc,h.dc,T,Y,bt),r(h.Mc,h.Nc,st,ot,bt),m--):1&mt||P(F,E,null,null,T,Y,st,ot,T,Y,st,ot,S,_+v.A,null,null,yt),m}function cs(u,h,m){var v=u.F,S=[u.J];if(v!=null){var _=u.U,P=h.ba.S,F=P==Nu||P==ku;h=h.ba.f.RGBA;var E=[0],T=u.ka;E[0]=u.T,u.Kb&&(T==0?--E[0]:(--T,S[0]-=u.width),u.j+u.ka+u.T==u.o&&(E[0]=u.o-u.j-T));var Y=h.eb;T=h.fb+T*h.A,u=Oe(v,S[0],u.width,_,E,Y,T+(F?0:3),h.A),t(m==E),u&&we(P)&&or(Y,T,F,_,E,h.A)}return 0}function yn(u){var h=u.ma,m=h.ba.S,v=11>m,S=m==Au||m==Su||m==Nu||m==qf||m==12||we(m);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Pa(h.Oa,u,S?11:12))return 0;if(S&&we(m)&&wt(),u.da)alert("todo:use_scaling");else{if(v){if(h.Ib=Qt,u.Kb){if(m=u.U+1>>1,h.memory=s(u.U+2*m),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+m,h.Ib=xe,wt()}}else alert("todo:EmitYUV");S&&(h.Jb=cs,v&&et())}if(v&&!f2){for(u=0;256>u;++u)G4[u]=89858*(u-128)+_u>>Lu,$4[u]=-22014*(u-128)+_u,Y4[u]=-45773*(u-128),V4[u]=113618*(u-128)+_u>>Lu;for(u=Da;u<Vf;++u)h=76283*(u-16)+_u>>Lu,X4[u-Da]=Xn(h,255),J4[u-Da]=Xn(h+8>>4,15);f2=1}return 1}function Br(u){var h=u.ma,m=u.U,v=u.T;return t(!(1&u.ka)),0>=m||0>=v?0:(m=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,m),h.Dc+=m,1)}function qr(u){u.ma.memory=null}function Wt(u,h,m,v){return dt(u,8)!=47?0:(h[0]=dt(u,14)+1,m[0]=dt(u,14)+1,v[0]=dt(u,1),dt(u,3)!=0?0:!u.h)}function wr(u,h){if(4>u)return u+1;var m=u-2>>1;return(2+(1&u)<<m)+dt(h,m)+1}function zr(u,h){return 120<h?h-120:1<=(m=((m=F4[h-1])>>4)*u+(8-(15&m)))?m:1;var m}function Bn(u,h,m){var v=O(m),S=u[h+=255&v].g-8;return 0<S&&(G(m,m.u+8),v=O(m),h+=u[h].value,h+=v&(1<<S)-1),G(m,m.u+u[h].g),u[h].value}function ln(u,h,m){return m.g+=u.g,m.value+=u.value<<h>>>0,t(8>=m.g),u.g}function nn(u,h,m){var v=u.xc;return t((h=v==0?0:u.vc[u.md*(m>>v)+(h>>v)])<u.Wb),u.Ya[h]}function $n(u,h,m,v){var S=u.ab,_=u.c*h,P=u.C;h=P+h;var F=m,E=v;for(v=u.Ta,m=u.Ua;0<S--;){var T=u.gc[S],Y=P,st=h,ot=F,Q=E,vt=(E=v,F=m,T.Ea);switch(t(Y<st),t(st<=T.nc),T.hc){case 2:gu(ot,Q,(st-Y)*vt,E,F);break;case 0:var ft=Y,$=st,J=E,mt=F,yt=(Ft=T).Ea;ft==0&&(Df(ot,Q,null,null,1,J,mt),oe(ot,Q+1,0,0,yt-1,J,mt+1),Q+=yt,mt+=yt,++ft);for(var bt=1<<Ft.b,Rt=bt-1,Mt=Bt(yt,Ft.b),Ut=Ft.K,Ft=Ft.w+(ft>>Ft.b)*Mt;ft<$;){var be=Ut,Ne=Ft,ge=1;for(Ea(ot,Q,J,mt-yt,1,J,mt);ge<yt;){var ue=(ge&~Rt)+bt;ue>yt&&(ue=yt),(0,Oi[be[Ne++]>>8&15])(ot,Q+ +ge,J,mt+ge-yt,ue-ge,J,mt+ge),ge=ue}Q+=yt,mt+=yt,++ft&Rt||(Ft+=Mt)}st!=T.nc&&r(E,F-vt,E,F+(st-Y-1)*vt,vt);break;case 1:for(vt=ot,$=Q,yt=(ot=T.Ea)-(mt=ot&~(J=(Q=1<<T.b)-1)),ft=Bt(ot,T.b),bt=T.K,T=T.w+(Y>>T.b)*ft;Y<st;){for(Rt=bt,Mt=T,Ut=new Tt,Ft=$+mt,be=$+ot;$<Ft;)Le(Rt[Mt++],Ut),ms(Ut,vt,$,Q,E,F),$+=Q,F+=Q;$<be&&(Le(Rt[Mt++],Ut),ms(Ut,vt,$,yt,E,F),$+=yt,F+=yt),++Y&J||(T+=ft)}break;case 3:if(ot==E&&Q==F&&0<T.b){for($=E,ot=vt=F+(st-Y)*vt-(mt=(st-Y)*Bt(T.Ea,T.b)),Q=E,J=F,ft=[],mt=(yt=mt)-1;0<=mt;--mt)ft[mt]=Q[J+mt];for(mt=yt-1;0<=mt;--mt)$[ot+mt]=ft[mt];rr(T,Y,st,E,vt,E,F)}else rr(T,Y,st,ot,Q,E,F)}F=v,E=m}E!=m&&r(v,m,F,E,_)}function to(u,h){var m=u.V,v=u.Ba+u.c*u.C,S=h-u.C;if(t(h<=u.l.o),t(16>=S),0<S){var _=u.l,P=u.Ta,F=u.Ua,E=_.width;if($n(u,S,m,v),S=F=[F],t((m=u.C)<(v=h)),t(_.v<_.va),v>_.o&&(v=_.o),m<_.j){var T=_.j-m;m=_.j,S[0]+=T*E}if(m>=v?m=0:(S[0]+=4*_.v,_.ka=m-_.j,_.U=_.va-_.v,_.T=v-m,m=1),m){if(F=F[0],11>(m=u.ca).S){var Y=m.f.RGBA,st=(v=m.S,S=_.U,_=_.T,T=Y.eb,Y.A),ot=_;for(Y=Y.fb+u.Ma*Y.A;0<ot--;){var Q=P,vt=F,ft=S,$=T,J=Y;switch(v){case xu:Un(Q,vt,ft,$,J);break;case Au:En(Q,vt,ft,$,J);break;case zf:En(Q,vt,ft,$,J),or($,J,0,ft,1,0);break;case n2:li(Q,vt,ft,$,J);break;case Su:qe(Q,vt,ft,$,J,1);break;case Uf:qe(Q,vt,ft,$,J,1),or($,J,0,ft,1,0);break;case Nu:qe(Q,vt,ft,$,J,0);break;case ku:qe(Q,vt,ft,$,J,0),or($,J,1,ft,1,0);break;case qf:Ri(Q,vt,ft,$,J);break;case Hf:Ri(Q,vt,ft,$,J),je($,J,ft,1,0);break;case r2:ai(Q,vt,ft,$,J);break;default:t(0)}F+=E,Y+=st}u.Ma+=_}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=m.height)}}u.C=h,t(u.C<=u.i)}function ii(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var m=u.Ya[h].G,v=u.Ya[h].H;if(0<m[1][v[1]+0].g||0<m[2][v[2]+0].g||0<m[3][v[3]+0].g)return 0}return 1}function xr(u,h,m,v,S,_){if(u.Z!=0){var P=u.qd,F=u.rd;for(t(zi[u.Z]!=null);h<m;++h)zi[u.Z](P,F,v,S,v,S,_),P=v,F=S,S+=_;u.qd=P,u.rd=F}}function Ar(u,h){var m=u.l.ma,v=m.Z==0||m.Z==1?u.l.j:u.C;if(v=u.C<v?v:u.C,t(h<=u.l.o),h>v){var S=u.l.width,_=m.ca,P=m.tb+S*v,F=u.V,E=u.Ba+u.c*v,T=u.gc;t(u.ab==1),t(T[0].hc==3),mu(T[0],v,h,F,E,_,P),xr(m,v,h,_,P,S)}u.C=u.Ma=h}function Sr(u,h,m,v,S,_,P){var F=u.$/v,E=u.$%v,T=u.m,Y=u.s,st=m+u.$,ot=st;S=m+v*S;var Q=m+v*_,vt=280+Y.ua,ft=u.Pb?F:16777216,$=0<Y.ua?Y.Wa:null,J=Y.wc,mt=st<Q?nn(Y,E,F):null;t(u.C<_),t(Q<=S);var yt=!1;t:for(;;){for(;yt||st<Q;){var bt=0;if(F>=ft){var Rt=st-m;t((ft=u).Pb),ft.wd=ft.m,ft.xd=Rt,0<ft.s.ua&&gt(ft.s.Wa,ft.s.vb),ft=F+I4}if(E&J||(mt=nn(Y,E,F)),t(mt!=null),mt.Qb&&(h[st]=mt.qb,yt=!0),!yt)if(K(T),mt.jc){bt=T,Rt=h;var Mt=st,Ut=mt.pd[O(bt)&wn-1];t(mt.jc),256>Ut.g?(G(bt,bt.u+Ut.g),Rt[Mt]=Ut.value,bt=0):(G(bt,bt.u+Ut.g-256),t(256<=Ut.value),bt=Ut.value),bt==0&&(yt=!0)}else bt=Bn(mt.G[0],mt.H[0],T);if(T.h)break;if(yt||256>bt){if(!yt)if(mt.nd)h[st]=(mt.qb|bt<<8)>>>0;else{if(K(T),yt=Bn(mt.G[1],mt.H[1],T),K(T),Rt=Bn(mt.G[2],mt.H[2],T),Mt=Bn(mt.G[3],mt.H[3],T),T.h)break;h[st]=(Mt<<24|yt<<16|bt<<8|Rt)>>>0}if(yt=!1,++st,++E>=v&&(E=0,++F,P!=null&&F<=_&&!(F%16)&&P(u,F),$!=null))for(;ot<st;)bt=h[ot++],$.X[(506832829*bt&4294967295)>>>$.Mb]=bt}else if(280>bt){if(bt=wr(bt-256,T),Rt=Bn(mt.G[4],mt.H[4],T),K(T),Rt=zr(v,Rt=wr(Rt,T)),T.h)break;if(st-m<Rt||S-st<bt)break t;for(Mt=0;Mt<bt;++Mt)h[st+Mt]=h[st+Mt-Rt];for(st+=bt,E+=bt;E>=v;)E-=v,++F,P!=null&&F<=_&&!(F%16)&&P(u,F);if(t(st<=S),E&J&&(mt=nn(Y,E,F)),$!=null)for(;ot<st;)bt=h[ot++],$.X[(506832829*bt&4294967295)>>>$.Mb]=bt}else{if(!(bt<vt))break t;for(yt=bt-280,t($!=null);ot<st;)bt=h[ot++],$.X[(506832829*bt&4294967295)>>>$.Mb]=bt;bt=st,t(!(yt>>>(Rt=$).Xa)),h[bt]=Rt.X[yt],yt=!0}yt||t(T.h==z(T))}if(u.Pb&&T.h&&st<S)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&gt(u.s.vb,u.s.Wa);else{if(T.h)break t;P!=null&&P(u,F>_?_:F),u.a=0,u.$=st-m}return 1}return u.a=3,0}function Ur(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,t(u!=null)}function nr(){var u=new Rf;return u==null?null:(u.a=0,u.xb=o2,Dr("Predictor","VP8LPredictors"),Dr("Predictor","VP8LPredictors_C"),Dr("PredictorAdd","VP8LPredictorsAdd"),Dr("PredictorAdd","VP8LPredictorsAdd_C"),gu=pe,ms=$t,Un=jt,En=_n,Ri=me,ai=vr,li=Ce,j.VP8LMapColor32b=xo,j.VP8LMapColor8b=bu,u)}function Hr(u,h,m,v,S){var _=1,P=[u],F=[h],E=v.m,T=v.s,Y=null,st=0;t:for(;;){if(m)for(;_&&dt(E,1);){var ot=P,Q=F,vt=v,ft=1,$=vt.m,J=vt.gc[vt.ab],mt=dt($,2);if(vt.Oc&1<<mt)_=0;else{switch(vt.Oc|=1<<mt,J.hc=mt,J.Ea=ot[0],J.nc=Q[0],J.K=[null],++vt.ab,t(4>=vt.ab),mt){case 0:case 1:J.b=dt($,3)+2,ft=Hr(Bt(J.Ea,J.b),Bt(J.nc,J.b),0,vt,J.K),J.K=J.K[0];break;case 3:var yt,bt=dt($,8)+1,Rt=16<bt?0:4<bt?1:2<bt?2:3;if(ot[0]=Bt(J.Ea,Rt),J.b=Rt,yt=ft=Hr(bt,1,0,vt,J.K)){var Mt,Ut=bt,Ft=J,be=1<<(8>>Ft.b),Ne=s(be);if(Ne==null)yt=0;else{var ge=Ft.K[0],ue=Ft.w;for(Ne[0]=Ft.K[0][0],Mt=1;Mt<1*Ut;++Mt)Ne[Mt]=xt(ge[ue+Mt],Ne[Mt-1]);for(;Mt<4*be;++Mt)Ne[Mt]=0;Ft.K[0]=null,Ft.K[0]=Ne,yt=1}}ft=yt;break;case 2:break;default:t(0)}_=ft}}if(P=P[0],F=F[0],_&&dt(E,1)&&!(_=1<=(st=dt(E,4))&&11>=st)){v.a=3;break t}var Fe;if(Fe=_)e:{var _e,re,sn,Hn=v,on=P,Wn=F,ke=st,Kn=m,Zn=Hn.m,gn=Hn.s,xn=[null],Tn=1,ur=0,Yr=E4[ke];n:for(;;){if(Kn&&dt(Zn,1)){var mn=dt(Zn,3)+2,fi=Bt(on,mn),xs=Bt(Wn,mn),Lo=fi*xs;if(!Hr(fi,xs,0,Hn,xn))break n;for(xn=xn[0],gn.xc=mn,_e=0;_e<Lo;++_e){var Ui=xn[_e]>>8&65535;xn[_e]=Ui,Ui>=Tn&&(Tn=Ui+1)}}if(Zn.h)break n;for(re=0;5>re;++re){var Ye=i2[re];!re&&0<ke&&(Ye+=1<<ke),ur<Ye&&(ur=Ye)}var Yf=o(Tn*Yr,C),g2=Tn,m2=o(g2,B);if(m2==null)var Pu=null;else t(65536>=g2),Pu=m2;var Ba=s(ur);if(Pu==null||Ba==null||Yf==null){Hn.a=1;break n}var Cu=Yf;for(_e=sn=0;_e<Tn;++_e){var Mr=Pu[_e],_o=Mr.G,Mo=Mr.H,b2=0,Fu=1,v2=0;for(re=0;5>re;++re){Ye=i2[re],_o[re]=Cu,Mo[re]=sn,!re&&0<ke&&(Ye+=1<<ke);i:{var Eu,$f=Ye,Iu=Hn,qa=Ba,Q4=Cu,tx=sn,Xf=0,Hi=Iu.m,ex=dt(Hi,1);if(i(qa,0,0,$f),ex){var nx=dt(Hi,1)+1,rx=dt(Hi,1),y2=dt(Hi,rx==0?1:8);qa[y2]=1,nx==2&&(qa[y2=dt(Hi,8)]=1);var Tu=1}else{var w2=s(19),x2=dt(Hi,4)+4;if(19<x2){Iu.a=3;var ju=0;break i}for(Eu=0;Eu<x2;++Eu)w2[C4[Eu]]=dt(Hi,3);var Jf=void 0,za=void 0,A2=Iu,ix=w2,Ou=$f,S2=qa,Kf=0,Wi=A2.m,N2=8,k2=o(128,C);r:for(;L(k2,0,7,ix,19);){if(dt(Wi,1)){var sx=2+2*dt(Wi,3);if((Jf=2+dt(Wi,sx))>Ou)break r}else Jf=Ou;for(za=0;za<Ou&&Jf--;){K(Wi);var L2=k2[0+(127&O(Wi))];G(Wi,Wi.u+L2.g);var Po=L2.value;if(16>Po)S2[za++]=Po,Po!=0&&(N2=Po);else{var ox=Po==16,_2=Po-16,ax=M4[_2],M2=dt(Wi,_4[_2])+ax;if(za+M2>Ou)break r;for(var lx=ox?N2:0;0<M2--;)S2[za++]=lx}}Kf=1;break r}Kf||(A2.a=3),Tu=Kf}(Tu=Tu&&!Hi.h)&&(Xf=L(Q4,tx,8,qa,$f)),Tu&&Xf!=0?ju=Xf:(Iu.a=3,ju=0)}if(ju==0)break n;if(Fu&&P4[re]==1&&(Fu=Cu[sn].g==0),b2+=Cu[sn].g,sn+=ju,3>=re){var Ua,Zf=Ba[0];for(Ua=1;Ua<Ye;++Ua)Ba[Ua]>Zf&&(Zf=Ba[Ua]);v2+=Zf}}if(Mr.nd=Fu,Mr.Qb=0,Fu&&(Mr.qb=(_o[3][Mo[3]+0].value<<24|_o[1][Mo[1]+0].value<<16|_o[2][Mo[2]+0].value)>>>0,b2==0&&256>_o[0][Mo[0]+0].value&&(Mr.Qb=1,Mr.qb+=_o[0][Mo[0]+0].value<<8)),Mr.jc=!Mr.Qb&&6>v2,Mr.jc){var Ru,di=Mr;for(Ru=0;Ru<wn;++Ru){var Gi=Ru,Vi=di.pd[Gi],Du=di.G[0][di.H[0]+Gi];256<=Du.value?(Vi.g=Du.g+256,Vi.value=Du.value):(Vi.g=0,Vi.value=0,Gi>>=ln(Du,8,Vi),Gi>>=ln(di.G[1][di.H[1]+Gi],16,Vi),Gi>>=ln(di.G[2][di.H[2]+Gi],0,Vi),ln(di.G[3][di.H[3]+Gi],24,Vi))}}}gn.vc=xn,gn.Wb=Tn,gn.Ya=Pu,gn.yc=Yf,Fe=1;break e}Fe=0}if(!(_=Fe)){v.a=3;break t}if(0<st){if(T.ua=1<<st,!Yt(T.Wa,st)){v.a=1,_=0;break t}}else T.ua=0;var Qf=v,P2=P,ux=F,t0=Qf.s,e0=t0.xc;if(Qf.c=P2,Qf.i=ux,t0.md=Bt(P2,e0),t0.wc=e0==0?-1:(1<<e0)-1,m){v.xb=q4;break t}if((Y=s(P*F))==null){v.a=1,_=0;break t}_=(_=Sr(v,Y,0,P,F,F,null))&&!E.h;break t}return _?(S!=null?S[0]=Y:(t(Y==null),t(m)),v.$=0,m||Ur(T)):Ur(T),_}function hs(u,h){var m=u.c*u.i,v=m+h+16*h;return t(u.c<=h),u.V=s(v),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+m+h,1)}function eo(u,h){var m=u.C,v=h-m,S=u.V,_=u.Ba+u.c*m;for(t(h<=u.l.o);0<v;){var P=16<v?16:v,F=u.l.ma,E=u.l.width,T=E*P,Y=F.ca,st=F.tb+E*m,ot=u.Ta,Q=u.Ua;$n(u,P,S,_),tn(ot,Q,Y,st,T),xr(F,m,m+P,Y,st,E),v-=P,S+=P*u.c,m+=P}t(m==h),u.C=u.Ma=h}function no(){this.ub=this.yd=this.td=this.Rb=0}function ro(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function io(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Xl(){this.Yb=function(){var u=[];return function h(m,v,S){for(var _=S[v],P=0;P<_&&(m.push(S.length>v+1?[]:0),!(S.length<v+1));P++)h(m[P],v+1,S)}(u,0,[3,11]),u}()}function pf(){this.jb=s(3),this.Wc=a([4,8],Xl),this.Xc=a([4,17],Xl)}function gf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function so(){this.ld=this.La=this.dd=this.tc=0}function Jl(){this.Na=this.la=0}function mf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function da(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bf(){this.uc=this.M=this.Nb=0,this.wa=Array(new so),this.Y=0,this.ya=Array(new da),this.aa=0,this.l=new oo}function Kl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function vf(){this.cb=this.a=0,this.sc="",this.m=new Lt,this.Od=new no,this.Kc=new ro,this.ed=new gf,this.Qa=new io,this.Ic=this.$c=this.Aa=0,this.D=new bf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Lt),this.ia=0,this.pb=o(4,mf),this.Pa=new pf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kl),this.Hd=0,this.rb=Array(new Jl),this.sb=0,this.wa=Array(new so),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new da),this.L=this.aa=0,this.gd=a([4,2],so),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yf(){var u=new vf;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ra||(Ra=tu)),u}function Ze(u,h,m){return u.a==0&&(u.a=h,u.sc=m,u.cb=0),0}function Zl(u,h,m){return 3<=m&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Ql(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return Ze(u,2,"null VP8Io passed to VP8GetHeaders()");var m=h.data,v=h.w,S=h.ha;if(4>S)return Ze(u,7,"Truncated header.");var _=m[v+0]|m[v+1]<<8|m[v+2]<<16,P=u.Od;if(P.Rb=!(1&_),P.td=_>>1&7,P.yd=_>>4&1,P.ub=_>>5,3<P.td)return Ze(u,3,"Incorrect keyframe parameters.");if(!P.yd)return Ze(u,4,"Frame not displayable.");v+=3,S-=3;var F=u.Kc;if(P.Rb){if(7>S)return Ze(u,7,"cannot parse picture header");if(!Zl(m,v,S))return Ze(u,3,"Bad code word");F.c=16383&(m[v+4]<<8|m[v+3]),F.Td=m[v+4]>>6,F.i=16383&(m[v+6]<<8|m[v+5]),F.Ud=m[v+6]>>6,v+=7,S-=7,u.za=F.c+15>>4,u.Ub=F.i+15>>4,h.width=F.c,h.height=F.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((_=u.Pa).jb,0,255,_.jb.length),t((_=u.Qa)!=null),_.Cb=0,_.Bb=0,_.Fb=1,i(_.Zb,0,0,_.Zb.length),i(_.Lb,0,0,_.Lb)}if(P.ub>S)return Ze(u,7,"bad partition length");at(_=u.m,m,v,P.ub),v+=P.ub,S-=P.ub,P.Rb&&(F.Ld=ut(_),F.Kd=ut(_)),F=u.Qa;var E,T=u.Pa;if(t(_!=null),t(F!=null),F.Cb=ut(_),F.Cb){if(F.Bb=ut(_),ut(_)){for(F.Fb=ut(_),E=0;4>E;++E)F.Zb[E]=ut(_)?ht(_,7):0;for(E=0;4>E;++E)F.Lb[E]=ut(_)?ht(_,6):0}if(F.Bb)for(E=0;3>E;++E)T.jb[E]=ut(_)?nt(_,8):255}else F.Bb=0;if(_.Ka)return Ze(u,3,"cannot parse segment header");if((F=u.ed).zd=ut(_),F.Tb=nt(_,6),F.wb=nt(_,3),F.Pc=ut(_),F.Pc&&ut(_)){for(T=0;4>T;++T)ut(_)&&(F.vd[T]=ht(_,6));for(T=0;4>T;++T)ut(_)&&(F.od[T]=ht(_,6))}if(u.L=F.Tb==0?0:F.zd?1:2,_.Ka)return Ze(u,3,"cannot parse filter header");var Y=S;if(S=E=v,v=E+Y,F=Y,u.Xb=(1<<nt(u.m,2))-1,Y<3*(T=u.Xb))m=7;else{for(E+=3*T,F-=3*T,Y=0;Y<T;++Y){var st=m[S+0]|m[S+1]<<8|m[S+2]<<16;st>F&&(st=F),at(u.Jc[+Y],m,E,st),E+=st,F-=st,S+=3}at(u.Jc[+T],m,E,F),m=E<v?0:5}if(m!=0)return Ze(u,m,"cannot parse partitions");for(m=nt(E=u.m,7),S=ut(E)?ht(E,4):0,v=ut(E)?ht(E,4):0,F=ut(E)?ht(E,4):0,T=ut(E)?ht(E,4):0,E=ut(E)?ht(E,4):0,Y=u.Qa,st=0;4>st;++st){if(Y.Cb){var ot=Y.Zb[st];Y.Fb||(ot+=m)}else{if(0<st){u.pb[st]=u.pb[0];continue}ot=m}var Q=u.pb[st];Q.Sc[0]=Wf[Xn(ot+S,127)],Q.Sc[1]=Gf[Xn(ot+0,127)],Q.Eb[0]=2*Wf[Xn(ot+v,127)],Q.Eb[1]=101581*Gf[Xn(ot+F,127)]>>16,8>Q.Eb[1]&&(Q.Eb[1]=8),Q.Qc[0]=Wf[Xn(ot+T,117)],Q.Qc[1]=Gf[Xn(ot+E,127)],Q.lc=ot+E}if(!P.Rb)return Ze(u,4,"Not a key frame.");for(ut(_),P=u.Pa,m=0;4>m;++m){for(S=0;8>S;++S)for(v=0;3>v;++v)for(F=0;11>F;++F)T=ct(_,D4[m][S][v][F])?nt(_,8):O4[m][S][v][F],P.Wc[m][S].Yb[v][F]=T;for(S=0;17>S;++S)P.Xc[m][S]=P.Wc[m][B4[S]]}return u.kc=ut(_),u.kc&&(u.Bd=nt(_,8)),u.cb=1}function tu(u,h,m,v,S,_,P){var F=h[S].Yb[m];for(m=0;16>S;++S){if(!ct(u,F[m+0]))return S;for(;!ct(u,F[m+1]);)if(F=h[++S].Yb[0],m=0,S==16)return 16;var E=h[S+1].Yb;if(ct(u,F[m+2])){var T=u,Y=0;if(ct(T,(ot=F)[(st=m)+3]))if(ct(T,ot[st+6])){for(F=0,st=2*(Y=ct(T,ot[st+8]))+(ot=ct(T,ot[st+9+Y])),Y=0,ot=T4[st];ot[F];++F)Y+=Y+ct(T,ot[F]);Y+=3+(8<<st)}else ct(T,ot[st+7])?(Y=7+2*ct(T,165),Y+=ct(T,145)):Y=5+ct(T,159);else Y=ct(T,ot[st+4])?3+ct(T,ot[st+5]):2;F=E[2]}else Y=1,F=E[1];E=P+j4[S],0>(T=u).b&&it(T);var st,ot=T.b,Q=(st=T.Ca>>1)-(T.I>>ot)>>31;--T.b,T.Ca+=Q,T.Ca|=1,T.I-=(st+1&Q)<<ot,_[E]=((Y^Q)-Q)*v[(0<S)+0]}return 16}function pa(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function wf(u,h){if(u==null)return 0;if(h==null)return Ze(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Ql(u,h))return 0;if(t(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var m=Mu[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-m>>4,u.zb=h.j-m>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+m>>4,u.Hb=h.va+15+m>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var v=u.ed;for(m=0;4>m;++m){var S;if(u.Qa.Cb){var _=u.Qa.Lb[m];u.Qa.Fb||(_+=v.Tb)}else _=v.Tb;for(S=0;1>=S;++S){var P=u.gd[m][S],F=_;if(v.Pc&&(F+=v.vd[0],S&&(F+=v.od[0])),0<(F=0>F?0:63<F?63:F)){var E=F;0<v.wb&&(E=4<v.wb?E>>2:E>>1)>9-v.wb&&(E=9-v.wb),1>E&&(E=1),P.dd=E,P.tc=2*F+E,P.ld=40<=F?2:15<=F?1:0}else P.tc=0;P.La=S}}}m=0}else Ze(u,6,"Frame setup failed"),m=u.a;if(m=m==0){if(m){u.$c=0,0<u.Aa||(u.Ic=Z4);t:{m=u.Ic,v=4*(E=u.za);var T=32*E,Y=E+1,st=0<u.L?E*(0<u.Aa?2:1):0,ot=(u.Aa==2?2:1)*E;if((P=v+832+(S=3*(16*m+Mu[u.L])/2*T)+(_=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=P)m=0;else{if(P>u.Vb){if(u.Vb=0,u.Ec=s(P),u.Fc=0,u.Ec==null){m=Ze(u,1,"no memory during frame initialization.");break t}u.Vb=P}P=u.Ec,F=u.Fc,u.Ac=P,u.Bc=F,F+=v,u.Gd=o(T,Kl),u.Hd=0,u.rb=o(Y+1,Jl),u.sb=1,u.wa=st?o(st,so):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=E),t(!0),u.oc=P,u.pc=F,F+=832,u.ya=o(ot,da),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=E),u.R=16*E,u.B=8*E,E=(T=Mu[u.L])*u.R,T=T/2*u.B,u.sa=P,u.ta=F+E,u.qa=u.sa,u.ra=u.ta+16*m*u.R+T,u.Ha=u.qa,u.Ia=u.ra+8*m*u.B+T,u.$c=0,F+=S,u.mb=_?P:null,u.nb=_?F:null,t(F+_<=u.Fc+u.Vb),pa(u),i(u.Ac,u.Bc,0,v),m=1}}if(m){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!yu){for(m=-255;255>=m;++m)un[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)ci[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)Oa[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)ko[255+m]=0>m?0:255<m?255:m;yu=1}Ao=Sf,ui=xf,Ia=nu,In=Af,ir=ru,Qe=eu,So=wa,vu=ps,Ta=Of,bs=xa,vs=jf,Di=fo,ys=Aa,No=fu,ws=hu,Bi=Gr,ja=oi,sr=Tf,_r[0]=Wr,_r[1]=Nf,_r[2]=Mf,_r[3]=Pf,_r[4]=ou,_r[5]=co,_r[6]=au,_r[7]=ba,_r[8]=Ff,_r[9]=Cf,qi[0]=iu,qi[1]=Lf,qi[2]=si,qi[3]=lo,qi[4]=Mn,qi[5]=_f,qi[6]=su,hi[0]=Ii,hi[1]=kf,hi[2]=Ef,hi[3]=va,hi[4]=ds,hi[5]=If,hi[6]=ya,m=1}else m=0}m&&(m=function(Q,vt){for(Q.M=0;Q.M<Q.Va;++Q.M){var ft,$=Q.Jc[Q.M&Q.Xb],J=Q.m,mt=Q;for(ft=0;ft<mt.za;++ft){var yt=J,bt=mt,Rt=bt.Ac,Mt=bt.Bc+4*ft,Ut=bt.zc,Ft=bt.ya[bt.aa+ft];if(bt.Qa.Bb?Ft.$b=ct(yt,bt.Pa.jb[0])?2+ct(yt,bt.Pa.jb[2]):ct(yt,bt.Pa.jb[1]):Ft.$b=0,bt.kc&&(Ft.Ad=ct(yt,bt.Bd)),Ft.Za=!ct(yt,145)+0,Ft.Za){var be=Ft.Ob,Ne=0;for(bt=0;4>bt;++bt){var ge,ue=Ut[0+bt];for(ge=0;4>ge;++ge){ue=R4[Rt[Mt+ge]][ue];for(var Fe=s2[ct(yt,ue[0])];0<Fe;)Fe=s2[2*Fe+ct(yt,ue[Fe])];ue=-Fe,Rt[Mt+ge]=ue}r(be,Ne,Rt,Mt,4),Ne+=4,Ut[0+bt]=ue}}else ue=ct(yt,156)?ct(yt,128)?1:3:ct(yt,163)?2:0,Ft.Ob[0]=ue,i(Rt,Mt,ue,4),i(Ut,0,ue,4);Ft.Dd=ct(yt,142)?ct(yt,114)?ct(yt,183)?1:3:2:0}if(mt.m.Ka)return Ze(Q,7,"Premature end-of-partition0 encountered.");for(;Q.ja<Q.za;++Q.ja){if(mt=$,yt=(J=Q).rb[J.sb-1],Rt=J.rb[J.sb+J.ja],ft=J.ya[J.aa+J.ja],Mt=J.kc?ft.Ad:0)yt.la=Rt.la=0,ft.Za||(yt.Na=Rt.Na=0),ft.Hc=0,ft.Gc=0,ft.ia=0;else{var _e,re;if(yt=Rt,Rt=mt,Mt=J.Pa.Xc,Ut=J.ya[J.aa+J.ja],Ft=J.pb[Ut.$b],bt=Ut.ad,be=0,Ne=J.rb[J.sb-1],ue=ge=0,i(bt,be,0,384),Ut.Za)var sn=0,Hn=Mt[3];else{Fe=s(16);var on=yt.Na+Ne.Na;if(on=Ra(Rt,Mt[1],on,Ft.Eb,0,Fe,0),yt.Na=Ne.Na=(0<on)+0,1<on)Ao(Fe,0,bt,be);else{var Wn=Fe[0]+3>>3;for(Fe=0;256>Fe;Fe+=16)bt[be+Fe]=Wn}sn=1,Hn=Mt[0]}var ke=15&yt.la,Kn=15&Ne.la;for(Fe=0;4>Fe;++Fe){var Zn=1&Kn;for(Wn=re=0;4>Wn;++Wn)ke=ke>>1|(Zn=(on=Ra(Rt,Hn,on=Zn+(1&ke),Ft.Sc,sn,bt,be))>sn)<<7,re=re<<2|(3<on?3:1<on?2:bt[be+0]!=0),be+=16;ke>>=4,Kn=Kn>>1|Zn<<7,ge=(ge<<8|re)>>>0}for(Hn=ke,sn=Kn>>4,_e=0;4>_e;_e+=2){for(re=0,ke=yt.la>>4+_e,Kn=Ne.la>>4+_e,Fe=0;2>Fe;++Fe){for(Zn=1&Kn,Wn=0;2>Wn;++Wn)on=Zn+(1&ke),ke=ke>>1|(Zn=0<(on=Ra(Rt,Mt[2],on,Ft.Qc,0,bt,be)))<<3,re=re<<2|(3<on?3:1<on?2:bt[be+0]!=0),be+=16;ke>>=2,Kn=Kn>>1|Zn<<5}ue|=re<<4*_e,Hn|=ke<<4<<_e,sn|=(240&Kn)<<_e}yt.la=Hn,Ne.la=sn,Ut.Hc=ge,Ut.Gc=ue,Ut.ia=43690&ue?0:Ft.ia,Mt=!(ge|ue)}if(0<J.L&&(J.wa[J.Y+J.ja]=J.gd[ft.$b][ft.Za],J.wa[J.Y+J.ja].La|=!Mt),mt.Ka)return Ze(Q,7,"Premature end-of-file encountered.")}if(pa(Q),J=vt,mt=1,ft=($=Q).D,yt=0<$.L&&$.M>=$.zb&&$.M<=$.Va,$.Aa==0)t:{if(ft.M=$.M,ft.uc=yt,Ma($,ft),mt=1,ft=(re=$.D).Nb,yt=(ue=Mu[$.L])*$.R,Rt=ue/2*$.B,Fe=16*ft*$.R,Wn=8*ft*$.B,Mt=$.sa,Ut=$.ta-yt+Fe,Ft=$.qa,bt=$.ra-Rt+Wn,be=$.Ha,Ne=$.Ia-Rt+Wn,Kn=(ke=re.M)==0,ge=ke>=$.Va-1,$.Aa==2&&Ma($,re),re.uc)for(Zn=(on=$).D.M,t(on.D.uc),re=on.yb;re<on.Hb;++re){sn=re,Hn=Zn;var gn=(xn=(Ye=on).D).Nb;_e=Ye.R;var xn=xn.wa[xn.Y+sn],Tn=Ye.sa,ur=Ye.ta+16*gn*_e+16*sn,Yr=xn.dd,mn=xn.tc;if(mn!=0)if(t(3<=mn),Ye.L==1)0<sn&&Bi(Tn,ur,_e,mn+4),xn.La&&sr(Tn,ur,_e,mn),0<Hn&&ws(Tn,ur,_e,mn+4),xn.La&&ja(Tn,ur,_e,mn);else{var fi=Ye.B,xs=Ye.qa,Lo=Ye.ra+8*gn*fi+8*sn,Ui=Ye.Ha,Ye=Ye.Ia+8*gn*fi+8*sn;gn=xn.ld,0<sn&&(vu(Tn,ur,_e,mn+4,Yr,gn),bs(xs,Lo,Ui,Ye,fi,mn+4,Yr,gn)),xn.La&&(Di(Tn,ur,_e,mn,Yr,gn),No(xs,Lo,Ui,Ye,fi,mn,Yr,gn)),0<Hn&&(So(Tn,ur,_e,mn+4,Yr,gn),Ta(xs,Lo,Ui,Ye,fi,mn+4,Yr,gn)),xn.La&&(vs(Tn,ur,_e,mn,Yr,gn),ys(xs,Lo,Ui,Ye,fi,mn,Yr,gn))}}if($.ia&&alert("todo:DitherRow"),J.put!=null){if(re=16*ke,ke=16*(ke+1),Kn?(J.y=$.sa,J.O=$.ta+Fe,J.f=$.qa,J.N=$.ra+Wn,J.ea=$.Ha,J.W=$.Ia+Wn):(re-=ue,J.y=Mt,J.O=Ut,J.f=Ft,J.N=bt,J.ea=be,J.W=Ne),ge||(ke-=ue),ke>J.o&&(ke=J.o),J.F=null,J.J=null,$.Fa!=null&&0<$.Fa.length&&re<ke&&(J.J=La($,J,re,ke-re),J.F=$.mb,J.F==null&&J.F.length==0)){mt=Ze($,3,"Could not decode alpha data.");break t}re<J.j&&(ue=J.j-re,re=J.j,t(!(1&ue)),J.O+=$.R*ue,J.N+=$.B*(ue>>1),J.W+=$.B*(ue>>1),J.F!=null&&(J.J+=J.width*ue)),re<ke&&(J.O+=J.v,J.N+=J.v>>1,J.W+=J.v>>1,J.F!=null&&(J.J+=J.v),J.ka=re-J.j,J.U=J.va-J.v,J.T=ke-re,mt=J.put(J))}ft+1!=$.Ic||ge||(r($.sa,$.ta-yt,Mt,Ut+16*$.R,yt),r($.qa,$.ra-Rt,Ft,bt+8*$.B,Rt),r($.Ha,$.Ia-Rt,be,Ne+8*$.B,Rt))}if(!mt)return Ze(Q,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),m&=1}return m?(u.cb=0,m):0}function Nr(u,h,m,v,S){S=u[h+m+32*v]+(S>>3),u[h+m+32*v]=-256&S?0>S?0:255:S}function ao(u,h,m,v,S,_){Nr(u,h,0,m,v+S),Nr(u,h,1,m,v+_),Nr(u,h,2,m,v-_),Nr(u,h,3,m,v-S)}function qn(u){return(20091*u>>16)+u}function ga(u,h,m,v){var S,_=0,P=s(16);for(S=0;4>S;++S){var F=u[h+0]+u[h+8],E=u[h+0]-u[h+8],T=(35468*u[h+4]>>16)-qn(u[h+12]),Y=qn(u[h+4])+(35468*u[h+12]>>16);P[_+0]=F+Y,P[_+1]=E+T,P[_+2]=E-T,P[_+3]=F-Y,_+=4,h++}for(S=_=0;4>S;++S)F=(u=P[_+0]+4)+P[_+8],E=u-P[_+8],T=(35468*P[_+4]>>16)-qn(P[_+12]),Nr(m,v,0,0,F+(Y=qn(P[_+4])+(35468*P[_+12]>>16))),Nr(m,v,1,0,E+T),Nr(m,v,2,0,E-T),Nr(m,v,3,0,F-Y),_++,v+=32}function eu(u,h,m,v){var S=u[h+0]+4,_=35468*u[h+4]>>16,P=qn(u[h+4]),F=35468*u[h+1]>>16;ao(m,v,0,S+P,u=qn(u[h+1]),F),ao(m,v,1,S+_,u,F),ao(m,v,2,S-_,u,F),ao(m,v,3,S-P,u,F)}function xf(u,h,m,v,S){ga(u,h,m,v),S&&ga(u,h+16,m,v+4)}function nu(u,h,m,v){ui(u,h+0,m,v,1),ui(u,h+32,m,v+128,1)}function Af(u,h,m,v){var S;for(u=u[h+0]+4,S=0;4>S;++S)for(h=0;4>h;++h)Nr(m,v,h,S,u)}function ru(u,h,m,v){u[h+0]&&In(u,h+0,m,v),u[h+16]&&In(u,h+16,m,v+4),u[h+32]&&In(u,h+32,m,v+128),u[h+48]&&In(u,h+48,m,v+128+4)}function Sf(u,h,m,v){var S,_=s(16);for(S=0;4>S;++S){var P=u[h+0+S]+u[h+12+S],F=u[h+4+S]+u[h+8+S],E=u[h+4+S]-u[h+8+S],T=u[h+0+S]-u[h+12+S];_[0+S]=P+F,_[8+S]=P-F,_[4+S]=T+E,_[12+S]=T-E}for(S=0;4>S;++S)P=(u=_[0+4*S]+3)+_[3+4*S],F=_[1+4*S]+_[2+4*S],E=_[1+4*S]-_[2+4*S],T=u-_[3+4*S],m[v+0]=P+F>>3,m[v+16]=T+E>>3,m[v+32]=P-F>>3,m[v+48]=T-E>>3,v+=64}function ma(u,h,m){var v,S=h-32,_=Jn,P=255-u[S-1];for(v=0;v<m;++v){var F,E=_,T=P+u[h-1];for(F=0;F<m;++F)u[h+F]=E[T+u[S+F]];h+=32}}function Nf(u,h){ma(u,h,4)}function kf(u,h){ma(u,h,8)}function Lf(u,h){ma(u,h,16)}function si(u,h){var m;for(m=0;16>m;++m)r(u,h+32*m,u,h-32,16)}function lo(u,h){var m;for(m=16;0<m;--m)i(u,h,u[h-1],16),h+=32}function uo(u,h,m){var v;for(v=0;16>v;++v)i(h,m+32*v,u,16)}function iu(u,h){var m,v=16;for(m=0;16>m;++m)v+=u[h-1+32*m]+u[h+m-32];uo(v>>5,u,h)}function Mn(u,h){var m,v=8;for(m=0;16>m;++m)v+=u[h-1+32*m];uo(v>>4,u,h)}function _f(u,h){var m,v=8;for(m=0;16>m;++m)v+=u[h+m-32];uo(v>>4,u,h)}function su(u,h){uo(128,u,h)}function Xt(u,h,m){return u+2*h+m+2>>2}function Mf(u,h){var m,v=h-32;for(v=new Uint8Array([Xt(u[v-1],u[v+0],u[v+1]),Xt(u[v+0],u[v+1],u[v+2]),Xt(u[v+1],u[v+2],u[v+3]),Xt(u[v+2],u[v+3],u[v+4])]),m=0;4>m;++m)r(u,h+32*m,v,0,v.length)}function Pf(u,h){var m=u[h-1],v=u[h-1+32],S=u[h-1+64],_=u[h-1+96];kt(u,h+0,16843009*Xt(u[h-1-32],m,v)),kt(u,h+32,16843009*Xt(m,v,S)),kt(u,h+64,16843009*Xt(v,S,_)),kt(u,h+96,16843009*Xt(S,_,_))}function Wr(u,h){var m,v=4;for(m=0;4>m;++m)v+=u[h+m-32]+u[h-1+32*m];for(v>>=3,m=0;4>m;++m)i(u,h+32*m,v,4)}function ou(u,h){var m=u[h-1+0],v=u[h-1+32],S=u[h-1+64],_=u[h-1-32],P=u[h+0-32],F=u[h+1-32],E=u[h+2-32],T=u[h+3-32];u[h+0+96]=Xt(v,S,u[h-1+96]),u[h+1+96]=u[h+0+64]=Xt(m,v,S),u[h+2+96]=u[h+1+64]=u[h+0+32]=Xt(_,m,v),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=Xt(P,_,m),u[h+3+64]=u[h+2+32]=u[h+1+0]=Xt(F,P,_),u[h+3+32]=u[h+2+0]=Xt(E,F,P),u[h+3+0]=Xt(T,E,F)}function au(u,h){var m=u[h+1-32],v=u[h+2-32],S=u[h+3-32],_=u[h+4-32],P=u[h+5-32],F=u[h+6-32],E=u[h+7-32];u[h+0+0]=Xt(u[h+0-32],m,v),u[h+1+0]=u[h+0+32]=Xt(m,v,S),u[h+2+0]=u[h+1+32]=u[h+0+64]=Xt(v,S,_),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=Xt(S,_,P),u[h+3+32]=u[h+2+64]=u[h+1+96]=Xt(_,P,F),u[h+3+64]=u[h+2+96]=Xt(P,F,E),u[h+3+96]=Xt(F,E,E)}function co(u,h){var m=u[h-1+0],v=u[h-1+32],S=u[h-1+64],_=u[h-1-32],P=u[h+0-32],F=u[h+1-32],E=u[h+2-32],T=u[h+3-32];u[h+0+0]=u[h+1+64]=_+P+1>>1,u[h+1+0]=u[h+2+64]=P+F+1>>1,u[h+2+0]=u[h+3+64]=F+E+1>>1,u[h+3+0]=E+T+1>>1,u[h+0+96]=Xt(S,v,m),u[h+0+64]=Xt(v,m,_),u[h+0+32]=u[h+1+96]=Xt(m,_,P),u[h+1+32]=u[h+2+96]=Xt(_,P,F),u[h+2+32]=u[h+3+96]=Xt(P,F,E),u[h+3+32]=Xt(F,E,T)}function ba(u,h){var m=u[h+0-32],v=u[h+1-32],S=u[h+2-32],_=u[h+3-32],P=u[h+4-32],F=u[h+5-32],E=u[h+6-32],T=u[h+7-32];u[h+0+0]=m+v+1>>1,u[h+1+0]=u[h+0+64]=v+S+1>>1,u[h+2+0]=u[h+1+64]=S+_+1>>1,u[h+3+0]=u[h+2+64]=_+P+1>>1,u[h+0+32]=Xt(m,v,S),u[h+1+32]=u[h+0+96]=Xt(v,S,_),u[h+2+32]=u[h+1+96]=Xt(S,_,P),u[h+3+32]=u[h+2+96]=Xt(_,P,F),u[h+3+64]=Xt(P,F,E),u[h+3+96]=Xt(F,E,T)}function Cf(u,h){var m=u[h-1+0],v=u[h-1+32],S=u[h-1+64],_=u[h-1+96];u[h+0+0]=m+v+1>>1,u[h+2+0]=u[h+0+32]=v+S+1>>1,u[h+2+32]=u[h+0+64]=S+_+1>>1,u[h+1+0]=Xt(m,v,S),u[h+3+0]=u[h+1+32]=Xt(v,S,_),u[h+3+32]=u[h+1+64]=Xt(S,_,_),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=_}function Ff(u,h){var m=u[h-1+0],v=u[h-1+32],S=u[h-1+64],_=u[h-1+96],P=u[h-1-32],F=u[h+0-32],E=u[h+1-32],T=u[h+2-32];u[h+0+0]=u[h+2+32]=m+P+1>>1,u[h+0+32]=u[h+2+64]=v+m+1>>1,u[h+0+64]=u[h+2+96]=S+v+1>>1,u[h+0+96]=_+S+1>>1,u[h+3+0]=Xt(F,E,T),u[h+2+0]=Xt(P,F,E),u[h+1+0]=u[h+3+32]=Xt(m,P,F),u[h+1+32]=u[h+3+64]=Xt(v,m,P),u[h+1+64]=u[h+3+96]=Xt(S,v,m),u[h+1+96]=Xt(_,S,v)}function Ef(u,h){var m;for(m=0;8>m;++m)r(u,h+32*m,u,h-32,8)}function va(u,h){var m;for(m=0;8>m;++m)i(u,h,u[h-1],8),h+=32}function fs(u,h,m){var v;for(v=0;8>v;++v)i(h,m+32*v,u,8)}function Ii(u,h){var m,v=8;for(m=0;8>m;++m)v+=u[h+m-32]+u[h-1+32*m];fs(v>>4,u,h)}function If(u,h){var m,v=4;for(m=0;8>m;++m)v+=u[h+m-32];fs(v>>3,u,h)}function ds(u,h){var m,v=4;for(m=0;8>m;++m)v+=u[h-1+32*m];fs(v>>3,u,h)}function ya(u,h){fs(128,u,h)}function ho(u,h,m){var v=u[h-m],S=u[h+0],_=3*(S-v)+Bf[1020+u[h-2*m]-u[h+m]],P=wu[112+(_+4>>3)];u[h-m]=Jn[255+v+wu[112+(_+3>>3)]],u[h+0]=Jn[255+S-P]}function lu(u,h,m,v){var S=u[h+0],_=u[h+m];return ar[255+u[h-2*m]-u[h-m]]>v||ar[255+_-S]>v}function uu(u,h,m,v){return 4*ar[255+u[h-m]-u[h+0]]+ar[255+u[h-2*m]-u[h+m]]<=v}function cu(u,h,m,v,S){var _=u[h-3*m],P=u[h-2*m],F=u[h-m],E=u[h+0],T=u[h+m],Y=u[h+2*m],st=u[h+3*m];return 4*ar[255+F-E]+ar[255+P-T]>v?0:ar[255+u[h-4*m]-_]<=S&&ar[255+_-P]<=S&&ar[255+P-F]<=S&&ar[255+st-Y]<=S&&ar[255+Y-T]<=S&&ar[255+T-E]<=S}function hu(u,h,m,v){var S=2*v+1;for(v=0;16>v;++v)uu(u,h+v,m,S)&&ho(u,h+v,m)}function Gr(u,h,m,v){var S=2*v+1;for(v=0;16>v;++v)uu(u,h+v*m,1,S)&&ho(u,h+v*m,1)}function oi(u,h,m,v){var S;for(S=3;0<S;--S)hu(u,h+=4*m,m,v)}function Tf(u,h,m,v){var S;for(S=3;0<S;--S)Gr(u,h+=4,m,v)}function Ti(u,h,m,v,S,_,P,F){for(_=2*_+1;0<S--;){if(cu(u,h,m,_,P))if(lu(u,h,m,F))ho(u,h,m);else{var E=u,T=h,Y=m,st=E[T-2*Y],ot=E[T-Y],Q=E[T+0],vt=E[T+Y],ft=E[T+2*Y],$=27*(mt=Bf[1020+3*(Q-ot)+Bf[1020+st-vt]])+63>>7,J=18*mt+63>>7,mt=9*mt+63>>7;E[T-3*Y]=Jn[255+E[T-3*Y]+mt],E[T-2*Y]=Jn[255+st+J],E[T-Y]=Jn[255+ot+$],E[T+0]=Jn[255+Q-$],E[T+Y]=Jn[255+vt-J],E[T+2*Y]=Jn[255+ft-mt]}h+=v}}function kr(u,h,m,v,S,_,P,F){for(_=2*_+1;0<S--;){if(cu(u,h,m,_,P))if(lu(u,h,m,F))ho(u,h,m);else{var E=u,T=h,Y=m,st=E[T-Y],ot=E[T+0],Q=E[T+Y],vt=wu[112+((ft=3*(ot-st))+4>>3)],ft=wu[112+(ft+3>>3)],$=vt+1>>1;E[T-2*Y]=Jn[255+E[T-2*Y]+$],E[T-Y]=Jn[255+st+ft],E[T+0]=Jn[255+ot-vt],E[T+Y]=Jn[255+Q-$]}h+=v}}function wa(u,h,m,v,S,_){Ti(u,h,m,1,16,v,S,_)}function ps(u,h,m,v,S,_){Ti(u,h,1,m,16,v,S,_)}function jf(u,h,m,v,S,_){var P;for(P=3;0<P;--P)kr(u,h+=4*m,m,1,16,v,S,_)}function fo(u,h,m,v,S,_){var P;for(P=3;0<P;--P)kr(u,h+=4,1,m,16,v,S,_)}function Of(u,h,m,v,S,_,P,F){Ti(u,h,S,1,8,_,P,F),Ti(m,v,S,1,8,_,P,F)}function xa(u,h,m,v,S,_,P,F){Ti(u,h,1,S,8,_,P,F),Ti(m,v,1,S,8,_,P,F)}function Aa(u,h,m,v,S,_,P,F){kr(u,h+4*S,S,1,8,_,P,F),kr(m,v+4*S,S,1,8,_,P,F)}function fu(u,h,m,v,S,_,P,F){kr(u,h+4,1,S,8,_,P,F),kr(m,v+4,1,S,8,_,P,F)}function po(){this.ba=new yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ge,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Na(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function du(){this.ua=0,this.Wa=new H,this.vb=new H,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new C}function Rf(){this.xb=this.a=0,this.l=new oo,this.ca=new yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new du,this.ab=0,this.gc=o(4,Na),this.Oc=0}function go(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gs(u,h,m,v,S,_,P){for(u=u==null?0:u[h+0],h=0;h<P;++h)S[_+h]=u+m[v+h]&255,u=S[_+h]}function ka(u,h,m,v,S,_,P){var F;if(u==null)gs(null,null,m,v,S,_,P);else for(F=0;F<P;++F)S[_+F]=u[h+F]+m[v+F]&255}function ji(u,h,m,v,S,_,P){if(u==null)gs(null,null,m,v,S,_,P);else{var F,E=u[h+0],T=E,Y=E;for(F=0;F<P;++F)T=Y+(E=u[h+F])-T,Y=m[v+F]+(-256&T?0>T?0:255:T)&255,T=E,S[_+F]=Y}}function La(u,h,m,v){var S=h.width,_=h.o;if(t(u!=null&&h!=null),0>m||0>=v||m+v>_)return null;if(!u.Cc){if(u.ga==null){var P;if(u.ga=new go,(P=u.ga==null)||(P=h.width*h.o,t(u.Gb.length==0),u.Gb=s(P),u.Uc=0,u.Gb==null?P=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,P=1),P=!P),!P){P=u.ga;var F=u.Fa,E=u.P,T=u.qc,Y=u.mb,st=u.nb,ot=E+1,Q=T-1,vt=P.l;if(t(F!=null&&Y!=null&&h!=null),zi[0]=null,zi[1]=gs,zi[2]=ka,zi[3]=ji,P.ca=Y,P.tb=st,P.c=h.width,P.i=h.height,t(0<P.c&&0<P.i),1>=T)h=0;else if(P.$a=F[E+0]>>0&3,P.Z=F[E+0]>>2&3,P.Lc=F[E+0]>>4&3,E=F[E+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||E)h=0;else if(vt.put=Br,vt.ac=yn,vt.bc=qr,vt.ma=P,vt.width=h.width,vt.height=h.height,vt.Da=h.Da,vt.v=h.v,vt.va=h.va,vt.j=h.j,vt.o=h.o,P.$a)t:{t(P.$a==1),h=nr();e:for(;;){if(h==null){h=0;break t}if(t(P!=null),P.mc=h,h.c=P.c,h.i=P.i,h.l=P.l,h.l.ma=P,h.l.width=P.c,h.l.height=P.i,h.a=0,tt(h.m,F,ot,Q),!Hr(P.c,P.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ii(h.s)?(P.ic=1,F=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(F),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(P.ic=0,h=hs(h,P.c)),!h))break e;h=1;break t}P.mc=null,h=0}else h=Q>=P.c*P.i;P=!h}if(P)return null;u.ga.Lc!=1?u.Ga=0:v=_-m}t(u.ga!=null),t(m+v<=_);t:{if(h=(F=u.ga).c,_=F.l.o,F.$a==0){if(ot=u.rc,Q=u.Vc,vt=u.Fa,E=u.P+1+m*h,T=u.mb,Y=u.nb+m*h,t(E<=u.P+u.qc),F.Z!=0)for(t(zi[F.Z]!=null),P=0;P<v;++P)zi[F.Z](ot,Q,vt,E,T,Y,h),ot=T,Q=Y,Y+=h,E+=h;else for(P=0;P<v;++P)r(T,Y,vt,E,h),ot=T,Q=Y,Y+=h,E+=h;u.rc=ot,u.Vc=Q}else{if(t(F.mc!=null),h=m+v,t((P=F.mc)!=null),t(h<=P.i),P.C>=h)h=1;else if(F.ic||et(),F.ic){F=P.V,ot=P.Ba,Q=P.c;var ft=P.i,$=(vt=1,E=P.$/Q,T=P.$%Q,Y=P.m,st=P.s,P.$),J=Q*ft,mt=Q*h,yt=st.wc,bt=$<mt?nn(st,T,E):null;t($<=J),t(h<=ft),t(ii(st));e:for(;;){for(;!Y.h&&$<mt;){if(T&yt||(bt=nn(st,T,E)),t(bt!=null),K(Y),256>(ft=Bn(bt.G[0],bt.H[0],Y)))F[ot+$]=ft,++$,++T>=Q&&(T=0,++E<=h&&!(E%16)&&Ar(P,E));else{if(!(280>ft)){vt=0;break e}ft=wr(ft-256,Y);var Rt,Mt=Bn(bt.G[4],bt.H[4],Y);if(K(Y),!($>=(Mt=zr(Q,Mt=wr(Mt,Y)))&&J-$>=ft)){vt=0;break e}for(Rt=0;Rt<ft;++Rt)F[ot+$+Rt]=F[ot+$+Rt-Mt];for($+=ft,T+=ft;T>=Q;)T-=Q,++E<=h&&!(E%16)&&Ar(P,E);$<mt&&T&yt&&(bt=nn(st,T,E))}t(Y.h==z(Y))}Ar(P,E>h?h:E);break e}!vt||Y.h&&$<J?(vt=0,P.a=Y.h?5:3):P.$=$,h=vt}else h=Sr(P,P.V,P.Ba,P.c,P.i,h,eo);if(!h){v=0;break t}}m+v>=_&&(u.Cc=1),v=1}if(!v)return null;if(u.Cc&&((v=u.ga)!=null&&(v.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+m*S}function d(u,h,m,v,S,_){for(;0<S--;){var P,F=u,E=h+(m?1:0),T=u,Y=h+(m?0:3);for(P=0;P<v;++P){var st=T[Y+4*P];st!=255&&(st*=32897,F[E+4*P+0]=F[E+4*P+0]*st>>23,F[E+4*P+1]=F[E+4*P+1]*st>>23,F[E+4*P+2]=F[E+4*P+2]*st>>23)}h+=_}}function N(u,h,m,v,S){for(;0<v--;){var _;for(_=0;_<m;++_){var P=u[h+2*_+0],F=15&(T=u[h+2*_+1]),E=4369*F,T=(240&T|T>>4)*E>>16;u[h+2*_+0]=(240&P|P>>4)*E>>16&240|(15&P|P<<4)*E>>16>>4&15,u[h+2*_+1]=240&T|F}h+=S}}function R(u,h,m,v,S,_,P,F){var E,T,Y=255;for(T=0;T<S;++T){for(E=0;E<v;++E){var st=u[h+E];_[P+4*E]=st,Y&=st}h+=m,P+=F}return Y!=255}function V(u,h,m,v,S){var _;for(_=0;_<S;++_)m[v+_]=u[h+_]>>8}function et(){or=d,je=N,Oe=R,tn=V}function pt(u,h,m){j[u]=function(v,S,_,P,F,E,T,Y,st,ot,Q,vt,ft,$,J,mt,yt){var bt,Rt=yt-1>>1,Mt=F[E+0]|T[Y+0]<<16,Ut=st[ot+0]|Q[vt+0]<<16;t(v!=null);var Ft=3*Mt+Ut+131074>>2;for(h(v[S+0],255&Ft,Ft>>16,ft,$),_!=null&&(Ft=3*Ut+Mt+131074>>2,h(_[P+0],255&Ft,Ft>>16,J,mt)),bt=1;bt<=Rt;++bt){var be=F[E+bt]|T[Y+bt]<<16,Ne=st[ot+bt]|Q[vt+bt]<<16,ge=Mt+be+Ut+Ne+524296,ue=ge+2*(be+Ut)>>3;Ft=ue+Mt>>1,Mt=(ge=ge+2*(Mt+Ne)>>3)+be>>1,h(v[S+2*bt-1],255&Ft,Ft>>16,ft,$+(2*bt-1)*m),h(v[S+2*bt-0],255&Mt,Mt>>16,ft,$+(2*bt-0)*m),_!=null&&(Ft=ge+Ut>>1,Mt=ue+Ne>>1,h(_[P+2*bt-1],255&Ft,Ft>>16,J,mt+(2*bt-1)*m),h(_[P+2*bt+0],255&Mt,Mt>>16,J,mt+(2*bt+0)*m)),Mt=be,Ut=Ne}1&yt||(Ft=3*Mt+Ut+131074>>2,h(v[S+yt-1],255&Ft,Ft>>16,ft,$+(yt-1)*m),_!=null&&(Ft=3*Ut+Mt+131074>>2,h(_[P+yt-1],255&Ft,Ft>>16,J,mt+(yt-1)*m)))}}function wt(){lr[xu]=z4,lr[Au]=a2,lr[n2]=U4,lr[Su]=l2,lr[Nu]=u2,lr[qf]=c2,lr[r2]=H4,lr[zf]=a2,lr[Uf]=l2,lr[ku]=u2,lr[Hf]=c2}function Ot(u){return u&~W4?0>u?0:255:u>>h2}function zt(u,h){return Ot((19077*u>>8)+(26149*h>>8)-14234)}function ne(u,h,m){return Ot((19077*u>>8)-(6419*h>>8)-(13320*m>>8)+8708)}function te(u,h){return Ot((19077*u>>8)+(33050*h>>8)-17685)}function de(u,h,m,v,S){v[S+0]=zt(u,m),v[S+1]=ne(u,h,m),v[S+2]=te(u,h)}function Ue(u,h,m,v,S){v[S+0]=te(u,h),v[S+1]=ne(u,h,m),v[S+2]=zt(u,m)}function Ve(u,h,m,v,S){var _=ne(u,h,m);h=_<<3&224|te(u,h)>>3,v[S+0]=248&zt(u,m)|_>>5,v[S+1]=h}function rn(u,h,m,v,S){var _=240&te(u,h)|15;v[S+0]=240&zt(u,m)|ne(u,h,m)>>4,v[S+1]=_}function Pn(u,h,m,v,S){v[S+0]=255,de(u,h,m,v,S+1)}function pn(u,h,m,v,S){Ue(u,h,m,v,S),v[S+3]=255}function Lr(u,h,m,v,S){de(u,h,m,v,S),v[S+3]=255}function Xn(u,h){return 0>u?0:u>h?h:u}function Vr(u,h,m){j[u]=function(v,S,_,P,F,E,T,Y,st){for(var ot=Y+(-2&st)*m;Y!=ot;)h(v[S+0],_[P+0],F[E+0],T,Y),h(v[S+1],_[P+0],F[E+0],T,Y+m),S+=2,++P,++E,Y+=2*m;1&st&&h(v[S+0],_[P+0],F[E+0],T,Y)}}function pu(u,h,m){return m==0?u==0?h==0?6:5:h==0?4:0:m}function _a(u,h,m,v,S){switch(u>>>30){case 3:ui(h,m,v,S,0);break;case 2:Qe(h,m,v,S);break;case 1:In(h,m,v,S)}}function Ma(u,h){var m,v,S=h.M,_=h.Nb,P=u.oc,F=u.pc+40,E=u.oc,T=u.pc+584,Y=u.oc,st=u.pc+600;for(m=0;16>m;++m)P[F+32*m-1]=129;for(m=0;8>m;++m)E[T+32*m-1]=129,Y[st+32*m-1]=129;for(0<S?P[F-1-32]=E[T-1-32]=Y[st-1-32]=129:(i(P,F-32-1,127,21),i(E,T-32-1,127,9),i(Y,st-32-1,127,9)),v=0;v<u.za;++v){var ot=h.ya[h.aa+v];if(0<v){for(m=-1;16>m;++m)r(P,F+32*m-4,P,F+32*m+12,4);for(m=-1;8>m;++m)r(E,T+32*m-4,E,T+32*m+4,4),r(Y,st+32*m-4,Y,st+32*m+4,4)}var Q=u.Gd,vt=u.Hd+v,ft=ot.ad,$=ot.Hc;if(0<S&&(r(P,F-32,Q[vt].y,0,16),r(E,T-32,Q[vt].f,0,8),r(Y,st-32,Q[vt].ea,0,8)),ot.Za){var J=P,mt=F-32+16;for(0<S&&(v>=u.za-1?i(J,mt,Q[vt].y[15],4):r(J,mt,Q[vt+1].y,0,4)),m=0;4>m;m++)J[mt+128+m]=J[mt+256+m]=J[mt+384+m]=J[mt+0+m];for(m=0;16>m;++m,$<<=2)J=P,mt=F+d2[m],_r[ot.Ob[m]](J,mt),_a($,ft,16*+m,J,mt)}else if(J=pu(v,S,ot.Ob[0]),qi[J](P,F),$!=0)for(m=0;16>m;++m,$<<=2)_a($,ft,16*+m,P,F+d2[m]);for(m=ot.Gc,J=pu(v,S,ot.Dd),hi[J](E,T),hi[J](Y,st),$=ft,J=E,mt=T,255&(ot=m>>0)&&(170&ot?Ia($,256,J,mt):ir($,256,J,mt)),ot=Y,$=st,255&(m>>=8)&&(170&m?Ia(ft,320,ot,$):ir(ft,320,ot,$)),S<u.Ub-1&&(r(Q[vt].y,0,P,F+480,16),r(Q[vt].f,0,E,T+224,8),r(Q[vt].ea,0,Y,st+224,8)),m=8*_*u.B,Q=u.sa,vt=u.ta+16*v+16*_*u.R,ft=u.qa,ot=u.ra+8*v+m,$=u.Ha,J=u.Ia+8*v+m,m=0;16>m;++m)r(Q,vt+m*u.R,P,F+32*m,16);for(m=0;8>m;++m)r(ft,ot+m*u.B,E,T+32*m,8),r($,J+m*u.B,Y,st+32*m,8)}}function mo(u,h,m,v,S,_,P,F,E){var T=[0],Y=[0],st=0,ot=E!=null?E.kd:0,Q=E??new Sa;if(u==null||12>m)return 7;Q.data=u,Q.w=h,Q.ha=m,h=[h],m=[m],Q.gb=[Q.gb];t:{var vt=h,ft=m,$=Q.gb;if(t(u!=null),t(ft!=null),t($!=null),$[0]=0,12<=ft[0]&&!n(u,vt[0],"RIFF")){if(n(u,vt[0]+8,"WEBP")){$=3;break t}var J=Ct(u,vt[0]+4);if(12>J||4294967286<J){$=3;break t}if(ot&&J>ft[0]-8){$=7;break t}$[0]=J,vt[0]+=12,ft[0]-=12}$=0}if($!=0)return $;for(J=0<Q.gb[0],m=m[0];;){t:{var mt=u;ft=h,$=m;var yt=T,bt=Y,Rt=vt=[0];if((Ft=st=[st])[0]=0,8>$[0])$=7;else{if(!n(mt,ft[0],"VP8X")){if(Ct(mt,ft[0]+4)!=10){$=3;break t}if(18>$[0]){$=7;break t}var Mt=Ct(mt,ft[0]+8),Ut=1+It(mt,ft[0]+12);if(2147483648<=Ut*(mt=1+It(mt,ft[0]+15))){$=3;break t}Rt!=null&&(Rt[0]=Mt),yt!=null&&(yt[0]=Ut),bt!=null&&(bt[0]=mt),ft[0]+=18,$[0]-=18,Ft[0]=1}$=0}}if(st=st[0],vt=vt[0],$!=0)return $;if(ft=!!(2&vt),!J&&st)return 3;if(_!=null&&(_[0]=!!(16&vt)),P!=null&&(P[0]=ft),F!=null&&(F[0]=0),P=T[0],vt=Y[0],st&&ft&&E==null){$=0;break}if(4>m){$=7;break}if(J&&st||!J&&!st&&!n(u,h[0],"ALPH")){m=[m],Q.na=[Q.na],Q.P=[Q.P],Q.Sa=[Q.Sa];t:{Mt=u,$=h,J=m;var Ft=Q.gb;yt=Q.na,bt=Q.P,Rt=Q.Sa,Ut=22,t(Mt!=null),t(J!=null),mt=$[0];var be=J[0];for(t(yt!=null),t(Rt!=null),yt[0]=null,bt[0]=null,Rt[0]=0;;){if($[0]=mt,J[0]=be,8>be){$=7;break t}var Ne=Ct(Mt,mt+4);if(4294967286<Ne){$=3;break t}var ge=8+Ne+1&-2;if(Ut+=ge,0<Ft&&Ut>Ft){$=3;break t}if(!n(Mt,mt,"VP8 ")||!n(Mt,mt,"VP8L")){$=0;break t}if(be[0]<ge){$=7;break t}n(Mt,mt,"ALPH")||(yt[0]=Mt,bt[0]=mt+8,Rt[0]=Ne),mt+=ge,be-=ge}}if(m=m[0],Q.na=Q.na[0],Q.P=Q.P[0],Q.Sa=Q.Sa[0],$!=0)break}m=[m],Q.Ja=[Q.Ja],Q.xa=[Q.xa];t:if(Ft=u,$=h,J=m,yt=Q.gb[0],bt=Q.Ja,Rt=Q.xa,Mt=$[0],mt=!n(Ft,Mt,"VP8 "),Ut=!n(Ft,Mt,"VP8L"),t(Ft!=null),t(J!=null),t(bt!=null),t(Rt!=null),8>J[0])$=7;else{if(mt||Ut){if(Ft=Ct(Ft,Mt+4),12<=yt&&Ft>yt-12){$=3;break t}if(ot&&Ft>J[0]-8){$=7;break t}bt[0]=Ft,$[0]+=8,J[0]-=8,Rt[0]=Ut}else Rt[0]=5<=J[0]&&Ft[Mt+0]==47&&!(Ft[Mt+4]>>5),bt[0]=J[0];$=0}if(m=m[0],Q.Ja=Q.Ja[0],Q.xa=Q.xa[0],h=h[0],$!=0)break;if(4294967286<Q.Ja)return 3;if(F==null||ft||(F[0]=Q.xa?2:1),P=[P],vt=[vt],Q.xa){if(5>m){$=7;break}F=P,ot=vt,ft=_,u==null||5>m?u=0:5<=m&&u[h+0]==47&&!(u[h+4]>>5)?(J=[0],Ft=[0],yt=[0],tt(bt=new M,u,h,m),Wt(bt,J,Ft,yt)?(F!=null&&(F[0]=J[0]),ot!=null&&(ot[0]=Ft[0]),ft!=null&&(ft[0]=yt[0]),u=1):u=0):u=0}else{if(10>m){$=7;break}F=vt,u==null||10>m||!Zl(u,h+3,m-3)?u=0:(ot=u[h+0]|u[h+1]<<8|u[h+2]<<16,ft=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&ot||3<(ot>>1&7)||!(ot>>4&1)||ot>>5>=Q.Ja||!ft||!u?u=0:(P&&(P[0]=ft),F&&(F[0]=u),u=1))}if(!u||(P=P[0],vt=vt[0],st&&(T[0]!=P||Y[0]!=vt)))return 3;E!=null&&(E[0]=Q,E.offset=h-E.w,t(4294967286>h-E.w),t(E.offset==E.ha-m));break}return $==0||$==7&&st&&E==null?(_!=null&&(_[0]|=Q.na!=null&&0<Q.na.length),v!=null&&(v[0]=P),S!=null&&(S[0]=vt),0):$}function Pa(u,h,m){var v=h.width,S=h.height,_=0,P=0,F=v,E=S;if(h.Da=u!=null&&0<u.Da,h.Da&&(F=u.cd,E=u.bd,_=u.v,P=u.j,11>m||(_&=-2,P&=-2),0>_||0>P||0>=F||0>=E||_+F>v||P+E>S))return 0;if(h.v=_,h.j=P,h.va=_+F,h.o=P+E,h.U=F,h.T=E,h.da=u!=null&&0<u.da,h.da){if(!ee(F,E,m=[u.ib],_=[u.hb]))return 0;h.ib=m[0],h.hb=_[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*v/4&&h.hb<3*S/4,h.Kb=0),1}function Ca(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function bo(u,h,m,v){if(v==null||0>=u||0>=h)return 2;if(m!=null){if(m.Da){var S=m.cd,_=m.bd,P=-2&m.v,F=-2&m.j;if(0>P||0>F||0>=S||0>=_||P+S>u||F+_>h)return 2;u=S,h=_}if(m.da){if(!ee(u,h,S=[m.ib],_=[m.hb]))return 2;u=S[0],h=_[0]}}v.width=u,v.height=h;t:{var E=v.width,T=v.height;if(u=v.S,0>=E||0>=T||!(u>=xu&&13>u))u=2;else{if(0>=v.Rd&&v.sd==null){P=_=S=h=0;var Y=(F=E*p2[u])*T;if(11>u||(_=(T+1)/2*(h=(E+1)/2),u==12&&(P=(S=E)*T)),(T=s(Y+2*_+P))==null){u=1;break t}v.sd=T,11>u?((E=v.f.RGBA).eb=T,E.fb=0,E.A=F,E.size=Y):((E=v.f.kb).y=T,E.O=0,E.fa=F,E.Fd=Y,E.f=T,E.N=0+Y,E.Ab=h,E.Cd=_,E.ea=T,E.W=0+Y+_,E.Db=h,E.Ed=_,u==12&&(E.F=T,E.J=0+Y+2*_),E.Tc=P,E.lb=S)}if(h=1,S=v.S,_=v.width,P=v.height,S>=xu&&13>S)if(11>S)u=v.f.RGBA,h&=(F=Math.abs(u.A))*(P-1)+_<=u.size,h&=F>=_*p2[S],h&=u.eb!=null;else{u=v.f.kb,F=(_+1)/2,Y=(P+1)/2,E=Math.abs(u.fa),T=Math.abs(u.Ab);var st=Math.abs(u.Db),ot=Math.abs(u.lb),Q=ot*(P-1)+_;h&=E*(P-1)+_<=u.Fd,h&=T*(Y-1)+F<=u.Cd,h=(h&=st*(Y-1)+F<=u.Ed)&E>=_&T>=F&st>=F,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,S==12&&(h&=ot>=_,h&=Q<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||m!=null&&m.fd&&(u=Ca(v)),u}var wn=64,vo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yo=24,wo=32,Fa=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(u){return u},j.Predictor2=function(u,h,m){return h[m+0]},j.Predictor3=function(u,h,m){return h[m+1]},j.Predictor4=function(u,h,m){return h[m-1]},j.Predictor5=function(u,h,m){return Et(Et(u,h[m+1]),h[m+0])},j.Predictor6=function(u,h,m){return Et(u,h[m-1])},j.Predictor7=function(u,h,m){return Et(u,h[m+0])},j.Predictor8=function(u,h,m){return Et(h[m-1],h[m+0])},j.Predictor9=function(u,h,m){return Et(h[m+0],h[m+1])},j.Predictor10=function(u,h,m){return Et(Et(u,h[m-1]),Et(h[m+0],h[m+1]))},j.Predictor11=function(u,h,m){var v=h[m+0];return 0>=se(v>>24&255,u>>24&255,(h=h[m-1])>>24&255)+se(v>>16&255,u>>16&255,h>>16&255)+se(v>>8&255,u>>8&255,h>>8&255)+se(255&v,255&u,255&h)?v:u},j.Predictor12=function(u,h,m){var v=h[m+0];return(qt((u>>24&255)+(v>>24&255)-((h=h[m-1])>>24&255))<<24|qt((u>>16&255)+(v>>16&255)-(h>>16&255))<<16|qt((u>>8&255)+(v>>8&255)-(h>>8&255))<<8|qt((255&u)+(255&v)-(255&h)))>>>0},j.Predictor13=function(u,h,m){var v=h[m-1];return(Zt((u=Et(u,h[m+0]))>>24&255,v>>24&255)<<24|Zt(u>>16&255,v>>16&255)<<16|Zt(u>>8&255,v>>8&255)<<8|Zt(u>>0&255,v>>0&255))>>>0};var Df=j.PredictorAdd0;j.PredictorAdd1=oe,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var Ea=j.PredictorAdd2;le("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),le("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var gu,rr=j.ColorIndexInverseTransform,xo=j.MapARGB,mu=j.VP8LColorIndexInverseTransformAlpha,bu=j.MapAlpha,Oi=j.VP8LPredictorsAdd=[];Oi.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var ms,Un,En,Ri,ai,li,Ao,ui,Qe,Ia,In,ir,So,vu,Ta,bs,vs,Di,ys,No,ws,Bi,ja,sr,or,je,Oe,tn,un=s(511),ci=s(2041),Oa=s(225),ko=s(767),yu=0,Bf=ci,wu=Oa,Jn=ko,ar=un,xu=0,Au=1,n2=2,Su=3,Nu=4,qf=5,r2=6,zf=7,Uf=8,ku=9,Hf=10,_4=[2,3,7],M4=[3,3,11],i2=[280,256,256,256,40],P4=[0,1,1,1,0],C4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],F4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],E4=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],I4=8,Wf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ra=null,T4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],j4=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],s2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],O4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],R4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],D4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],B4=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qi=[],_r=[],hi=[],q4=1,o2=2,zi=[],lr=[];pt("UpsampleRgbLinePair",de,3),pt("UpsampleBgrLinePair",Ue,3),pt("UpsampleRgbaLinePair",Lr,4),pt("UpsampleBgraLinePair",pn,4),pt("UpsampleArgbLinePair",Pn,4),pt("UpsampleRgba4444LinePair",rn,2),pt("UpsampleRgb565LinePair",Ve,2);var z4=j.UpsampleRgbLinePair,U4=j.UpsampleBgrLinePair,a2=j.UpsampleRgbaLinePair,l2=j.UpsampleBgraLinePair,u2=j.UpsampleArgbLinePair,c2=j.UpsampleRgba4444LinePair,H4=j.UpsampleRgb565LinePair,Lu=16,_u=1<<Lu-1,Da=-227,Vf=482,h2=6,W4=(256<<h2)-1,f2=0,G4=s(256),V4=s(256),Y4=s(256),$4=s(256),X4=s(Vf-Da),J4=s(Vf-Da);Vr("YuvToRgbRow",de,3),Vr("YuvToBgrRow",Ue,3),Vr("YuvToRgbaRow",Lr,4),Vr("YuvToBgraRow",pn,4),Vr("YuvToArgbRow",Pn,4),Vr("YuvToRgba4444Row",rn,2),Vr("YuvToRgb565Row",Ve,2);var d2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Mu=[0,2,8],K4=[8,7,6,4,4,2,2,2,1,1,1,1],Z4=1;this.WebPDecodeRGBA=function(u,h,m,v,S){var _=Au,P=new po,F=new yr;P.ba=F,F.S=_,F.width=[F.width],F.height=[F.height];var E=F.width,T=F.height,Y=new ri;if(Y==null||u==null)var st=2;else t(Y!=null),st=mo(u,h,m,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(st!=0?E=0:(E!=null&&(E[0]=Y.width[0]),T!=null&&(T[0]=Y.height[0]),E=1),E){F.width=F.width[0],F.height=F.height[0],v!=null&&(v[0]=F.width),S!=null&&(S[0]=F.height);t:{if(v=new oo,(S=new Sa).data=u,S.w=h,S.ha=m,S.kd=1,h=[0],t(S!=null),((u=mo(S.data,S.w,S.ha,null,null,null,h,null,S))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(t(P!=null),v.data=S.data,v.w=S.w+S.offset,v.ha=S.ha-S.offset,v.put=Br,v.ac=yn,v.bc=qr,v.ma=P,S.xa){if((u=nr())==null){P=1;break t}if(function(ot,Q){var vt=[0],ft=[0],$=[0];e:for(;;){if(ot==null)return 0;if(Q==null)return ot.a=2,0;if(ot.l=Q,ot.a=0,tt(ot.m,Q.data,Q.w,Q.ha),!Wt(ot.m,vt,ft,$)){ot.a=3;break e}if(ot.xb=o2,Q.width=vt[0],Q.height=ft[0],!Hr(vt[0],ft[0],1,ot,null))break e;return 1}return t(ot.a!=0),0}(u,v)){if(v=(h=bo(v.width,v.height,P.Oa,P.ba))==0){e:{v=u;n:for(;;){if(v==null){v=0;break e}if(t(v.s.yc!=null),t(v.s.Ya!=null),t(0<v.s.Wb),t((m=v.l)!=null),t((S=m.ma)!=null),v.xb!=0){if(v.ca=S.ba,v.tb=S.tb,t(v.ca!=null),!Pa(S.Oa,m,Su)){v.a=2;break n}if(!hs(v,m.width)||m.da)break n;if((m.da||we(v.ca.S))&&et(),11>v.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),v.ca.f.kb.F!=null&&et()),v.Pb&&0<v.s.ua&&v.s.vb.X==null&&!Yt(v.s.vb,v.s.Wa.Xa)){v.a=1;break n}v.xb=0}if(!Sr(v,v.V,v.Ba,v.c,v.i,m.o,to))break n;S.Dc=v.Ma,v=1;break e}t(v.a!=0),v=0}v=!v}v&&(h=u.a)}else h=u.a}else{if((u=new yf)==null){P=1;break t}if(u.Fa=S.na,u.P=S.P,u.qc=S.Sa,Ql(u,v)){if((h=bo(v.width,v.height,P.Oa,P.ba))==0){if(u.Aa=0,m=P.Oa,t((S=u)!=null),m!=null){if(0<(E=0>(E=m.Md)?0:100<E?255:255*E/100)){for(T=Y=0;4>T;++T)12>(st=S.pb[T]).lc&&(st.ia=E*K4[0>st.lc?0:st.lc]>>3),Y|=st.ia;Y&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=m.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}wf(u,v)||(h=u.a)}}else h=u.a}h==0&&P.Oa!=null&&P.Oa.fd&&(h=Ca(P.ba))}P=h}_=P!=0?null:11>_?F.f.RGBA.eb:F.f.kb.y}else _=null;return _};var p2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(j,X){for(var rt="",L=0;L<4;L++)rt+=String.fromCharCode(j[X++]);return rt}function f(j,X){return(j[X+0]<<0|j[X+1]<<8|j[X+2]<<16)>>>0}function p(j,X){return(j[X+0]<<0|j[X+1]<<8|j[X+2]<<16|j[X+3]<<24)>>>0}new l;var b=[0],g=[0],x=[],w=new l,A=e,y=function(j,X){var rt={},L=0,C=!1,q=0,B=0;if(rt.frames=[],!function(O,z,G,K){for(var it=0;it<K;it++)if(O[z+it]!=G.charCodeAt(it))return!0;return!1}(j,X,"RIFF",4)){var at,nt;for(p(j,X+=4),X+=8;X<j.length;){var ht=c(j,X),tt=p(j,X+=4);X+=4;var lt=tt+(1&tt);switch(ht){case"VP8 ":case"VP8L":rt.frames[L]===void 0&&(rt.frames[L]={}),(M=rt.frames[L]).src_off=C?B:X-8,M.src_size=q+tt+8,L++,C&&(C=!1,q=0,B=0);break;case"VP8X":(M=rt.header={}).feature_flags=j[X];var dt=X+4;M.canvas_width=1+f(j,dt),dt+=3,M.canvas_height=1+f(j,dt),dt+=3;break;case"ALPH":C=!0,q=lt+8,B=X-8;break;case"ANIM":(M=rt.header).bgcolor=p(j,X),dt=X+4,M.loop_count=(at=j)[(nt=dt)+0]<<0|at[nt+1]<<8,dt+=2;break;case"ANMF":var Lt,M;(M=rt.frames[L]={}).offset_x=2*f(j,X),X+=3,M.offset_y=2*f(j,X),X+=3,M.width=1+f(j,X),X+=3,M.height=1+f(j,X),X+=3,M.duration=f(j,X),X+=3,Lt=j[X++],M.dispose=1&Lt,M.blend=Lt>>1&1}ht!="ANMF"&&(X+=lt)}return rt}}(A,0);y.response=A,y.rgbaoutput=!0,y.dataurl=!1;var k=y.header?y.header:null,I=y.frames?y.frames:null;if(k){k.loop_counter=k.loop_count,b=[k.canvas_height],g=[k.canvas_width];for(var U=0;U<I.length&&I[U].blend!=0;U++);}var D=I[0],Z=w.WebPDecodeRGBA(A,D.src_off,D.src_size,g,b);D.rgba=Z,D.imgwidth=g[0],D.imgheight=b[0];for(var W=0;W<g[0]*b[0]*4;W++)x[W]=Z[W];return this.width=g,this.height=b,this.data=x,this}(function(e){var t=function(){return typeof Oh=="function"},n=function(b,g,x,w){var A=4,y=o;switch(w){case e.image_compression.FAST:A=1,y=s;break;case e.image_compression.MEDIUM:A=6,y=a;break;case e.image_compression.SLOW:A=9,y=l}b=r(b,g,x,y);var k=Oh(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(k)},r=function(b,g,x,w){for(var A,y,k,I=b.length/g,U=new Uint8Array(b.length+I),D=f(),Z=0;Z<I;Z+=1){if(k=Z*g,A=b.subarray(k,k+g),w)U.set(w(A,x,y),k+Z);else{for(var W,j=D.length,X=[];W<j;W+=1)X[W]=D[W](A,x,y);var rt=p(X.concat());U.set(X[rt],k+Z)}y=A}return U},i=function(b){var g=Array.apply([],b);return g.unshift(0),g},s=function(b,g){var x,w=[],A=b.length;w[0]=1;for(var y=0;y<A;y+=1)x=b[y-g]||0,w[y+1]=b[y]-x+256&255;return w},o=function(b,g,x){var w,A=[],y=b.length;A[0]=2;for(var k=0;k<y;k+=1)w=x&&x[k]||0,A[k+1]=b[k]-w+256&255;return A},a=function(b,g,x){var w,A,y=[],k=b.length;y[0]=3;for(var I=0;I<k;I+=1)w=b[I-g]||0,A=x&&x[I]||0,y[I+1]=b[I]+256-(w+A>>>1)&255;return y},l=function(b,g,x){var w,A,y,k,I=[],U=b.length;I[0]=4;for(var D=0;D<U;D+=1)w=b[D-g]||0,A=x&&x[D]||0,y=x&&x[D-g]||0,k=c(w,A,y),I[D+1]=b[D]-k+256&255;return I},c=function(b,g,x){if(b===g&&g===x)return b;var w=Math.abs(g-x),A=Math.abs(b-x),y=Math.abs(b+g-x-x);return w<=A&&w<=y?b:A<=y?g:x},f=function(){return[i,s,o,a,l]},p=function(b){var g=b.map(function(x){return x.reduce(function(w,A){return w+Math.abs(A)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(b,g,x,w){var A,y,k,I,U,D,Z,W,j,X,rt,L,C,q,B,at=this.decode.FLATE_DECODE,nt="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(k=new J3(b)).imgData,y=k.bits,A=k.colorSpace,U=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){j=(W=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,rt=new Uint8Array(j*k.colors),X=new Uint8Array(j);var ht,tt=k.pixelBitlength-k.bits;for(q=0,B=0;q<j;q++){for(C=W[q],ht=0;ht<tt;)rt[B++]=C>>>ht&255,ht+=k.bits;X[q]=C>>>ht&255}}if(k.bits===16){j=(W=new Uint32Array(k.decodePixels().buffer)).length,rt=new Uint8Array(j*(32/k.pixelBitlength)*k.colors),X=new Uint8Array(j*(32/k.pixelBitlength)),L=k.colors>1,q=0,B=0;for(var lt=0;q<j;)C=W[q++],rt[B++]=C>>>0&255,L&&(rt[B++]=C>>>16&255,C=W[q++],rt[B++]=C>>>0&255),X[lt++]=C>>>16&255;y=8}w!==e.image_compression.NONE&&t()?(b=n(rt,k.width*k.colors,k.colors,w),Z=n(X,k.width,1,w)):(b=rt,Z=X,at=void 0)}if(k.colorType===3&&(A=this.color_spaces.INDEXED,D=k.palette,k.transparency.indexed)){var dt=k.transparency.indexed,Lt=0;for(q=0,j=dt.length;q<j;++q)Lt+=dt[q];if((Lt/=255)===j-1&&dt.indexOf(0)!==-1)I=[dt.indexOf(0)];else if(Lt!==j){for(W=k.decodePixels(),X=new Uint8Array(W.length),q=0,j=W.length;q<j;q++)X[q]=dt[W[q]];Z=n(X,k.width,1)}}var M=function(O){var z;switch(O){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(w);return at===this.decode.FLATE_DECODE&&(nt="/Predictor "+M+" "),nt+="/Colors "+U+" /BitsPerComponent "+y+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:x,data:b,index:g,filter:at,decodeParameters:nt,transparency:I,palette:D,sMask:Z,predictor:M,width:k.width,height:k.height,bitsPerComponent:y,colorSpace:A}}}})(Ht.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new K3(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},f=new Xh(100).encode(c,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(Ht.API),gr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gr.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Me.log("bit decode error:"+n)}},gr.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},gr.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},gr.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},gr.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=c}this.pos+=e}},gr.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=e}},gr.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},gr.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},gr.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new gr(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Xh(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Ht.API),xp.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new xp(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Xh(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Ht.API),Ht.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var f=r[c],p=r[c+1],b=r[c+2],g=r[c+3];s[a++]=f,s[a++]=p,s[a++]=b,o[l++]=g}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xs=Ht.API,Bl=Xs.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,p=t.doKerning!==!1,b=0,g=e.length,x=0,w=a[0]||l,A=[];for(n=0;n<g;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(b=p&&Se(c[r])==="object"&&!isNaN(parseInt(c[r][x],10))?c[r][x]/f:0,A.push((a[r]||w)/l+b)),x=r;return A},bp=Xs.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Xs.processArabic&&(e=Xs.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Bl.apply(this,arguments).reduce(function(s,o){return s+o},0)},vp=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},yp=function(e,t,n){n||(n={});var r,i,s,o,a,l,c,f=[],p=[f],b=n.textIndent||0,g=0,x=0,w=e.split(" "),A=Bl.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),k=[];w.map(function(U){(U=U.split(/\s*\n/)).length>1?k=k.concat(U.map(function(D,Z){return(Z&&D.length?`
`:"")+D})):k.push(U[0])}),w=k,l=bp.apply(this,[y,n])}for(s=0,o=w.length;s<o;s++){var I=0;if(r=w[s],l&&r[0]==`
`&&(r=r.substr(1),I=1),b+g+(x=(i=Bl.apply(this,[r,n])).reduce(function(U,D){return U+D},0))>t||I){if(x>t){for(a=vp.apply(this,[r,i,t-(b+g),t]),f.push(a.shift()),f=[a.pop()];a.length;)p.push([a.shift()]);x=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(U,D){return U+D},0)}else f=[r];p.push(f),b=x+l,g=A}else f.push(r),b+=g+x,g=A}return c=l?function(U,D){return(D?y:"")+U.join(" ")}:function(U){return U.join(" ")},p.map(c)},Xs.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(yp.apply(this,[r[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var b,g,x,w,A=["{"];for(var y in p){if(b=p[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=s(y).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof b=="number")b<0?(x=s(b).slice(3),w="-"):(x=s(b).slice(2),w=""),x=w+x.slice(0,-1)+r[x.slice(-1)];else{if(Se(b)!=="object")throw new Error("Don't know what to do with value type "+Se(b)+".");x=o(b)}A.push(g+x)}return A.push("}"),A.join("")},a=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,g,x,w,A={},y=1,k=A,I=[],U="",D="",Z=p.length-1,W=1;W<Z;W+=1)(w=p[W])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(w):w=="{"?(I.push([k,x]),k={},x=void 0):w=="}"?((g=I.pop())[0][g[1]]=k,x=void 0,k=g[0]):w=="-"?y=-1:x===void 0?n.hasOwnProperty(w)?(U+=n[w],x=parseInt(U,16)*y,y=1,U=""):U+=w:n.hasOwnProperty(w)?(D+=n[w],k[x]=parseInt(D,16)*y,y=1,x=void 0,D=""):D+=w;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var b=p.font,g=f.Unicode[b.postScriptName];g&&(b.metadata.Unicode={},b.metadata.Unicode.widths=g.widths,b.metadata.Unicode.kerning=g.kerning);var x=c.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(Ht.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(ia(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ht),function(e){function t(){return(Vt.canvg?Promise.resolve(Vt.canvg):import("canvg")).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ht.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw Me.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Me.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(x){return x.fromString(p,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),Ht.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ht.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,f=0,p=0;function b(x,w){var A,y=!1;for(A=0;A<x.length;A+=1)x[A]===w&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=a.length;for(p=0;p<g;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Se(e)==="object"){for(i in e)if(s=e[i],b(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&b(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(f=0;f<s[c].length;f+=1)typeof s[c][f]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,w=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?w.push("/"+x+" /"+n[x].value):w.push("/"+x+" "+n[x].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Ht.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],p=0,b=s.length;p<b;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(c[4-a.length],a)}return f.join("")},r=function(s){var o,a,l,c,f,p,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,b=(a=Object.keys(s).sort(function(g,x){return g-x})).length;p<b;p++)o=a[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,b=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",x=0;x<b.length;x++)g+=String.fromCharCode(b[x]);var w=c();f({data:g,addLength1:!0,objectId:w}),l("endobj");var A=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hs(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var k=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hs(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Hs(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+k+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,f=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,b="",g=0;g<p.length;g++)b+=String.fromCharCode(p[g]);var x=c();f({data:b,addLength1:!0,objectId:x}),l("endobj");var w=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var A=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Hs(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Hs(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,f=s.options||{},p=s.mutex||{},b=p.pdfEscape,g=p.activeFontKey,x=p.fonts,w=g,A="",y=0,k="",I=x[w].encoding;if(x[w].encoding!=="Identity-H")return{text:a,x:l,y:c,options:f,mutex:p};for(k=a,w=g,Array.isArray(a)&&(k=a[0]),y=0;y<k.length;y+=1)x[w].metadata.hasOwnProperty("cmap")&&(o=x[w].metadata.cmap.unicode.codeMap[k[y].charCodeAt(0)]),o||k[y].charCodeAt(0)<256&&x[w].metadata.hasOwnProperty("Unicode")?A+=k[y]:A+="";var U="";return parseInt(w.slice(1))<14||I==="WinAnsiEncoding"?U=b(A,w).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(U=n(A,x[w])),p.isHex=!0,{text:U,x:l,y:c,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ht),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ht.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,f,p=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,I=0;this.__bidiEngine__={};var U=function(L){var C=L.charCodeAt(),q=C>>8,B=w[q];return B!==void 0?p[256*B+(255&C)]:q===252||q===253?"AL":y.test(q)?"L":q===8?"R":"N"},D=function(L){for(var C,q=0;q<L.length;q++){if((C=U(L.charAt(q)))==="L")return!1;if(C==="R")return!0}return!1},Z=function(L,C,q,B){var at,nt,ht,tt,lt=C[B];switch(lt){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(lt="AN");break;case"AL":k=!0,lt="R";break;case"WS":lt="N";break;case"CS":B<1||B+1>=C.length||(at=q[B-1])!=="EN"&&at!=="AN"||(nt=C[B+1])!=="EN"&&nt!=="AN"?lt="N":k&&(nt="AN"),lt=nt===at?nt:"N";break;case"ES":lt=(at=B>0?q[B-1]:"B")==="EN"&&B+1<C.length&&C[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&q[B-1]==="EN"){lt="EN";break}if(k){lt="N";break}for(ht=B+1,tt=C.length;ht<tt&&C[ht]==="ET";)ht++;lt=ht<tt&&C[ht]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(tt=C.length,ht=B+1;ht<tt&&C[ht]==="NSM";)ht++;if(ht<tt){var dt=L[B],Lt=dt>=1425&&dt<=2303||dt===64286;if(at=C[ht],Lt&&(at==="R"||at==="AL")){lt="R";break}}}lt=B<1||(at=C[B-1])==="B"?"N":q[B-1];break;case"B":k=!1,i=!0,lt=I;break;case"S":s=!0,lt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":lt="N"}return lt},W=function(L,C,q){var B=L.split("");return q&&j(B,q,{hiLevel:I}),B.reverse(),C&&C.reverse(),B.join("")},j=function(L,C,q){var B,at,nt,ht,tt,lt=-1,dt=L.length,Lt=0,M=[],O=I?g:b,z=[];for(k=!1,i=!1,s=!1,at=0;at<dt;at++)z[at]=U(L[at]);for(nt=0;nt<dt;nt++){if(tt=Lt,M[nt]=Z(L,z,M,nt),B=240&(Lt=O[tt][x[M[nt]]]),Lt&=15,C[nt]=ht=O[Lt][5],B>0)if(B===16){for(at=lt;at<nt;at++)C[at]=1;lt=-1}else lt=-1;if(O[Lt][6])lt===-1&&(lt=nt);else if(lt>-1){for(at=lt;at<nt;at++)C[at]=ht;lt=-1}z[nt]==="B"&&(C[nt]=0),q.hiLevel|=ht}s&&function(G,K,it){for(var ut=0;ut<it;ut++)if(G[ut]==="S"){K[ut]=I;for(var ct=ut-1;ct>=0&&G[ct]==="WS";ct--)K[ct]=I}}(z,C,dt)},X=function(L,C,q,B,at){if(!(at.hiLevel<L)){if(L===1&&I===1&&!i)return C.reverse(),void(q&&q.reverse());for(var nt,ht,tt,lt,dt=C.length,Lt=0;Lt<dt;){if(B[Lt]>=L){for(tt=Lt+1;tt<dt&&B[tt]>=L;)tt++;for(lt=Lt,ht=tt-1;lt<ht;lt++,ht--)nt=C[lt],C[lt]=C[ht],C[ht]=nt,q&&(nt=q[lt],q[lt]=q[ht],q[ht]=nt);Lt=tt}Lt++}}},rt=function(L,C,q){var B=L.split(""),at={hiLevel:I};return q||(q=[]),j(B,q,at),function(nt,ht,tt){if(tt.hiLevel!==0&&f)for(var lt,dt=0;dt<nt.length;dt++)ht[dt]===1&&(lt=A.indexOf(nt[dt]))>=0&&(nt[dt]=A[lt+1])}(B,q,at),X(2,B,C,q,at),X(1,B,C,q,at),B.join("")};return this.__bidiEngine__.doBidiReorder=function(L,C,q){if(function(at,nt){if(nt)for(var ht=0;ht<at.length;ht++)nt[ht]=ht;a===void 0&&(a=D(at)),c===void 0&&(c=D(at))}(L,C),o||!l||c)if(o&&l&&a^c)I=a?1:0,L=W(L,C,q);else if(!o&&l&&c)I=a?1:0,L=rt(L,C,q),L=W(L,C);else if(!o||a||l||c){if(o&&!l&&a^c)L=W(L,C),a?(I=0,L=rt(L,C,q)):(I=1,L=rt(L,C,q),L=W(L,C));else if(o&&a&&!l&&c)I=1,L=rt(L,C,q),L=W(L,C);else if(!o&&!l&&a^c){var B=f;a?(I=1,L=rt(L,C,q),I=0,f=!1,L=rt(L,C,q),f=B):(I=0,L=rt(L,C,q),L=W(L,C),I=1,f=!1,L=rt(L,C,q),f=B,L=W(L,C))}}else I=0,L=rt(L,C,q);else I=a?1:0,L=rt(L,C,q);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,c=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ht),Ht.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Li(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new fw(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Z3(this.contents),this.head=new tw(this),this.name=new sw(this),this.cmap=new Sp(this),this.toUnicode={},this.hhea=new ew(this),this.maxp=new ow(this),this.hmtx=new aw(this),this.post=new rw(this),this.os2=new nw(this),this.loca=new hw(this),this.glyf=new lw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var mr,Li=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),Z3=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,a,l,c,f,p,b,g,x,w;for(w in g=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(g)/l),o=Math.floor(p/l),f=16*g-p,(i=new Li).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(f),s=16*g,c=i.pos+s,a=null,x=[],n)for(b=n[w],i.writeString(w),i.writeInt(e(b)),i.writeInt(c),i.writeInt(b.length),x=x.concat(b),w==="head"&&(a=c),c+=b.length;c%4;)x.push(0),c++;return i.write(x),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=Np.call(n);n.length%4;)n.push(0);for(s=new Li(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),Q3={}.hasOwnProperty,jr=function(e,t){for(var n in t)Q3.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};mr=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var tw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Li).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Ap=function(){function e(t,n){var r,i,s,o,a,l,c,f,p,b,g,x,w,A,y,k,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(g=t.readUInt16(),b=g/2,t.pos+=6,s=function(){var U,D;for(D=[],l=U=0;0<=b?U<b:U>b;l=0<=b?++U:--U)D.push(t.readUInt16());return D}(),t.pos+=2,w=function(){var U,D;for(D=[],l=U=0;0<=b?U<b:U>b;l=0<=b?++U:--U)D.push(t.readUInt16());return D}(),c=function(){var U,D;for(D=[],l=U=0;0<=b?U<b:U>b;l=0<=b?++U:--U)D.push(t.readUInt16());return D}(),f=function(){var U,D;for(D=[],l=U=0;0<=b?U<b:U>b;l=0<=b?++U:--U)D.push(t.readUInt16());return D}(),i=(this.length-t.pos+this.offset)/2,a=function(){var U,D;for(D=[],l=U=0;0<=i?U<i:U>i;l=0<=i?++U:--U)D.push(t.readUInt16());return D}(),l=y=0,I=s.length;y<I;l=++y)for(A=s[l],r=k=x=w[l];x<=A?k<=A:k>=A;r=x<=A?++k:--k)f[l]===0?o=r+c[l]:(o=a[f[l]/2+(r-x)-(b-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,i,s,o,a,l,c,f,p,b,g,x,w,A,y,k,I,U,D,Z,W,j,X,rt,L,C,q,B,at,nt,ht,tt,lt,dt,Lt,M,O,z,G,K,it,ut,ct,kt,At,It;switch(B=new Li,o=Object.keys(t).sort(function(Ct,Yt){return Ct-Yt}),n){case"macroman":for(w=0,A=function(){var Ct=[];for(x=0;x<256;++x)Ct.push(0);return Ct}(),k={0:0},s={},at=0,lt=o.length;at<lt;at++)k[ct=t[i=o[at]]]==null&&(k[ct]=++w),s[i]={old:t[i],new:k[t[i]]},A[i]=k[t[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(A),{charMap:s,subtable:B.data,maxGlyphID:w+1};case"unicode":for(C=[],p=[],I=0,k={},r={},y=c=null,nt=0,dt=o.length;nt<dt;nt++)k[D=t[i=o[nt]]]==null&&(k[D]=++I),r[i]={old:D,new:k[D]},a=k[D]-i,y!=null&&a===c||(y&&p.push(y),C.push(i),c=a),y=i;for(y&&p.push(y),p.push(65535),C.push(65535),rt=2*(X=C.length),j=2*Math.pow(Math.log(X)/Math.LN2,2),b=Math.log(j/2)/Math.LN2,W=2*X-j,l=[],Z=[],g=[],x=ht=0,Lt=C.length;ht<Lt;x=++ht){if(L=C[x],f=p[x],L===65535){l.push(0),Z.push(0);break}if(L-(q=r[L].new)>=32768)for(l.push(0),Z.push(2*(g.length+X-x)),i=tt=L;L<=f?tt<=f:tt>=f;i=L<=f?++tt:--tt)g.push(r[i].new);else l.push(q-L),Z.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*X+2*g.length),B.writeUInt16(0),B.writeUInt16(rt),B.writeUInt16(j),B.writeUInt16(b),B.writeUInt16(W),it=0,M=p.length;it<M;it++)i=p[it],B.writeUInt16(i);for(B.writeUInt16(0),ut=0,O=C.length;ut<O;ut++)i=C[ut],B.writeUInt16(i);for(kt=0,z=l.length;kt<z;kt++)a=l[kt],B.writeUInt16(a);for(At=0,G=Z.length;At<G;At++)U=Z[At],B.writeUInt16(U);for(It=0,K=g.length;It<K;It++)w=g[It],B.writeUInt16(w);return{charMap:r,subtable:B.data,maxGlyphID:I+1}}},e}(),Sp=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Ap(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Ap.encode(n,r),(s=new Li).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),ew=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),nw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),rw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},t}(),iw=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},sw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,a,l,c,f,p,b,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=p=0,b=i.length;p<b;o=++p)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new iw(f,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),ow=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),aw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,b,g;for(g=[],f=0,p=(b=this.metrics).length;f<p;f++)o=b[f],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Np=[].slice,lw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,f,p,b;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Li(r.read(s))).readShort(),f=l.readShort(),b=l.readShort(),c=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new cw(l,f,b,c,p):new uw(l,a,f,b,c,p),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),uw=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),cw=function(){function e(t,n,r,i,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Li(Np.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),hw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return jr(t,mr),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t}(),fw=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,a,l,c,f,p,b,g,x,w,A,y;for(i in r=Sp.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},y=r.charMap)g[(l=y[i]).old]=l.new;for(x in b=r.maxGlyphID,o)x in g||(g[x]=b++);return f=function(k){var I,U;for(I in U={},k)U[k[I]]=I;return U}(g),p=Object.keys(f).sort(function(k,I){return k-I}),w=function(){var k,I,U;for(U=[],k=0,I=p.length;k<I;k++)a=p[k],U.push(f[a]);return U}(),s=this.font.glyf.encode(o,w,g),c=this.font.loca.encode(s.offsets,w),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();Ht.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();function Jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}/*! https://mths.be/cssesc v3.0.0 by @mathias */var dw={},pw=dw.hasOwnProperty,gw=function(t,n){if(!t)return n;var r={};for(var i in n)r[i]=pw.call(t,i)?t[i]:n[i];return r},mw=/[ -,\.\/:-@\[-\^`\{-~]/,bw=/[ -,\.\/:-@\[\]\^`\{-~]/,vw=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Kh=function e(t,n){n=gw(n,e.options),n.quotes!="single"&&n.quotes!="double"&&(n.quotes="single");for(var r=n.quotes=="double"?'"':"'",i=n.isIdentifier,s=t.charAt(0),o="",a=0,l=t.length;a<l;){var c=t.charAt(a++),f=c.charCodeAt(),p=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&a<l){var b=t.charCodeAt(a++);(b&64512)==56320?f=((f&1023)<<10)+(b&1023)+65536:a--}p="\\"+f.toString(16).toUpperCase()+" "}else n.escapeEverything?mw.test(c)?p="\\"+c:p="\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(c)?p="\\"+f.toString(16).toUpperCase()+" ":c=="\\"||!i&&(c=='"'&&r==c||c=="'"&&r==c)||i&&bw.test(c)?p="\\"+c:p=c;o+=p}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(s)&&(o="\\3"+s+" "+o.slice(1))),o=o.replace(vw,function(g,x,w){return x&&x.length%2?g:(x||"")+w}),!i&&n.wrap?r+o+r:o};Kh.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},Kh.version="3.0.0";var yw=Kh;const kp=Jh(yw);var sa=0,Zh=1,Lp=2,ql=3,_p=4,Mp=5,Pp=6,Qh=/[a-z0-9_-]/i,zl=/[\s\t]/,ww=function(e){for(var t=!0,n=sa,r="",i=0,s,o,a=[];;){if(o=e[i],n===sa){if(!o&&t)break;if(!o&&!t)throw new Error("Parse error");if(o==='"'||o==="'")s=o,n=Zh,t=!1;else if(!zl.test(o))if(Qh.test(o))n=ql,t=!1,i--;else throw new Error("Parse error")}else if(n===Zh)if(o)o==="\\"?n=Lp:o===s?(a.push(r),r="",n=_p):r+=o;else throw new Error("Parse Error");else if(n===Lp)if(o===s||o==="\\")r+=o,n=Zh;else throw new Error("Parse error");else if(n===ql)if(o)Qh.test(o)?r+=o:o===","?(a.push(r),r="",n=sa):zl.test(o)?n=Mp:o==="\\"&&(n=Pp);else{a.push(r);break}else if(n===Pp){if(/[0-9a-f]/i.test(o))throw new Error("Parse error");r+=o,n=ql}else if(n===Mp)if(o){if(Qh.test(o))r+=" "+o,n=ql;else if(o===",")a.push(r),r="",n=sa;else if(!zl.test(o))throw new Error("Parse error")}else{a.push(r);break}else if(n===_p)if(o){if(o===",")n=sa;else if(!zl.test(o))throw new Error("Parse error")}else break;i++}return a},xw=/[^a-z0-9_-]/i,Aw=function(e,t){var n=t&&t.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Quote must be `'` or `\"`");for(var r=new RegExp(n,"g"),i=[],s=0;s<e.length;++s){var o=e[s];xw.test(o)&&(o=o.replace(/\\/g,"\\\\").replace(r,"\\"+n),o=n+o+n),i.push(o)}return i.join(", ")},Sw={parse:ww,stringify:Aw};const Nw=Jh(Sw);var Ul={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},kw=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Lw(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&kw.indexOf(e)>=0}function _w(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function Mw(e){return(e|32)===97}function Js(e){return e>=48&&e<=57}function Pw(e){return e>=48&&e<=57||e===43||e===45||e===46}function Cw(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function Hl(e){for(;e.index<e.max&&Lw(e.path.charCodeAt(e.index));)e.index++}function Fw(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function Ew(e){var t=e.index,n=t,r=e.max,i=!1,s=!1,o=!1,a=!1,l;if(n>=r){e.err="SvgPath: missed param (at pos "+n+")";return}if(l=e.path.charCodeAt(n),(l===43||l===45)&&(n++,l=n<r?e.path.charCodeAt(n):0),!Js(l)&&l!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(l!==46){if(i=l===48,n++,l=n<r?e.path.charCodeAt(n):0,i&&n<r&&l&&Js(l)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;n<r&&Js(e.path.charCodeAt(n));)n++,s=!0;l=n<r?e.path.charCodeAt(n):0}if(l===46){for(a=!0,n++;Js(e.path.charCodeAt(n));)n++,o=!0;l=n<r?e.path.charCodeAt(n):0}if(l===101||l===69){if(a&&!s&&!o){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,l=n<r?e.path.charCodeAt(n):0,(l===43||l===45)&&n++,n<r&&Js(e.path.charCodeAt(n)))for(;n<r&&Js(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(t,n))+0}function tf(e){var t,n;t=e.path[e.segmentStart],n=t.toLowerCase();var r=e.data;if(n==="m"&&r.length>2&&(e.result.push([t,r[0],r[1]]),r=r.slice(2),n="l",t=t==="m"?"l":"L"),n==="r")e.result.push([t].concat(r));else for(;r.length>=Ul[n]&&(e.result.push([t].concat(r.splice(0,Ul[n]))),!!Ul[n]););}function Iw(e){var t=e.max,n,r,i,s,o;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),r=Mw(n),!_w(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(s=Ul[e.path[e.index].toLowerCase()],e.index++,Hl(e),e.data=[],!s){tf(e);return}for(i=!1;;){for(o=s;o>0;o--){if(r&&(o===3||o===4)?Fw(e):Ew(e),e.err.length){tf(e);return}e.data.push(e.param),Hl(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,Hl(e),i=!0)}if(!i&&(e.index>=e.max||!Pw(e.path.charCodeAt(e.index))))break}tf(e)}var Tw=function(t){var n=new Cw(t),r=n.max;for(Hl(n);n.index<r&&!n.err.length;)Iw(n);return n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}};function jw(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}function br(){if(!(this instanceof br))return new br;this.queue=[],this.cache=null}br.prototype.matrix=function(e){return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0?this:(this.cache=null,this.queue.push(e),this)},br.prototype.translate=function(e,t){return(e!==0||t!==0)&&(this.cache=null,this.queue.push([1,0,0,1,e,t])),this},br.prototype.scale=function(e,t){return(e!==1||t!==1)&&(this.cache=null,this.queue.push([e,0,0,t,0,0])),this},br.prototype.rotate=function(e,t,n){var r,i,s;return e!==0&&(this.translate(t,n),r=e*Math.PI/180,i=Math.cos(r),s=Math.sin(r),this.queue.push([i,s,-s,i,0,0]),this.cache=null,this.translate(-t,-n)),this},br.prototype.skewX=function(e){return e!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(e*Math.PI/180),1,0,0])),this},br.prototype.skewY=function(e){return e!==0&&(this.cache=null,this.queue.push([1,Math.tan(e*Math.PI/180),0,1,0,0])),this},br.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var e=1;e<this.queue.length;e++)this.cache=jw(this.cache,this.queue[e]);return this.cache},br.prototype.calc=function(e,t,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),r=this.cache,[e*r[0]+t*r[2]+(n?0:r[4]),e*r[1]+t*r[3]+(n?0:r[5])]):[e,t]};var Cp=br,Ow=Cp,Rw={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Dw=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,Bw=/[\s,]+/,qw=function(t){var n=new Ow,r,i;return t.split(Dw).forEach(function(s){if(s.length){if(typeof Rw[s]<"u"){r=s;return}switch(i=s.split(Bw).map(function(o){return+o||0}),r){case"matrix":i.length===6&&n.matrix(i);return;case"scale":i.length===1?n.scale(i[0],i[0]):i.length===2&&n.scale(i[0],i[1]);return;case"rotate":i.length===1?n.rotate(i[0],0,0):i.length===3&&n.rotate(i[0],i[1],i[2]);return;case"translate":i.length===1?n.translate(i[0],0):i.length===2&&n.translate(i[0],i[1]);return;case"skewX":i.length===1&&n.skewX(i[0]);return;case"skewY":i.length===1&&n.skewY(i[0]);return}}}),n},oa=Math.PI*2;function Fp(e,t,n,r){var i=e*r-t*n<0?-1:1,s=e*n+t*r;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)}function zw(e,t,n,r,i,s,o,a,l,c){var f=c*(e-n)/2+l*(t-r)/2,p=-l*(e-n)/2+c*(t-r)/2,b=o*o,g=a*a,x=f*f,w=p*p,A=b*g-b*w-g*x;A<0&&(A=0),A/=b*w+g*x,A=Math.sqrt(A)*(i===s?-1:1);var y=A*o/a*p,k=A*-a/o*f,I=c*y-l*k+(e+n)/2,U=l*y+c*k+(t+r)/2,D=(f-y)/o,Z=(p-k)/a,W=(-f-y)/o,j=(-p-k)/a,X=Fp(1,0,D,Z),rt=Fp(D,Z,W,j);return s===0&&rt>0&&(rt-=oa),s===1&&rt<0&&(rt+=oa),[I,U,X,rt]}function Uw(e,t){var n=1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),s=Math.cos(e+t),o=Math.sin(e+t);return[r,i,r-i*n,i+r*n,s+o*n,o-s*n,s,o]}var Hw=function(t,n,r,i,s,o,a,l,c){var f=Math.sin(c*oa/360),p=Math.cos(c*oa/360),b=p*(t-r)/2+f*(n-i)/2,g=-f*(t-r)/2+p*(n-i)/2;if(b===0&&g===0)return[];if(a===0||l===0)return[];a=Math.abs(a),l=Math.abs(l);var x=b*b/(a*a)+g*g/(l*l);x>1&&(a*=Math.sqrt(x),l*=Math.sqrt(x));var w=zw(t,n,r,i,s,o,a,l,f,p),A=[],y=w[2],k=w[3],I=Math.max(Math.ceil(Math.abs(k)/(oa/4)),1);k/=I;for(var U=0;U<I;U++)A.push(Uw(y,k)),y+=k;return A.map(function(D){for(var Z=0;Z<D.length;Z+=2){var W=D[Z+0],j=D[Z+1];W*=a,j*=l;var X=p*W-f*j,rt=f*W+p*j;D[Z+0]=X+w[0],D[Z+1]=rt+w[1]}return D})},aa=1e-10,Ep=Math.PI/180;function la(e,t,n){if(!(this instanceof la))return new la(e,t,n);this.rx=e,this.ry=t,this.ax=n}la.prototype.transform=function(e){var t=Math.cos(this.ax*Ep),n=Math.sin(this.ax*Ep),r=[this.rx*(e[0]*t+e[2]*n),this.rx*(e[1]*t+e[3]*n),this.ry*(-e[0]*n+e[2]*t),this.ry*(-e[1]*n+e[3]*t)],i=r[0]*r[0]+r[2]*r[2],s=r[1]*r[1]+r[3]*r[3],o=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),a=(i+s)/2;if(o<aa*a)return this.rx=this.ry=Math.sqrt(a),this.ax=0,this;var l=r[0]*r[1]+r[2]*r[3];o=Math.sqrt(o);var c=a+o/2,f=a-o/2;return this.ax=Math.abs(l)<aa&&Math.abs(c-s)<aa?90:Math.atan(Math.abs(l)>Math.abs(c-s)?(c-i)/l:l/(c-s))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(c),this.ry=Math.sqrt(f)):(this.ax+=90,this.rx=Math.sqrt(f),this.ry=Math.sqrt(c)),this},la.prototype.isDegenerate=function(){return this.rx<aa*this.ry||this.ry<aa*this.rx};var Ww=la,Gw=Tw,Vw=qw,_i=Cp,Yw=Hw,$w=Ww;function ze(e){if(!(this instanceof ze))return new ze(e);var t=Gw(e);this.segments=t.segments,this.err=t.err,this.__stack=[]}ze.from=function(e){if(typeof e=="string")return new ze(e);if(e instanceof ze){var t=new ze("");return t.err=e.err,t.segments=e.segments.map(function(n){return n.slice()}),t.__stack=e.__stack.map(function(n){return _i().matrix(n.toArray())}),t}throw new Error("SvgPath.from: invalid param type "+e)},ze.prototype.__matrix=function(e){var t=this,n;e.queue.length&&this.iterate(function(r,i,s,o){var a,l,c,f;switch(r[0]){case"v":a=e.calc(0,r[1],!0),l=a[0]===0?["v",a[1]]:["l",a[0],a[1]];break;case"V":a=e.calc(s,r[1],!1),l=a[0]===e.calc(s,o,!1)[0]?["V",a[1]]:["L",a[0],a[1]];break;case"h":a=e.calc(r[1],0,!0),l=a[1]===0?["h",a[0]]:["l",a[0],a[1]];break;case"H":a=e.calc(r[1],o,!1),l=a[1]===e.calc(s,o,!1)[1]?["H",a[0]]:["L",a[0],a[1]];break;case"a":case"A":var p=e.toArray(),b=$w(r[1],r[2],r[3]).transform(p);if(p[0]*p[3]-p[1]*p[2]<0&&(r[5]=r[5]?"0":"1"),a=e.calc(r[6],r[7],r[0]==="a"),r[0]==="A"&&r[6]===s&&r[7]===o||r[0]==="a"&&r[6]===0&&r[7]===0){l=[r[0]==="a"?"l":"L",a[0],a[1]];break}b.isDegenerate()?l=[r[0]==="a"?"l":"L",a[0],a[1]]:l=[r[0],b.rx,b.ry,b.ax,r[4],r[5],a[0],a[1]];break;case"m":f=i>0,a=e.calc(r[1],r[2],f),l=["m",a[0],a[1]];break;default:for(c=r[0],l=[c],f=c.toLowerCase()===c,n=1;n<r.length;n+=2)a=e.calc(r[n],r[n+1],f),l.push(a[0],a[1])}t.segments[i]=l},!0)},ze.prototype.__evaluateStack=function(){var e,t;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(e=_i(),t=this.__stack.length;--t>=0;)e.matrix(this.__stack[t].toArray());this.__matrix(e),this.__stack=[]}},ze.prototype.toString=function(){var e="",t="",n=!1;this.__evaluateStack();for(var r=0,i=this.segments.length;r<i;r++){var s=this.segments[r],o=s[0];o!==t||o==="m"||o==="M"?(o==="m"&&t==="z"&&(e+=" "),e+=o,n=!1):n=!0;for(var a=1;a<s.length;a++){var l=s[a];a===1?n&&l>=0&&(e+=" "):l>=0&&(e+=" "),e+=l}t=o}return e},ze.prototype.translate=function(e,t){return this.__stack.push(_i().translate(e,t||0)),this},ze.prototype.scale=function(e,t){return this.__stack.push(_i().scale(e,!t&&t!==0?e:t)),this},ze.prototype.rotate=function(e,t,n){return this.__stack.push(_i().rotate(e,t||0,n||0)),this},ze.prototype.skewX=function(e){return this.__stack.push(_i().skewX(e)),this},ze.prototype.skewY=function(e){return this.__stack.push(_i().skewY(e)),this},ze.prototype.matrix=function(e){return this.__stack.push(_i().matrix(e)),this},ze.prototype.transform=function(e){return e.trim()?(this.__stack.push(Vw(e)),this):this},ze.prototype.round=function(e){var t=0,n=0,r=0,i=0,s;return e=e||0,this.__evaluateStack(),this.segments.forEach(function(o){var a=o[0].toLowerCase()===o[0];switch(o[0]){case"H":case"h":a&&(o[1]+=r),r=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"V":case"v":a&&(o[1]+=i),i=o[1]-o[1].toFixed(e),o[1]=+o[1].toFixed(e);return;case"Z":case"z":r=t,i=n;return;case"M":case"m":a&&(o[1]+=r,o[2]+=i),r=o[1]-o[1].toFixed(e),i=o[2]-o[2].toFixed(e),t=r,n=i,o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e);return;case"A":case"a":a&&(o[6]+=r,o[7]+=i),r=o[6]-o[6].toFixed(e),i=o[7]-o[7].toFixed(e),o[1]=+o[1].toFixed(e),o[2]=+o[2].toFixed(e),o[3]=+o[3].toFixed(e+2),o[6]=+o[6].toFixed(e),o[7]=+o[7].toFixed(e);return;default:s=o.length,a&&(o[s-2]+=r,o[s-1]+=i),r=o[s-2]-o[s-2].toFixed(e),i=o[s-1]-o[s-1].toFixed(e),o.forEach(function(l,c){c&&(o[c]=+o[c].toFixed(e))});return}}),this},ze.prototype.iterate=function(e,t){var n=this.segments,r={},i=!1,s=0,o=0,a=0,l=0,c,f,p;if(t||this.__evaluateStack(),n.forEach(function(b,g){var x=e(b,g,s,o);Array.isArray(x)&&(r[g]=x,i=!0);var w=b[0]===b[0].toLowerCase();switch(b[0]){case"m":case"M":s=b[1]+(w?s:0),o=b[2]+(w?o:0),a=s,l=o;return;case"h":case"H":s=b[1]+(w?s:0);return;case"v":case"V":o=b[1]+(w?o:0);return;case"z":case"Z":s=a,o=l;return;default:s=b[b.length-2]+(w?s:0),o=b[b.length-1]+(w?o:0)}}),!i)return this;for(p=[],c=0;c<n.length;c++)if(typeof r[c]<"u")for(f=0;f<r[c].length;f++)p.push(r[c][f]);else p.push(n[c]);return this.segments=p,this},ze.prototype.abs=function(){return this.iterate(function(e,t,n,r){var i=e[0],s=i.toUpperCase(),o;if(i!==s)switch(e[0]=s,i){case"v":e[1]+=r;return;case"a":e[6]+=n,e[7]+=r;return;default:for(o=1;o<e.length;o++)e[o]+=o%2?n:r}},!0),this},ze.prototype.rel=function(){return this.iterate(function(e,t,n,r){var i=e[0],s=i.toLowerCase(),o;if(i!==s&&!(t===0&&i==="M"))switch(e[0]=s,i){case"V":e[1]-=r;return;case"A":e[6]-=n,e[7]-=r;return;default:for(o=1;o<e.length;o++)e[o]-=o%2?n:r}},!0),this},ze.prototype.unarc=function(){return this.iterate(function(e,t,n,r){var i,s,o,a=[],l=e[0];return l!=="A"&&l!=="a"?null:(l==="a"?(s=n+e[6],o=r+e[7]):(s=e[6],o=e[7]),i=Yw(n,r,s,o,e[4],e[5],e[1],e[2],e[3]),i.length===0?[[e[0]==="a"?"l":"L",e[6],e[7]]]:(i.forEach(function(c){a.push(["C",c[2],c[3],c[4],c[5],c[6],c[7]])}),a))}),this},ze.prototype.unshort=function(){var e=this.segments,t,n,r,i,s;return this.iterate(function(o,a,l,c){var f=o[0],p=f.toUpperCase(),b;a&&(p==="T"?(b=f==="t",r=e[a-1],r[0]==="Q"?(t=r[1]-l,n=r[2]-c):r[0]==="q"?(t=r[1]-r[3],n=r[2]-r[4]):(t=0,n=0),i=-t,s=-n,b||(i+=l,s+=c),e[a]=[b?"q":"Q",i,s,o[1],o[2]]):p==="S"&&(b=f==="s",r=e[a-1],r[0]==="C"?(t=r[3]-l,n=r[4]-c):r[0]==="c"?(t=r[3]-r[5],n=r[4]-r[6]):(t=0,n=0),i=-t,s=-n,b||(i+=l,s+=c),e[a]=[b?"c":"C",i,s,o[1],o[2],o[3],o[4]]))}),this};var Xw=ze,Jw=Xw;const Kw=Jh(Jw);var Ip=function(e){var t=e,n,r={a:0,b:0,c:0},i=[],s=/(\[[^\]]+\])/g,o=/(#[^\#\s\+>~\.\[:\)]+)/g,a=/(\.[^\s\+>~\.\[:\)]+)/g,l=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,c=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,f=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,p=/([^\s\+>~\.\[:]+)/g;return n=function(b,g){var x,w,A,y,k,I;if(b.test(t))for(x=t.match(b),w=0,A=x.length;w<A;w+=1)r[g]+=1,y=x[w],k=t.indexOf(y),I=y.length,i.push({selector:e.substr(k,I),type:g,index:k,length:I}),t=t.replace(y,Array(I+1).join(" "))},function(){var b=function(A){var y,k,I,U;if(A.test(t))for(y=t.match(A),k=0,I=y.length;k<I;k+=1)U=y[k],t=t.replace(U,Array(U.length+1).join("A"))},g=/\\[0-9A-Fa-f]{6}\s?/g,x=/\\[0-9A-Fa-f]{1,5}\s/g,w=/\\./g;b(g),b(x),b(w)}(),function(){var b=/{[^]*/gm,g,x,w,A;if(b.test(t))for(g=t.match(b),x=0,w=g.length;x<w;x+=1)A=g[x],t=t.replace(A,Array(A.length+1).join(" "))}(),n(s,"b"),n(o,"a"),n(a,"b"),n(l,"c"),n(c,"b"),n(f,"b"),t=t.replace(/[\*\s\+>~]/g," "),t=t.replace(/[#\.]/g," "),t=t.replace(/:not/g,"    "),t=t.replace(/:local/g,"      "),t=t.replace(/:global/g,"       "),t=t.replace(/[\(\)]/g," "),n(p,"c"),i.sort(function(b,g){return b.index-g.index}),{selector:e,specificity:"0,"+r.a.toString()+","+r.b.toString()+","+r.c.toString(),specificityArray:[0,r.a,r.b,r.c],parts:i}},Zw=function(e,t){var n,r,i;if(typeof e=="string"){if(e.indexOf(",")!==-1)throw"Invalid CSS selector";n=Ip(e).specificityArray}else if(Array.isArray(e)){if(e.filter(function(s){return typeof s=="number"}).length!==4)throw"Invalid specificity array";n=e}else throw"Invalid CSS selector or specificity array";if(typeof t=="string"){if(t.indexOf(",")!==-1)throw"Invalid CSS selector";r=Ip(t).specificityArray}else if(Array.isArray(t)){if(t.filter(function(s){return typeof s=="number"}).length!==4)throw"Invalid specificity array";r=t}else throw"Invalid CSS selector or specificity array";for(i=0;i<4;i+=1){if(n[i]<r[i])return-1;if(n[i]>r[i])return 1}return 0};/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var Tp=function(e,t){return(Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])})(e,t)};function Pe(e,t){function n(){this.constructor=e}Tp(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ef=function(){return(ef=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ie(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(f){s(f)}}function a(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){var f;c.done?i(c.value):(f=c.value,f instanceof n?f:new n(function(p){p(f)})).then(o,a)}l((r=r.apply(e,[])).next())})}function Te(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return function(f){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&f[0]?r.return:f[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,f[1])).done)return i;switch(r=0,i&&(f=[2&f[0],i.value]),f[0]){case 0:case 1:i=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,r=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||f[0]!==6&&f[0]!==2)){o=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){o.label=f[1];break}if(f[0]===6&&o.label<i[1]){o.label=i[1],i=f;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(f);break}i[2]&&o.ops.pop(),o.trys.pop();continue}f=t.call(e,o)}catch(p){f=[6,p],r=0}finally{n=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([l,c])}}}var Or=function(){function e(t){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,t){for(var n in t.charAt(0)=="#"&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)t==n&&(t=this.simpleColors[n]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];for(var r=0;r<this.colorDefs.length;r++){var i=this.colorDefs[r].re,s=this.colorDefs[r].process,o=i.exec(t);if(o){var a=s(o);this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return e.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},e.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},e.prototype.toHex=function(){var t=this.r.toString(16),n=this.g.toString(16),r=this.b.toString(16);return t.length==1&&(t="0"+t),n.length==1&&(n="0"+n),r.length==1&&(r="0"+r),"#"+t+n+r},e.prototype.getHelpXML=function(){for(var t=[],n=0;n<this.colorDefs.length;n++)for(var r=this.colorDefs[n].example,i=0;i<r.length;i++)t[t.length]=r[i];for(var s in this.simpleColors)t[t.length]=s;var o=document.createElement("ul");for(o.setAttribute("id","rgbcolor-examples"),n=0;n<t.length;n++)try{var a=document.createElement("li"),l=new e(t[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex(),c.appendChild(document.createTextNode("test"));var f=document.createTextNode(" "+t[n]+" -> "+l.toRGB()+" -> "+l.toHex());a.appendChild(c),a.appendChild(f),o.appendChild(a)}catch{}return o},e}(),Fn=function(){function e(t){this.color=t}return e.prototype.getFillData=function(t,n){return Ie(this,void 0,void 0,function(){return Te(this,function(r){return[2,void 0]})})},e}(),Qw=function(){function e(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return e.prototype.clone=function(){var t=new e;return t.xmlSpace=this.xmlSpace,t.fill=this.fill,t.fillOpacity=this.fillOpacity,t.fontFamily=this.fontFamily,t.fontSize=this.fontSize,t.fontStyle=this.fontStyle,t.fontWeight=this.fontWeight,t.opacity=this.opacity,t.stroke=this.stroke,t.strokeDasharray=this.strokeDasharray,t.strokeDashoffset=this.strokeDashoffset,t.strokeLinecap=this.strokeLinecap,t.strokeLinejoin=this.strokeLinejoin,t.strokeMiterlimit=this.strokeMiterlimit,t.strokeOpacity=this.strokeOpacity,t.strokeWidth=this.strokeWidth,t.textAnchor=this.textAnchor,t.alignmentBaseline=this.alignmentBaseline,t.visibility=this.visibility,t.color=this.color,t},e.default=function(){var t=new e;return t.xmlSpace="default",t.fill=new Fn(new Or("rgb(0, 0, 0)")),t.fillOpacity=1,t.fontFamily="times",t.fontSize=16,t.fontStyle="normal",t.fontWeight="normal",t.opacity=1,t.stroke=null,t.strokeDasharray=null,t.strokeDashoffset=0,t.strokeLinecap="butt",t.strokeLinejoin="miter",t.strokeMiterlimit=4,t.strokeOpacity=1,t.strokeWidth=1,t.alignmentBaseline="baseline",t.textAnchor="start",t.visibility="visible",t.color=new Or("rgb(0, 0, 0)"),t},e}(),Mi=function(){function e(t,n){var r,i,s;this.pdf=t,this.svg2pdfParameters=n.svg2pdfParameters,this.attributeState=n.attributeState?n.attributeState.clone():Qw.default(),this.viewport=n.viewport,this.refsHandler=n.refsHandler,this.styleSheets=n.styleSheets,this.textMeasure=n.textMeasure,this.transform=(r=n.transform)!==null&&r!==void 0?r:this.pdf.unitMatrix,this.withinClipPath=(i=n.withinClipPath)!==null&&i!==void 0&&i,this.withinUse=(s=n.withinUse)!==null&&s!==void 0&&s}return e.prototype.clone=function(t){var n,r,i,s;return t===void 0&&(t={}),new e(this.pdf,{svg2pdfParameters:this.svg2pdfParameters,attributeState:t.attributeState?t.attributeState.clone():this.attributeState.clone(),viewport:(n=t.viewport)!==null&&n!==void 0?n:this.viewport,refsHandler:this.refsHandler,styleSheets:this.styleSheets,textMeasure:this.textMeasure,transform:(r=t.transform)!==null&&r!==void 0?r:this.transform,withinClipPath:(i=t.withinClipPath)!==null&&i!==void 0?i:this.withinClipPath,withinUse:(s=t.withinUse)!==null&&s!==void 0?s:this.withinUse})},e}(),jp=function(){function e(t){this.renderedElements={},this.idMap=t,this.idPrefix=String(e.instanceCounter++)}return e.prototype.getRendered=function(t,n,r){return Ie(this,void 0,void 0,function(){var i,s;return Te(this,function(o){switch(o.label){case 0:return i=this.generateKey(t,n),this.renderedElements.hasOwnProperty(i)?[2,this.renderedElements[t]]:(s=this.get(t),this.renderedElements[i]=s,[4,r(s)]);case 1:return o.sent(),[2,s]}})})},e.prototype.get=function(t){return this.idMap[kp(t,{isIdentifier:!0})]},e.prototype.generateKey=function(t,n){return this.idPrefix+"|"+t+"|"+(n||new Or("rgb(0,0,0)")).toRGBA()},e.instanceCounter=0,e}();function Op(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])}function Rp(e,t){return[2/3*(t[0]-e[0])+e[0],2/3*(t[1]-e[1])+e[1]]}function ua(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}function Ks(e,t){return ua([t[0]-e[0],t[1]-e[1]])}function Wl(e,t){return[e[0]+t[0],e[1]+t[1]]}function nf(e,t){var n=e[0],r=e[1];return[t.a*n+t.c*r+t.e,t.b*n+t.d*r+t.f]}var Zs=function(){function e(){this.segments=[]}return e.prototype.moveTo=function(t,n){return this.segments.push(new dn(t,n)),this},e.prototype.lineTo=function(t,n){return this.segments.push(new Pi(t,n)),this},e.prototype.curveTo=function(t,n,r,i,s,o){return this.segments.push(new Rr(t,n,r,i,s,o)),this},e.prototype.close=function(){return this.segments.push(new rf),this},e.prototype.transform=function(t){this.segments.forEach(function(n){if(n instanceof dn||n instanceof Pi||n instanceof Rr){var r=nf([n.x,n.y],t);n.x=r[0],n.y=r[1]}if(n instanceof Rr){var i=nf([n.x1,n.y1],t),s=nf([n.x2,n.y2],t);n.x1=i[0],n.y1=i[1],n.x2=s[0],n.y2=s[1]}})},e.prototype.draw=function(t){var n=t.pdf;this.segments.forEach(function(r){r instanceof dn?n.moveTo(r.x,r.y):r instanceof Pi?n.lineTo(r.x,r.y):r instanceof Rr?n.curveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):n.close()})},e}(),dn=function(e,t){this.x=e,this.y=t},Pi=function(e,t){this.x=e,this.y=t},Rr=function(e,t,n,r,i,s){this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.x=i,this.y=s},rf=function(){};function Ci(e,t){return t.split(",").indexOf((e.nodeName||e.tagName).toLowerCase())>=0}function Nt(e,t,n,r){var i;r===void 0&&(r=n);var s=(i=e.style)===null||i===void 0?void 0:i.getPropertyValue(r);if(s)return s;var o=t.getPropertyValue(e,r);return o||e.hasAttribute(n)&&e.getAttribute(n)||void 0}function ti(e,t,n){if(Nt(e.element,n.styleSheets,"display")==="none")return!1;var r=t,i=Nt(e.element,n.styleSheets,"visibility");return i&&(r=i!=="hidden"),r}function Fi(e,t,n){var r=ti(e,t,n);return e.element.childNodes.length!==0&&(e.children.forEach(function(i){i.isVisible(r,n)&&(r=!0)}),r)}var t4=function(){function e(){this.markers=[]}return e.prototype.addMarker=function(t){this.markers.push(t)},e.prototype.draw=function(t){return Ie(this,void 0,void 0,function(){var n,r,i,s,o,a,l;return Te(this,function(c){switch(c.label){case 0:n=0,c.label=1;case 1:return n<this.markers.length?(r=this.markers[n],i=void 0,s=r.angle,o=r.anchor,a=Math.cos(s),l=Math.sin(s),i=t.pdf.Matrix(a,l,-l,a,o[0],o[1]),i=t.pdf.matrixMult(t.pdf.Matrix(t.attributeState.strokeWidth,0,0,t.attributeState.strokeWidth,0,0),i),i=t.pdf.matrixMult(i,t.transform),t.pdf.saveGraphicsState(),[4,t.refsHandler.getRendered(r.id,null,function(f){return f.apply(t)})]):[3,4];case 2:c.sent(),t.pdf.doFormObject(r.id,i),t.pdf.restoreGraphicsState(),c.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e}(),Ei=function(e,t,n){this.id=e,this.anchor=t,this.angle=n},sf=/url\(["']?#([^"']+)["']?\)/,e4={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"};function ei(e,t){var n;return(n=e&&e.toString().match(/^([\-0-9.]+)em$/))?parseFloat(n[1])*t:(n=e&&e.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(n[1]):0}function Dp(e){return e4[e]||"alphabetic"}function er(e){for(var t,n=[],r=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;t=r.exec(e);)n.push(parseFloat(t[0]));return n}function Qs(e,t){if(e==="transparent"){var n=new Or("rgb(0,0,0)");return n.a=0,n}if(e.toLowerCase()==="currentcolor")return t||new Or("rgb(0,0,0)");var r=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(e);if(r){var i=er(r[1]),s=new Or("rgb("+i.slice(0,3).join(",")+")");return s.a=i[3],s}return new Or(e)}var ni={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},of,n4=(of=Ht.version.split("."),parseFloat(of[0])===2&&parseFloat(of[1])===3);function Bp(e,t){return n4?t==400?e=="italic"?"italic":"normal":t==700&&e!=="italic"?"bold":e+""+t:t==400||t==="normal"?e==="italic"?"italic":"normal":t!=700&&t!=="bold"||e!=="normal"?(t==700?"bold":t)+""+e:"bold"}function af(e,t){if(Nt(t.element,e.styleSheets,"display")==="none")return[0,0,0,0];var n=[0,0,0,0];return t.children.forEach(function(r){var i=r.getBoundingBox(e);n=[Math.min(n[0],i[0]),Math.min(n[1],i[1]),Math.max(n[0]+n[2],i[0]+i[2])-Math.min(n[0],i[0]),Math.max(n[1]+n[3],i[1]+i[3])-Math.min(n[1],i[1])]}),n}function ca(e,t){var n=parseFloat,r=n(e.getAttribute("x1"))||n(Nt(e,t.styleSheets,"x"))||n(Nt(e,t.styleSheets,"cx"))-n(Nt(e,t.styleSheets,"r"))||0,i=n(e.getAttribute("x2"))||r+n(Nt(e,t.styleSheets,"width"))||n(Nt(e,t.styleSheets,"cx"))+n(Nt(e,t.styleSheets,"r"))||0,s=n(e.getAttribute("y1"))||n(Nt(e,t.styleSheets,"y"))||n(Nt(e,t.styleSheets,"cy"))-n(Nt(e,t.styleSheets,"r"))||0,o=n(e.getAttribute("y2"))||s+n(Nt(e,t.styleSheets,"height"))||n(Nt(e,t.styleSheets,"cy"))+n(Nt(e,t.styleSheets,"r"))||0;return[Math.min(r,i),Math.min(s,o),Math.max(r,i)-Math.min(r,i),Math.max(s,o)-Math.min(s,o)]}function Gl(e,t,n,r,i,s,o,a){a===void 0&&(a=!1);var l,c,f=t[0],p=t[1],b=t[2],g=t[3],x=i/b,w=s/g,A=e.getAttribute("preserveAspectRatio");if(A){var y=A.split(" ");y[0]==="defer"&&(y=y.slice(1)),l=y[0],c=y[1]||"meet"}else l="xMidYMid",c="meet";if(l!=="none"&&(c==="meet"?x=w=Math.min(x,w):c==="slice"&&(x=w=Math.max(x,w))),a)return o.pdf.Matrix(x,0,0,w,0,0);var k=n-f*x,I=r-p*w;l.indexOf("xMid")>=0?k+=(i-b*x)/2:l.indexOf("xMax")>=0&&(k+=i-b*x),l.indexOf("YMid")>=0?I+=(s-g*w)/2:l.indexOf("YMax")>=0&&(I+=s-g*w);var U=o.pdf.Matrix(1,0,0,1,k,I),D=o.pdf.Matrix(x,0,0,w,0,0);return o.pdf.matrixMult(D,U)}function Vl(e,t){if(!e||e==="none")return t.pdf.unitMatrix;for(var n,r,i=/^[\s,]*matrix\(([^)]+)\)\s*/,s=/^[\s,]*translate\(([^)]+)\)\s*/,o=/^[\s,]*rotate\(([^)]+)\)\s*/,a=/^[\s,]*scale\(([^)]+)\)\s*/,l=/^[\s,]*skewX\(([^)]+)\)\s*/,c=/^[\s,]*skewY\(([^)]+)\)\s*/,f=t.pdf.unitMatrix;e.length>0&&e.length!==r;){r=e.length;var p=i.exec(e);if(p&&(n=er(p[1]),f=t.pdf.matrixMult(t.pdf.Matrix(n[0],n[1],n[2],n[3],n[4],n[5]),f),e=e.substr(p[0].length)),p=o.exec(e)){n=er(p[1]);var b=Math.PI*n[0]/180;if(f=t.pdf.matrixMult(t.pdf.Matrix(Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0),f),n[1]||n[2]){var g=t.pdf.Matrix(1,0,0,1,n[1],n[2]),x=t.pdf.Matrix(1,0,0,1,-n[1],-n[2]);f=t.pdf.matrixMult(x,t.pdf.matrixMult(f,g))}e=e.substr(p[0].length)}(p=s.exec(e))&&(n=er(p[1]),f=t.pdf.matrixMult(t.pdf.Matrix(1,0,0,1,n[0],n[1]||0),f),e=e.substr(p[0].length)),(p=a.exec(e))&&((n=er(p[1]))[1]||(n[1]=n[0]),f=t.pdf.matrixMult(t.pdf.Matrix(n[0],0,0,n[1],0,0),f),e=e.substr(p[0].length)),(p=l.exec(e))&&(n=parseFloat(p[1]),n*=Math.PI/180,f=t.pdf.matrixMult(t.pdf.Matrix(1,0,Math.tan(n),1,0,0),f),e=e.substr(p[0].length)),(p=c.exec(e))&&(n=parseFloat(p[1]),n*=Math.PI/180,f=t.pdf.matrixMult(t.pdf.Matrix(1,Math.tan(n),0,1,0,0),f),e=e.substr(p[0].length))}return f}var lf=function(){function e(t,n){this.element=t,this.children=n,this.parent=null}return e.prototype.setParent=function(t){this.parent=t},e.prototype.getParent=function(){return this.parent},e.prototype.getBoundingBox=function(t){return Nt(this.element,t.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(t)},e.prototype.computeNodeTransform=function(t){var n=this.computeNodeTransformCore(t),r=Nt(this.element,t.styleSheets,"transform");return r?t.pdf.matrixMult(n,Vl(r,t)):n},e}(),ha=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.render=function(n){return Promise.resolve()},t.prototype.getBoundingBoxCore=function(n){return[]},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t}(lf),qp=function(e){function t(n,r,i){var s=e.call(this,r,i)||this;return s.pdfGradientType=n,s.contextColor=void 0,s}return Pe(t,e),t.prototype.apply=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a,l;return Te(this,function(c){return(r=this.element.getAttribute("id"))?(i=this.getStops(n.styleSheets),s=0,o=!1,i.forEach(function(f){var p=f.opacity;p&&p!==1&&(s+=p,o=!0)}),o&&(a=new ss({opacity:s/i.length})),l=new Ni(this.pdfGradientType,this.getCoordinates(),i,a),n.pdf.addShadingPattern(r,l),[2]):[2]})})},t.prototype.getStops=function(n){var r=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var i=this;i;){var s=Nt(i.element,n,"color");if(s){this.contextColor=Qs(s,null);break}i=i.getParent()}}var o=[];return this.children.forEach(function(a){if(a.element.tagName.toLowerCase()==="stop"){var l=Nt(a.element,n,"color"),c=Qs(Nt(a.element,n,"stop-color")||"",l?Qs(l,null):r.contextColor),f=parseFloat(Nt(a.element,n,"stop-opacity")||"1");o.push({offset:t.parseGradientOffset(a.element.getAttribute("offset")||"0"),color:[c.r,c.g,c.b],opacity:f})}}),this.stops=o},t.prototype.getBoundingBoxCore=function(n){return ca(this.element,n)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t.parseGradientOffset=function(n){var r=parseFloat(n);return!isNaN(r)&&n.indexOf("%")>=0?r/100:r},t}(ha),zp=function(e){function t(n,r){return e.call(this,"axial",n,r)||this}return Pe(t,e),t.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},t}(qp),Up=function(e){function t(n,r){return e.call(this,"radial",n,r)||this}return Pe(t,e),t.prototype.getCoordinates=function(){var n=this.element.getAttribute("cx"),r=this.element.getAttribute("cy"),i=this.element.getAttribute("fx"),s=this.element.getAttribute("fy");return[parseFloat(i||n||"0.5"),parseFloat(s||r||"0.5"),0,parseFloat(n||"0.5"),parseFloat(r||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},t}(qp),r4=function(){function e(t,n){this.key=t,this.gradient=n}return e.prototype.getFillData=function(t,n){return Ie(this,void 0,void 0,function(){var r,i,s;return Te(this,function(o){switch(o.label){case 0:return[4,n.refsHandler.getRendered(this.key,null,function(a){return a.apply(new Mi(n.pdf,{refsHandler:n.refsHandler,textMeasure:n.textMeasure,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters}))})];case 1:return o.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?r=n.pdf.unitMatrix:(i=t.getBoundingBox(n),r=n.pdf.Matrix(i[2],0,0,i[3],i[0],i[1])),s=Vl(Nt(this.gradient.element,n.styleSheets,"gradientTransform","transform"),n),[2,{key:this.key,matrix:n.pdf.matrixMult(s,r)}]}})})},e}(),Hp=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.apply=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a;return Te(this,function(l){switch(l.label){case 0:if(!(r=this.element.getAttribute("id")))return[2];i=this.getBoundingBox(n),s=new os([i[0],i[1],i[0]+i[2],i[1]+i[3]],i[2],i[3]),n.pdf.beginTilingPattern(s),o=0,a=this.children,l.label=1;case 1:return o<a.length?[4,a[o].render(new Mi(n.pdf,{attributeState:n.attributeState,refsHandler:n.refsHandler,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}))]:[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return n.pdf.endTilingPattern(r,s),[2]}})})},t.prototype.getBoundingBoxCore=function(n){return ca(this.element,n)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t}(ha),i4=function(){function e(t,n){this.key=t,this.pattern=n}return e.prototype.getFillData=function(t,n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a,l,c,f,p,b,g,x;return Te(this,function(w){switch(w.label){case 0:return[4,n.refsHandler.getRendered(this.key,null,function(A){return A.apply(new Mi(n.pdf,{refsHandler:n.refsHandler,textMeasure:n.textMeasure,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters}))})];case 1:return w.sent(),r={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},s=n.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(i=t.getBoundingBox(n),s=n.pdf.Matrix(1,0,0,1,i[0],i[1]),a=this.pattern.getBoundingBox(n),l=a[0]*i[0]||0,c=a[1]*i[1]||0,f=a[2]*i[2]||0,p=a[3]*i[3]||0,r.boundingBox=[l,c,l+f,c+p],r.xStep=f,r.yStep=p),o=n.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(i||(i=t.getBoundingBox(n)),o=n.pdf.Matrix(i[2],0,0,i[3],0,0),a=r.boundingBox||this.pattern.getBoundingBox(n),l=a[0]/i[0]||0,c=a[1]/i[1]||0,f=a[2]/i[2]||0,p=a[3]/i[3]||0,r.boundingBox=[l,c,l+f,c+p],r.xStep=f,r.yStep=p),b=n.pdf.unitMatrix,(g=Nt(this.pattern.element,n.styleSheets,"patternTransform","transform"))&&(b=Vl(g,n)),x=o,x=n.pdf.matrixMult(x,s),x=n.pdf.matrixMult(x,b),x=n.pdf.matrixMult(x,n.transform),r.matrix=x,[2,r]}})})},e}();function s4(e,t){var n=sf.exec(e);if(n){var r=n[1],i=t.refsHandler.get(r);return i&&(i instanceof zp||i instanceof Up)?function(o,a,l){var c=a.getStops(l.styleSheets);if(c.length===0)return null;if(c.length===1){var f=c[0].color,p=new Or;return p.ok=!0,p.r=f[0],p.g=f[1],p.b=f[2],p.a=c[0].opacity,new Fn(p)}return new r4(o,a)}(r,i,t):i&&i instanceof Hp?new i4(r,i):new Fn(new Or("rgb(0, 0, 0)"))}var s=Qs(e,t.attributeState.color);return s.ok?new Fn(s):null}function uf(e,t,n){var r=n||t.element,i=Nt(r,e.styleSheets,"color");if(i){var s=Qs(i,e.attributeState.color);s.ok?e.attributeState.color=s:e.attributeState.color=new Or("rgb(0,0,0)")}var o=Nt(r,e.styleSheets,"visibility");o&&(e.attributeState.visibility=o);var a=Nt(r,e.styleSheets,"fill");a&&(e.attributeState.fill=s4(a,e));var l=Nt(r,e.styleSheets,"fill-opacity");l&&(e.attributeState.fillOpacity=parseFloat(l));var c=Nt(r,e.styleSheets,"stroke-opacity");c&&(e.attributeState.strokeOpacity=parseFloat(c));var f=Nt(r,e.styleSheets,"opacity");f&&(e.attributeState.opacity=parseFloat(f));var p=Nt(r,e.styleSheets,"stroke-width");p!==void 0&&p!==""&&(e.attributeState.strokeWidth=Math.abs(parseFloat(p)));var b=Nt(r,e.styleSheets,"stroke");if(b)if(b==="none")e.attributeState.stroke=null;else{var g=Qs(b,e.attributeState.color);g.ok&&(e.attributeState.stroke=new Fn(g))}var x=Nt(r,e.styleSheets,"stroke-linecap");x&&(e.attributeState.strokeLinecap=x);var w=Nt(r,e.styleSheets,"stroke-linejoin");w&&(e.attributeState.strokeLinejoin=w);var A=Nt(r,e.styleSheets,"stroke-dasharray");if(A){var y=parseInt(Nt(r,e.styleSheets,"stroke-dashoffset")||"0");e.attributeState.strokeDasharray=er(A),e.attributeState.strokeDashoffset=y}var k=Nt(r,e.styleSheets,"stroke-miterlimit");k!==void 0&&k!==""&&(e.attributeState.strokeMiterlimit=parseFloat(k));var I=r.getAttribute("xml:space");I&&(e.attributeState.xmlSpace=I);var U=Nt(r,e.styleSheets,"font-weight");U&&(e.attributeState.fontWeight=U);var D=Nt(r,e.styleSheets,"font-style");D&&(e.attributeState.fontStyle=D);var Z=Nt(r,e.styleSheets,"font-family");if(Z){var W=Nw.parse(Z);e.attributeState.fontFamily=function(q,B,at){var nt=Bp(q.fontStyle,q.fontWeight),ht=at.pdf.getFontList(),tt="";return B.some(function(lt){var dt=ht[lt];return dt&&dt.indexOf(nt)>=0?(tt=lt,!0):(lt=lt.toLowerCase(),!!ni.hasOwnProperty(lt)&&(tt=lt,!0))})||(tt="times"),tt}(e.attributeState,W,e)}var j=Nt(r,e.styleSheets,"font-size");if(j){var X=e.pdf.getFontSize();e.attributeState.fontSize=ei(j,X)}var rt=Nt(r,e.styleSheets,"vertical-align")||Nt(r,e.styleSheets,"alignment-baseline");if(rt){var L=rt.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);L&&(e.attributeState.alignmentBaseline=L[0])}var C=Nt(r,e.styleSheets,"text-anchor");C&&(e.attributeState.textAnchor=C)}function cf(e,t,n){var r=1,i=1;r*=e.attributeState.fillOpacity,r*=e.attributeState.opacity,e.attributeState.fill instanceof Fn&&e.attributeState.fill.color.a!==void 0&&(r*=e.attributeState.fill.color.a),i*=e.attributeState.strokeOpacity,i*=e.attributeState.opacity,e.attributeState.stroke instanceof Fn&&e.attributeState.stroke.color.a!==void 0&&(i*=e.attributeState.stroke.color.a);var s,o,a=r<1,l=i<1;if(Ci(n,"use")?(a=!0,l=!0,r*=e.attributeState.fill?1:0,i*=e.attributeState.stroke?1:0):e.withinUse&&(e.attributeState.fill!==t.attributeState.fill?(a=!0,r*=e.attributeState.fill?1:0):a&&!e.attributeState.fill&&(r=0),e.attributeState.stroke!==t.attributeState.stroke?(l=!0,i*=e.attributeState.stroke?1:0):l&&!e.attributeState.stroke&&(i=0)),a||l){var c={};a&&(c.opacity=r),l&&(c["stroke-opacity"]=i),e.pdf.setGState(new ss(c))}if(e.attributeState.fill&&e.attributeState.fill!==t.attributeState.fill&&e.attributeState.fill instanceof Fn&&e.attributeState.fill.color.ok&&!Ci(n,"text")&&e.pdf.setFillColor(e.attributeState.fill.color.r,e.attributeState.fill.color.g,e.attributeState.fill.color.b),e.attributeState.strokeWidth!==t.attributeState.strokeWidth&&e.pdf.setLineWidth(e.attributeState.strokeWidth),e.attributeState.stroke!==t.attributeState.stroke&&e.attributeState.stroke instanceof Fn&&e.pdf.setDrawColor(e.attributeState.stroke.color.r,e.attributeState.stroke.color.g,e.attributeState.stroke.color.b),e.attributeState.strokeLinecap!==t.attributeState.strokeLinecap&&e.pdf.setLineCap(e.attributeState.strokeLinecap),e.attributeState.strokeLinejoin!==t.attributeState.strokeLinejoin&&e.pdf.setLineJoin(e.attributeState.strokeLinejoin),e.attributeState.strokeDasharray===t.attributeState.strokeDasharray&&e.attributeState.strokeDashoffset===t.attributeState.strokeDashoffset||!e.attributeState.strokeDasharray||e.pdf.setLineDashPattern(e.attributeState.strokeDasharray,e.attributeState.strokeDashoffset),e.attributeState.strokeMiterlimit!==t.attributeState.strokeMiterlimit&&e.pdf.setLineMiterLimit(e.attributeState.strokeMiterlimit),e.attributeState.fontFamily!==t.attributeState.fontFamily&&(s=ni.hasOwnProperty(e.attributeState.fontFamily)?ni[e.attributeState.fontFamily]:e.attributeState.fontFamily),e.attributeState.fill&&e.attributeState.fill!==t.attributeState.fill&&e.attributeState.fill instanceof Fn&&e.attributeState.fill.color.ok){var f=e.attributeState.fill.color;e.pdf.setTextColor(f.r,f.g,f.b)}e.attributeState.fontWeight===t.attributeState.fontWeight&&e.attributeState.fontStyle===t.attributeState.fontStyle||(o=Bp(e.attributeState.fontStyle,e.attributeState.fontWeight)),s===void 0&&o===void 0||(s===void 0&&(s=ni.hasOwnProperty(e.attributeState.fontFamily)?ni[e.attributeState.fontFamily]:e.attributeState.fontFamily),e.pdf.setFont(s,o)),e.attributeState.fontSize!==t.attributeState.fontSize&&e.pdf.setFontSize(e.attributeState.fontSize*e.pdf.internal.scaleFactor)}function Wp(e,t,n){var r=sf.exec(e);if(r){var i=r[1];return n.refsHandler.get(i)||void 0}}function Gp(e,t,n){return Ie(this,void 0,void 0,function(){var r,i;return Te(this,function(s){switch(s.label){case 0:return r=n.clone(),t.element.hasAttribute("clipPathUnits")&&t.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(i=e.getBoundingBox(n),r.transform=n.pdf.matrixMult(n.pdf.Matrix(i[2],0,0,i[3],i[0],i[1]),n.transform)),[4,t.apply(r)];case 1:return s.sent(),[2]}})})}var Vp=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.render=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o;return Te(this,function(a){switch(a.label){case 0:return this.isVisible(n.attributeState.visibility!=="hidden",n)?((r=n.clone()).transform=r.pdf.matrixMult(this.computeNodeTransform(r),n.transform),uf(r,this),i=Nt(this.element,r.styleSheets,"clip-path"),(s=i&&i!=="none")?(o=Wp(i,0,r))?o.isVisible(!0,r)?(r.pdf.saveGraphicsState(),[4,Gp(this,o,r)]):[3,2]:[3,4]:[3,5]):[2];case 1:return a.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:s=!1,a.label=5;case 5:return r.withinClipPath||r.pdf.saveGraphicsState(),cf(r,n,this.element),[4,this.renderCore(r)];case 6:return a.sent(),r.withinClipPath||r.pdf.restoreGraphicsState(),s&&r.pdf.restoreGraphicsState(),[2]}})})},t}(lf),Yl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t}(Vp),fa=function(e){function t(n,r,i){var s=e.call(this,r,i)||this;return s.cachedPath=null,s.hasMarkers=n,s}return Pe(t,e),t.prototype.renderCore=function(n){return Ie(this,void 0,void 0,function(){var r;return Te(this,function(i){switch(i.label){case 0:return(r=this.getCachedPath(n))===null||r.segments.length===0?[2]:(n.withinClipPath?r.transform(n.transform):n.pdf.setCurrentTransformationMatrix(n.transform),r.draw(n),[4,this.fillOrStroke(n)]);case 1:return i.sent(),this.hasMarkers?[4,this.drawMarkers(n,r)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.getCachedPath=function(n){return this.cachedPath||(this.cachedPath=this.getPath(n))},t.prototype.drawMarkers=function(n,r){return Ie(this,void 0,void 0,function(){return Te(this,function(i){switch(i.label){case 0:return[4,this.getMarkers(r,n).draw(n.clone({transform:n.pdf.unitMatrix}))];case 1:return i.sent(),[2]}})})},t.prototype.fillOrStroke=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a;return Te(this,function(l){switch(l.label){case 0:return n.withinClipPath?[2]:(r=n.attributeState.fill,i=n.attributeState.stroke&&n.attributeState.strokeWidth!==0,r?[4,r.getFillData(this,n)]:[3,2]);case 1:return o=l.sent(),[3,3];case 2:o=void 0,l.label=3;case 3:return s=o,a=Nt(this.element,n.styleSheets,"fill-rule")==="evenodd",r&&i||n.withinUse?a?n.pdf.fillStrokeEvenOdd(s):n.pdf.fillStroke(s):r?a?n.pdf.fillEvenOdd(s):n.pdf.fill(s):i?n.pdf.stroke():n.pdf.discardPath(),[2]}})})},t.prototype.getBoundingBoxCore=function(n){var r=this.getCachedPath(n);if(!r||!r.segments.length)return[0,0,0,0];for(var i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=0,c=0,f=0;f<r.segments.length;f++){var p=r.segments[f];(p instanceof dn||p instanceof Pi||p instanceof Rr)&&(l=p.x,c=p.y),p instanceof Rr?(i=Math.min(i,l,p.x1,p.x2,p.x),o=Math.max(o,l,p.x1,p.x2,p.x),s=Math.min(s,c,p.y1,p.y2,p.y),a=Math.max(a,c,p.y1,p.y2,p.y)):(i=Math.min(i,l),o=Math.max(o,l),s=Math.min(s,c),a=Math.max(a,c))}return[i,s,o-i,a-s]},t.prototype.getMarkers=function(n,r){var i=Nt(this.element,r.styleSheets,"marker-start"),s=Nt(this.element,r.styleSheets,"marker-mid"),o=Nt(this.element,r.styleSheets,"marker-end"),a=new t4;if(i||s||o){o&&(o=hf(o)),i&&(i=hf(i)),s&&(s=hf(s));for(var l=n.segments,c=[1,0],f=void 0,p=!1,b=[1,0],g=!1,x=function(A){var y=l[A],k=i&&(A===1||!(l[A]instanceof dn)&&l[A-1]instanceof dn);k&&l.forEach(function(j,X){if(!g&&j instanceof rf&&X>A){var rt=l[X-1];g=(rt instanceof dn||rt instanceof Pi||rt instanceof Rr)&&rt}});var I=o&&(A===l.length-1||!(l[A]instanceof dn)&&l[A+1]instanceof dn),U=s&&A>0&&!(A===1&&l[A-1]instanceof dn),D=l[A-1]||null;if(D instanceof dn||D instanceof Pi||D instanceof Rr)if(y instanceof Rr)k&&a.addMarker(new Ei(i,[D.x,D.y],Op(g?[g.x,g.y]:[D.x,D.y],[y.x1,y.y1]))),I&&a.addMarker(new Ei(o,[y.x,y.y],Op([y.x2,y.y2],[y.x,y.y]))),U&&(f=Ks([D.x,D.y],[y.x1,y.y1]),f=D instanceof dn?f:ua(Wl(c,f)),a.addMarker(new Ei(s,[D.x,D.y],Math.atan2(f[1],f[0])))),c=Ks([y.x2,y.y2],[y.x,y.y]);else if(y instanceof dn||y instanceof Pi){if(f=Ks([D.x,D.y],[y.x,y.y]),k){var Z=g?Ks([g.x,g.y],[y.x,y.y]):f;a.addMarker(new Ei(i,[D.x,D.y],Math.atan2(Z[1],Z[0])))}I&&a.addMarker(new Ei(o,[y.x,y.y],Math.atan2(f[1],f[0]))),U&&(Z=y instanceof dn?c:D instanceof dn?f:ua(Wl(c,f)),a.addMarker(new Ei(s,[D.x,D.y],Math.atan2(Z[1],Z[0])))),c=f}else y instanceof rf&&(f=Ks([D.x,D.y],[p.x,p.y]),U&&(Z=D instanceof dn?f:ua(Wl(c,f)),a.addMarker(new Ei(s,[D.x,D.y],Math.atan2(Z[1],Z[0])))),I&&(Z=ua(Wl(f,b)),a.addMarker(new Ei(o,[p.x,p.y],Math.atan2(Z[1],Z[0])))),c=f);else{p=y instanceof dn&&y;var W=l[A+1];(W instanceof dn||W instanceof Pi||W instanceof Rr)&&(b=Ks([p.x,p.y],[W.x,W.y]))}},w=0;w<l.length;w++)x(w)}return a},t}(Yl);function hf(e){var t=sf.exec(e);return t&&t[1]||void 0}var o4=function(e){function t(n,r){return e.call(this,!0,n,r)||this}return Pe(t,e),t.prototype.getPath=function(n){if(n.withinClipPath||n.attributeState.stroke===null)return null;var r=parseFloat(this.element.getAttribute("x1")||"0"),i=parseFloat(this.element.getAttribute("y1")||"0"),s=parseFloat(this.element.getAttribute("x2")||"0"),o=parseFloat(this.element.getAttribute("y2")||"0");return r||s||i||o?new Zs().moveTo(r,i).lineTo(s,o):null},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t.prototype.fillOrStroke=function(n){return Ie(this,void 0,void 0,function(){return Te(this,function(r){switch(r.label){case 0:return n.attributeState.fill=null,[4,e.prototype.fillOrStroke.call(this,n)];case 1:return r.sent(),[2]}})})},t}(fa),Yp=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.apply=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a;return Te(this,function(l){switch(l.label){case 0:return this.isVisible(n.attributeState.visibility!=="hidden",n)?((r=n.clone()).transform=r.pdf.unitMatrix,uf(r,this),i=Nt(this.element,r.styleSheets,"clip-path"),i&&i!=="none"&&(s=Wp(i,0,r))?s.isVisible(!0,r)?[4,Gp(this,s,r)]:[3,2]:[3,3]):[2];case 1:return l.sent(),[3,3];case 2:return[2];case 3:cf(r,n,this.element),o=0,a=this.children,l.label=4;case 4:return o<a.length?[4,a[o].render(r)]:[3,7];case 5:l.sent(),l.label=6;case 6:return o++,[3,4];case 7:return[2]}})})},t.prototype.getBoundingBoxCore=function(n){return af(n,this)},t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t.prototype.computeNodeTransformCore=function(n){var r=parseFloat(Nt(this.element,n.styleSheets,"x")||"0"),i=parseFloat(Nt(this.element,n.styleSheets,"y")||"0"),s=this.element.getAttribute("viewBox");if(s){var o=er(s),a=parseFloat(Nt(this.element,n.styleSheets,"width")||Nt(this.element.ownerSVGElement,n.styleSheets,"width")||s[2]),l=parseFloat(Nt(this.element,n.styleSheets,"height")||Nt(this.element.ownerSVGElement,n.styleSheets,"height")||s[3]);return Gl(this.element,o,r,i,a,l,n)}return n.pdf.Matrix(1,0,0,1,r,i)},t}(ha),$l=function(e,t){this.width=e,this.height=t},a4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.renderCore=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a,l,c,f,p,b,g,x,w;return Te(this,function(A){switch(A.label){case 0:return r=parseFloat,(i=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(s=i.substring(1),o=n.refsHandler.get(s),a=Ci(o.element,"symbol,svg")&&o.element.hasAttribute("viewBox"),l=r(Nt(this.element,n.styleSheets,"x")||"0"),c=r(Nt(this.element,n.styleSheets,"y")||"0"),f=void 0,p=void 0,a?(f=r(Nt(this.element,n.styleSheets,"width")||Nt(o.element,n.styleSheets,"width")||"0"),p=r(Nt(this.element,n.styleSheets,"height")||Nt(o.element,n.styleSheets,"height")||"0"),l+=r(Nt(o.element,n.styleSheets,"x")||"0"),c+=r(Nt(o.element,n.styleSheets,"y")||"0"),g=er(o.element.getAttribute("viewBox")),b=Gl(o.element,g,l,c,f,p,n)):b=n.pdf.Matrix(1,0,0,1,l,c),x=new Mi(n.pdf,{refsHandler:n.refsHandler,styleSheets:n.styleSheets,withinUse:!0,viewport:a?new $l(f,p):n.viewport,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}),w=n.attributeState.color,[4,n.refsHandler.getRendered(s,w,function(y){return t.renderReferencedNode(y,s,w,x)})]):[2];case 1:return A.sent(),n.pdf.saveGraphicsState(),n.pdf.setCurrentTransformationMatrix(n.transform),a&&Nt(o.element,n.styleSheets,"overflow")!=="visible"&&(n.pdf.rect(l,c,f,p),n.pdf.clip().discardPath()),n.pdf.doFormObject(n.refsHandler.generateKey(s,w),b),n.pdf.restoreGraphicsState(),[2]}})})},t.renderReferencedNode=function(n,r,i,s){return Ie(this,void 0,void 0,function(){var o;return Te(this,function(a){switch(a.label){case 0:return o=[(o=n.getBoundingBox(s))[0]-.5*o[2],o[1]-.5*o[3],2*o[2],2*o[3]],s.attributeState.color=i,s.pdf.beginFormObject(o[0],o[1],o[2],o[3],s.pdf.unitMatrix),n instanceof Yp?[4,n.apply(s)]:[3,2];case 1:return a.sent(),[3,4];case 2:return[4,n.render(s)];case 3:a.sent(),a.label=4;case 4:return s.pdf.endFormObject(s.refsHandler.generateKey(r,i)),[2]}})})},t.prototype.getBoundingBoxCore=function(n){return ca(this.element,n)},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t}(Yl),l4=function(e){function t(n,r){return e.call(this,!1,n,r)||this}return Pe(t,e),t.prototype.getPath=function(n){var r=parseFloat(Nt(this.element,n.styleSheets,"width")||"0"),i=parseFloat(Nt(this.element,n.styleSheets,"height")||"0");if(!isFinite(r)||r<=0||!isFinite(i)||i<=0)return null;var s=Nt(this.element,n.styleSheets,"rx"),o=Nt(this.element,n.styleSheets,"ry"),a=Math.min(parseFloat(s||o||"0"),.5*r),l=Math.min(parseFloat(o||s||"0"),.5*i),c=parseFloat(Nt(this.element,n.styleSheets,"x")||"0"),f=parseFloat(Nt(this.element,n.styleSheets,"y")||"0"),p=4/3*(Math.SQRT2-1);return a===0&&l===0?new Zs().moveTo(c,f).lineTo(c+r,f).lineTo(c+r,f+i).lineTo(c,f+i).close():new Zs().moveTo(c+=a,f).lineTo(c+=r-2*a,f).curveTo(c+a*p,f,c+a,f+(l-l*p),c+=a,f+=l).lineTo(c,f+=i-2*l).curveTo(c,f+l*p,c-a*p,f+l,c-=a,f+=l).lineTo(c+=2*a-r,f).curveTo(c-a*p,f,c-a,f-l*p,c-=a,f-=l).lineTo(c,f+=2*l-i).curveTo(c,f-l*p,c+a*p,f-l,c+=a,f-=l).close()},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t}(fa),$p=function(e){function t(n,r){return e.call(this,!1,n,r)||this}return Pe(t,e),t.prototype.getPath=function(n){var r=this.getRx(n),i=this.getRy(n);if(!isFinite(r)||i<=0||!isFinite(i)||i<=0)return null;var s=parseFloat(Nt(this.element,n.styleSheets,"cx")||"0"),o=parseFloat(Nt(this.element,n.styleSheets,"cy")||"0"),a=4/3*(Math.SQRT2-1)*r,l=4/3*(Math.SQRT2-1)*i;return new Zs().moveTo(s+r,o).curveTo(s+r,o-l,s+a,o-i,s,o-i).curveTo(s-a,o-i,s-r,o-l,s-r,o).curveTo(s-r,o+l,s-a,o+i,s,o+i).curveTo(s+a,o+i,s+r,o+l,s+r,o)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t}(fa),u4=function(e){function t(n,r){return e.call(this,n,r)||this}return Pe(t,e),t.prototype.getRx=function(n){return parseFloat(Nt(this.element,n.styleSheets,"rx")||"0")},t.prototype.getRy=function(n){return parseFloat(Nt(this.element,n.styleSheets,"ry")||"0")},t}($p);function Xp(e){var t="invisible",n=e.stroke&&e.strokeWidth!==0,r=e.fill;return r&&n?t="fillThenStroke":r?t="fill":n&&(t="stroke"),t}function Jp(e){return e.replace(/[\n\r]/g,"")}function Kp(e){return e.replace(/[\t]/g," ")}function Zp(e){return e.replace(/ +/g," ")}function Qp(e,t,n){switch(Nt(e,n.styleSheets,"text-transform")){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();default:return t}}var ff=function(){function e(t,n,r,i){this.textNode=t,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=n,this.originX=r,this.originY=i,this.textMeasures=[]}return e.prototype.setX=function(t){this.originX=t},e.prototype.setY=function(t){this.originY=t},e.prototype.add=function(t,n,r){this.texts.push(n),this.textNodes.push(t),this.contexts.push(r)},e.prototype.rightTrimText=function(){for(var t=this.texts.length-1;t>=0;t--)if(this.contexts[t].attributeState.xmlSpace==="default"&&(this.texts[t]=this.texts[t].replace(/\s+$/,"")),this.texts[t].match(/[^\s]/))return!1;return!0},e.prototype.measureText=function(t){for(var n=0;n<this.texts.length;n++)this.textMeasures.push({width:t.textMeasure.measureTextWidth(this.texts[n],this.contexts[n].attributeState),length:this.texts[n].length})},e.prototype.put=function(t,n){var r,i,s,o,a=[],l=[],c=[],f=this.originX,p=this.originY,b=f,g=f;for(r=0;r<this.textNodes.length;r++){i=this.textNodes[r],s=this.contexts[r],o=this.textMeasures[r]||{width:t.textMeasure.measureTextWidth(this.texts[r],this.contexts[r].attributeState),length:this.texts[r].length};var x=f,w=p;if(i.nodeName!=="#text"&&!a.includes(i)){a.push(i);var A=e.resolveRelativePositionAttribute(i,"dx");A!==null&&(x+=ei(A,s.attributeState.fontSize));var y=e.resolveRelativePositionAttribute(i,"dy");y!==null&&(w+=ei(y,s.attributeState.fontSize))}l[r]=x,c[r]=w,f=x+o.width+o.length*n,p=w,b=Math.min(b,x),g=Math.max(g,f)}var k=0;switch(this.textAnchor){case"start":k=0;break;case"middle":k=(g-b)/2;break;case"end":k=g-b}for(r=0;r<this.textNodes.length;r++)if(i=this.textNodes[r],s=this.contexts[r],i.nodeName==="#text"||s.attributeState.visibility!=="hidden"){t.pdf.saveGraphicsState(),cf(s,t,i);var I=s.attributeState.alignmentBaseline,U=Xp(s.attributeState);t.pdf.text(this.texts[r],l[r]-k,c[r],{baseline:Dp(I),angle:t.transform,renderingMode:U==="fill"?void 0:U,charSpace:n===0?void 0:n}),t.pdf.restoreGraphicsState()}return[f,p]},e.resolveRelativePositionAttribute=function(t,n){for(var r,i=t;i&&Ci(i,"tspan");){if(i.hasAttribute(n))return i.getAttribute(n);if(((r=t.parentElement)===null||r===void 0?void 0:r.firstChild)!==t)break;i=i.parentElement}return null},e}(),c4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.processTSpans=function(n,r,i,s,o,a){for(var l=i.pdf.getFontSize(),c=i.attributeState.xmlSpace,f=!0,p=!1,b=0;b<r.childNodes.length;b++){var g=r.childNodes[b];if(g.textContent){var x=g.textContent;if(g.nodeName==="#text"){var w=Jp(x);w=Kp(w),c==="default"&&(w=Zp(w),f&&w.match(/^\s/)&&(p=!0),w.match(/[^\s]/)&&(f=!1),a.prevText.match(/\s$/)&&(w=w.replace(/^\s+/,"")));var A=Qp(r,w,i);o.add(r,A,i),a.prevText=x,a.prevContext=i}else if(!Ci(g,"title")){if(Ci(g,"tspan")){var y=g,k=y.getAttribute("x");if(k!==null){var I=ei(k,l);o=new ff(this,Nt(y,i.styleSheets,"text-anchor")||i.attributeState.textAnchor,I,0),s.push({type:"y",chunk:o})}var U=y.getAttribute("y");if(U!==null){var D=ei(U,l);o=new ff(this,Nt(y,i.styleSheets,"text-anchor")||i.attributeState.textAnchor,0,D),s.push({type:"x",chunk:o})}var Z=i.clone();uf(Z,n,y),this.processTSpans(n,y,Z,s,o,a)}}}}return p},t.prototype.renderCore=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a,l,c,f,p,b,g,x,w,A,y,k,I,U,D,Z,W,j,X;return Te(this,function(rt){if(n.pdf.saveGraphicsState(),r=0,i=0,s=1,o=n.pdf.getFontSize(),a=ei(this.element.getAttribute("x"),o),l=ei(this.element.getAttribute("y"),o),c=ei(this.element.getAttribute("dx"),o),f=ei(this.element.getAttribute("dy"),o),p=parseFloat(this.element.getAttribute("textLength")||"0"),b=n.attributeState.visibility,this.element.childElementCount===0)g=this.element.textContent||"",x=function(L,C){return L=Kp(L=Jp(L)),C.xmlSpace==="default"&&(L=Zp(L=L.trim())),L}(g,n.attributeState),w=Qp(this.element,x,n),r=n.textMeasure.getTextOffset(w,n.attributeState),p>0&&(A=n.textMeasure.measureTextWidth(w,n.attributeState),n.attributeState.xmlSpace==="default"&&g.match(/^\s/)&&(s=0),i=(p-A)/(w.length-s)||0),b==="visible"&&(y=n.attributeState.alignmentBaseline,k=Xp(n.attributeState),n.pdf.text(w,a+c-r,l+f,{baseline:Dp(y),angle:n.transform,renderingMode:k==="fill"?void 0:k,charSpace:i===0?void 0:i}));else{for(I=[],U=new ff(this,n.attributeState.textAnchor,a+c,l+f),I.push({type:"",chunk:U}),D=this.processTSpans(this,this.element,n,I,U,{prevText:" ",prevContext:n}),s=D?0:1,Z=!0,W=I.length-1;W>=0;W--)Z&&(Z=I[W].chunk.rightTrimText());p>0&&(j=0,X=0,I.forEach(function(L){var C=L.chunk;C.measureText(n),C.textMeasures.forEach(function(q){var B=q.width,at=q.length;j+=B,X+=at})}),i=(p-j)/(X-s)),I.reduce(function(L,C){var q=C.type,B=C.chunk;return q==="x"?B.setX(L[0]):q==="y"&&B.setY(L[1]),B.put(n,i)},[0,0])}return n.pdf.restoreGraphicsState(),[2]})})},t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t.prototype.getBoundingBoxCore=function(n){return ca(this.element,n)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t}(Yl),h4=function(e){function t(n,r){return e.call(this,!0,n,r)||this}return Pe(t,e),t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t.prototype.getPath=function(n){var r,i,s=new Kw(Nt(this.element,n.styleSheets,"d")||"").unshort().unarc().abs(),o=new Zs;return s.iterate(function(a){switch(a[0]){case"M":o.moveTo(a[1],a[2]);break;case"L":o.lineTo(a[1],a[2]);break;case"H":o.lineTo(a[1],i);break;case"V":o.lineTo(r,a[1]);break;case"C":o.curveTo(a[1],a[2],a[3],a[4],a[5],a[6]);break;case"Q":var l=Rp([r,i],[a[1],a[2]]),c=Rp([a[3],a[4]],[a[1],a[2]]);o.curveTo(l[0],l[1],c[0],c[1],a[3],a[4]);break;case"Z":o.close()}switch(a[0]){case"M":case"L":r=a[1],i=a[2];break;case"H":r=a[1];break;case"V":i=a[1];break;case"C":r=a[5],i=a[6];break;case"Q":r=a[3],i=a[4]}}),o},t}(fa),f4=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,((?:.|\s)*)$/i,d4=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.imageLoadingPromise=null,i.imageUrl=i.element.getAttribute("xlink:href")||i.element.getAttribute("href"),i.imageUrl&&(i.imageLoadingPromise=t.fetchImageData(i.imageUrl)),i}return Pe(t,e),t.prototype.renderCore=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a,l,c,f,p,b,g,x;return Te(this,function(w){switch(w.label){case 0:return this.imageLoadingPromise?(n.pdf.setCurrentTransformationMatrix(n.transform),r=parseFloat(Nt(this.element,n.styleSheets,"width")||"0"),i=parseFloat(Nt(this.element,n.styleSheets,"height")||"0"),s=parseFloat(Nt(this.element,n.styleSheets,"x")||"0"),o=parseFloat(Nt(this.element,n.styleSheets,"y")||"0"),!isFinite(r)||r<=0||!isFinite(i)||i<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return a=w.sent(),l=a.data,(c=a.format).indexOf("svg")!==0?[3,3]:(f=new DOMParser,p=f.parseFromString(l,"image/svg+xml").firstElementChild,(!(b=this.element.getAttribute("preserveAspectRatio"))||b.indexOf("defer")<0||!p.getAttribute("preserveAspectRatio"))&&p.setAttribute("preserveAspectRatio",b||""),p.setAttribute("x",String(s)),p.setAttribute("y",String(o)),p.setAttribute("width",String(r)),p.setAttribute("height",String(i)),[4,df(p,g={}).render(new Mi(n.pdf,{refsHandler:new jp(g),styleSheets:n.styleSheets,viewport:new $l(r,i),svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}))]);case 2:return w.sent(),[2];case 3:x="data:image/"+c+";base64,"+btoa(l);try{n.pdf.addImage(x,"",s,o,r,i)}catch(A){typeof console=="object"&&console.warn&&console.warn("Could not load image "+this.imageUrl+`. 
`+A)}w.label=4;case 4:return[2]}})})},t.prototype.getBoundingBoxCore=function(n){return ca(this.element,n)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t.fetchImageData=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a;return Te(this,function(l){switch(l.label){case 0:if(!(s=n.match(f4)))return[3,1];if(o=s[2],(a=o.split("/"))[0]!=="image")throw new Error("Unsupported image URL: "+n);return i=a[1],r=s[5],s[4]==="base64"?(r=r.replace(/\s/g,""),r=atob(r)):r=decodeURIComponent(r),[3,3];case 1:return[4,t.fetchImage(n)];case 2:r=l.sent(),i=n.substring(n.lastIndexOf(".")+1),l.label=3;case 3:return[2,{data:r,format:i}]}})})},t.fetchImage=function(n){return new Promise(function(r,i){var s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",s.onload=function(){if(s.status!==200)throw new Error("Error "+s.status+": Failed to load image '"+n+"'");for(var o=new Uint8Array(s.response),a="",l=0;l<o.length;l++)a+=String.fromCharCode(o[l]);r(a)},s.onerror=i,s.onabort=i,s.send(null)})},t.getMimeType=function(n){switch(n=n.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+n}},t}(Yl),t2=function(e){function t(n,r,i){var s=e.call(this,!0,r,i)||this;return s.closed=n,s}return Pe(t,e),t.prototype.getPath=function(n){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var r=t.parsePointsString(this.element.getAttribute("points")),i=new Zs;if(r.length<1)return i;i.moveTo(r[0][0],r[0][1]);for(var s=1;s<r.length;s++)i.lineTo(r[s][0],r[s][1]);return this.closed&&i.close(),i},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.parsePointsString=function(n){for(var r=er(n),i=[],s=0;s<r.length-1;s+=2){var o=r[s],a=r[s+1];i.push([o,a])}return i},t}(fa),p4=function(e){function t(n,r){return e.call(this,!0,n,r)||this}return Pe(t,e),t}(t2),g4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.render=function(n){return Promise.resolve()},t.prototype.getBoundingBoxCore=function(n){return[0,0,0,0]},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t.prototype.isVisible=function(n,r){return ti(this,n,r)},t}(lf),m4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.apply=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a;return Te(this,function(l){switch(l.label){case 0:r=this.computeNodeTransform(n),i=this.getBoundingBox(n),n.pdf.beginFormObject(i[0],i[1],i[2],i[3],r),function(c){var f=c.attributeState,p=c.pdf,b=1,g=1;b*=f.fillOpacity,b*=f.opacity,f.fill instanceof Fn&&f.fill.color.a!==void 0&&(b*=f.fill.color.a),g*=f.strokeOpacity,g*=f.opacity,f.stroke instanceof Fn&&f.stroke.color.a!==void 0&&(g*=f.stroke.color.a);var x,w={};if(w.opacity=b,w["stroke-opacity"]=g,p.setGState(new ss(w)),f.fill&&f.fill instanceof Fn&&f.fill.color.ok?p.setFillColor(f.fill.color.r,f.fill.color.g,f.fill.color.b):p.setFillColor(0,0,0),p.setLineWidth(f.strokeWidth),f.stroke instanceof Fn?p.setDrawColor(f.stroke.color.r,f.stroke.color.g,f.stroke.color.b):p.setDrawColor(0,0,0),p.setLineCap(f.strokeLinecap),p.setLineJoin(f.strokeLinejoin),f.strokeDasharray?p.setLineDashPattern(f.strokeDasharray,f.strokeDashoffset):p.setLineDashPattern([],0),p.setLineMiterLimit(f.strokeMiterlimit),x=ni.hasOwnProperty(f.fontFamily)?ni[f.fontFamily]:f.fontFamily,f.fill&&f.fill instanceof Fn&&f.fill.color.ok){var A=f.fill.color;p.setTextColor(A.r,A.g,A.b)}else p.setTextColor(0,0,0);var y="";f.fontWeight==="bold"&&(y="bold"),f.fontStyle==="italic"&&(y+="italic"),y===""&&(y="normal"),x!==void 0||y!==void 0?(x===void 0&&(x=ni.hasOwnProperty(f.fontFamily)?ni[f.fontFamily]:f.fontFamily),p.setFont(x,y)):p.setFont("helvetica",y),p.setFontSize(f.fontSize*p.internal.scaleFactor)}(s=new Mi(n.pdf,{refsHandler:n.refsHandler,styleSheets:n.styleSheets,viewport:n.viewport,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure})),o=0,a=this.children,l.label=1;case 1:return o<a.length?[4,a[o].render(s)]:[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return n.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},t.prototype.getBoundingBoxCore=function(n){var r,i=this.element.getAttribute("viewBox");return i&&(r=er(i)),[r&&r[0]||0,r&&r[1]||0,r&&r[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),r&&r[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},t.prototype.computeNodeTransformCore=function(n){var r,i=parseFloat(this.element.getAttribute("refX")||"0"),s=parseFloat(this.element.getAttribute("refY")||"0"),o=this.element.getAttribute("viewBox");if(o){var a=er(o);r=Gl(this.element,a,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),n,!0),r=n.pdf.matrixMult(n.pdf.Matrix(1,0,0,1,-i,-s),r)}else r=n.pdf.Matrix(1,0,0,1,-i,-s);return r},t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t}(ha),b4=function(e){function t(n,r){return e.call(this,n,r)||this}return Pe(t,e),t.prototype.getR=function(n){var r;return(r=this.r)!==null&&r!==void 0?r:this.r=parseFloat(Nt(this.element,n.styleSheets,"r")||"0")},t.prototype.getRx=function(n){return this.getR(n)},t.prototype.getRy=function(n){return this.getR(n)},t}($p),v4=function(e){function t(n,r){return e.call(this,!1,n,r)||this}return Pe(t,e),t}(t2),e2=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.renderCore=function(n){return Ie(this,void 0,void 0,function(){var r,i;return Te(this,function(s){switch(s.label){case 0:r=0,i=this.children,s.label=1;case 1:return r<i.length?[4,i[r].render(n)]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.getBoundingBoxCore=function(n){return af(n,this)},t}(Vp),y4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t.prototype.render=function(n){return Ie(this,void 0,void 0,function(){var r,i,s,o,a;return Te(this,function(l){switch(l.label){case 0:return this.isVisible(n.attributeState.visibility!=="hidden",n)?(r=this.getX(n),i=this.getY(n),s=this.getWidth(n),o=this.getHeight(n),n.pdf.saveGraphicsState(),a=n.transform,this.element.hasAttribute("transform")&&(a=n.pdf.matrixMult(Vl(this.element.getAttribute("transform"),n),a)),n.pdf.setCurrentTransformationMatrix(a),n.withinUse||Nt(this.element,n.styleSheets,"overflow")==="visible"||n.pdf.rect(r,i,s,o).clip().discardPath(),[4,e.prototype.render.call(this,n.clone({transform:n.pdf.unitMatrix,viewport:n.withinUse?n.viewport:new $l(s,o)}))]):[2];case 1:return l.sent(),n.pdf.restoreGraphicsState(),[2]}})})},t.prototype.computeNodeTransform=function(n){return this.computeNodeTransformCore(n)},t.prototype.computeNodeTransformCore=function(n){if(n.withinUse)return n.pdf.unitMatrix;var r,i=this.getX(n),s=this.getY(n),o=this.getViewBox();if(o){var a=this.getWidth(n),l=this.getHeight(n);r=Gl(this.element,o,i,s,a,l,n)}else r=n.pdf.Matrix(1,0,0,1,i,s);return r},t.prototype.getWidth=function(n){if(this.width!==void 0)return this.width;var r,i,s=n.svg2pdfParameters;if(this.isOutermostSvg(n))if(s.width!=null)r=s.width;else if(i=Nt(this.element,n.styleSheets,"width"))r=parseFloat(i);else{var o=this.getViewBox();if(o&&(s.height!=null||Nt(this.element,n.styleSheets,"height"))){var a=o[2]/o[3];r=this.getHeight(n)*a}else r=Math.min(300,n.viewport.width,2*n.viewport.height)}else r=(i=Nt(this.element,n.styleSheets,"width"))?parseFloat(i):n.viewport.width;return this.width=r},t.prototype.getHeight=function(n){if(this.height!==void 0)return this.height;var r,i,s=n.svg2pdfParameters;if(this.isOutermostSvg(n))if(s.height!=null)r=s.height;else if(i=Nt(this.element,n.styleSheets,"height"))r=parseFloat(i);else{var o=this.getViewBox();if(o){var a=o[2]/o[3];r=this.getWidth(n)/a}else r=Math.min(150,n.viewport.width/2,n.viewport.height)}else r=(i=Nt(this.element,n.styleSheets,"height"))?parseFloat(i):n.viewport.height;return this.height=r},t.prototype.getX=function(n){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(n))return this.x=0;var r=Nt(this.element,n.styleSheets,"x");return this.x=r?parseFloat(r):0},t.prototype.getY=function(n){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(n))return this.y=0;var r=Nt(this.element,n.styleSheets,"y");return this.y=r?parseFloat(r):0},t.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var n=this.element.getAttribute("viewBox");return this.viewBox=n?er(n):void 0},t.prototype.isOutermostSvg=function(n){return n.svg2pdfParameters.element===this.element},t}(e2),w4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t.prototype.computeNodeTransformCore=function(n){return n.pdf.unitMatrix},t}(e2),x4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.apply=function(n){return Ie(this,void 0,void 0,function(){var r,i,s;return Te(this,function(o){switch(o.label){case 0:if(!this.isVisible(!0,n))return[2];r=n.pdf.matrixMult(this.computeNodeTransform(n),n.transform),n.pdf.setCurrentTransformationMatrix(r),i=0,s=this.children,o.label=1;case 1:return i<s.length?[4,s[i].render(new Mi(n.pdf,{refsHandler:n.refsHandler,styleSheets:n.styleSheets,viewport:n.viewport,withinClipPath:!0,svg2pdfParameters:n.svg2pdfParameters,textMeasure:n.textMeasure}))]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return n.pdf.clip().discardPath(),n.pdf.setCurrentTransformationMatrix(r.inversed()),[2]}})})},t.prototype.getBoundingBoxCore=function(n){return af(n,this)},t.prototype.isVisible=function(n,r){return Fi(this,n,r)},t}(ha);function df(e,t){var n,r=[];switch(function(s,o){for(var a=[],l=0;l<s.childNodes.length;l++){var c=s.childNodes[l];c.nodeName.charAt(0)!=="#"&&a.push(c)}for(l=0;l<a.length;l++)o(l,a[l])}(e,function(s,o){return r.push(df(o,t))}),e.tagName.toLowerCase()){case"a":case"g":n=new w4(e,r);break;case"circle":n=new b4(e,r);break;case"clippath":n=new x4(e,r);break;case"ellipse":n=new u4(e,r);break;case"lineargradient":n=new zp(e,r);break;case"image":n=new d4(e,r);break;case"line":n=new o4(e,r);break;case"marker":n=new m4(e,r);break;case"path":n=new h4(e,r);break;case"pattern":n=new Hp(e,r);break;case"polygon":n=new p4(e,r);break;case"polyline":n=new v4(e,r);break;case"radialgradient":n=new Up(e,r);break;case"rect":n=new l4(e,r);break;case"svg":n=new y4(e,r);break;case"symbol":n=new Yp(e,r);break;case"text":n=new c4(e,r);break;case"use":n=new a4(e,r);break;default:n=new g4(e,r)}if(t!=null&&n.element.hasAttribute("id")){var i=kp(n.element.id,{isIdentifier:!0});t[i]=t[i]||n}return n.children.forEach(function(s){return s.setParent(n)}),n}var A4=function(){function e(t,n){this.rootSvg=t,this.loadExternalSheets=n,this.styleSheets=[]}return e.prototype.load=function(){return Ie(this,void 0,void 0,function(){var t;return Te(this,function(n){switch(n.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return t=n.sent(),this.parseCssSheets(t),[2]}})})},e.prototype.collectStyleSheetTexts=function(){return Ie(this,void 0,void 0,function(){var t,n,r,i,s;return Te(this,function(o){switch(o.label){case 0:if(t=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(i=0;i<this.rootSvg.ownerDocument.childNodes.length;i++)(n=this.rootSvg.ownerDocument.childNodes[i]).nodeName==="xml-stylesheet"&&typeof n.data=="string"&&t.push(e.loadSheet(n.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(r=this.rootSvg.querySelectorAll("style,link"),i=0;i<r.length;i++)Ci(s=r[i],"style")?t.push(s.textContent):this.loadExternalSheets&&Ci(s,"link")&&s.getAttribute("rel")==="stylesheet"&&s.hasAttribute("href")&&t.push(e.loadSheet(s.getAttribute("href")));return[4,Promise.all(t)];case 1:return[2,o.sent().filter(function(a){return a!==null})]}})})},e.prototype.parseCssSheets=function(t){for(var n=document.implementation.createHTMLDocument(""),r=0,i=t;r<i.length;r++){var s=i[r],o=n.createElement("style");o.textContent=s,n.body.appendChild(o);var a=o.sheet;if(a instanceof CSSStyleSheet){for(var l=a.cssRules.length-1;l>=0;l--){var c=a.cssRules[l];if(c instanceof CSSStyleRule){var f=c;if(f.selectorText.indexOf(",")>=0){a.deleteRule(l);for(var p=f.cssText.substring(f.selectorText.length),b=e.splitSelectorAtCommas(f.selectorText),g=0;g<b.length;g++)a.insertRule(b[g]+p,l+g)}}else a.deleteRule(l)}this.styleSheets.push(a)}}},e.splitSelectorAtCommas=function(t){for(var n,r=/,|["']/g,i=/[^\\]["]/g,s=/[^\\][']/g,o=[],a="initial",l=-1,c=i,f=0;f<t.length;)switch(a){case"initial":r.lastIndex=f,(n=r.exec(t))?(n[0]===","?(o.push(t.substring(l+1,r.lastIndex-1).trim()),l=r.lastIndex-1):(a="withinQuotes",c=n[0]==='"'?i:s),f=r.lastIndex):(o.push(t.substring(l+1).trim()),f=t.length);break;case"withinQuotes":c.lastIndex=f,(n=c.exec(t))&&(f=c.lastIndex,a="initial")}return o},e.loadSheet=function(t){return new Promise(function(n,r){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="text",i.onload=function(){i.status!==200&&r(new Error("Error "+i.status+": Failed to load '"+t+"'")),n(i.responseText)},i.onerror=r,i.onabort=r,i.send(null)}).catch(function(){return null})},e.prototype.getPropertyValue=function(t,n){for(var r=[],i=0,s=this.styleSheets;i<s.length;i++)for(var o=s[i],a=0;a<o.cssRules.length;a++){var l=o.cssRules[a];l.style.getPropertyValue(n)&&t.matches(l.selectorText)&&r.push(l)}if(r.length!==0)return r.reduce(function(c,f){return b=f,((g=(p=c).style.getPropertyPriority(n))!==b.style.getPropertyPriority(n)?g==="important"?1:-1:Zw(p.selectorText,b.selectorText))===1?c:f;var p,b,g}).style.getPropertyValue(n)||void 0},e}(),S4=function(){function e(){this.measureMethods={}}return e.prototype.getTextOffset=function(t,n){var r=n.textAnchor;if(r==="start")return 0;var i=this.measureTextWidth(t,n),s=0;switch(r){case"end":s=i;break;case"middle":s=i/2}return s},e.prototype.measureTextWidth=function(t,n){if(t.length===0)return 0;var r=n.fontFamily;return this.getMeasureFunction(r).call(this,t,n.fontFamily,n.fontSize+"px",n.fontStyle,n.fontWeight)},e.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.appendChild(this.textMeasuringTextElement),t.style.setProperty("position","absolute"),t.style.setProperty("visibility","hidden"),document.body.appendChild(t)}return this.textMeasuringTextElement},e.prototype.canvasTextMeasure=function(t,n,r,i,s){var o=document.createElement("canvas").getContext("2d");return o!=null?(o.font=[i,s,r,n].join(" "),o.measureText(t).width):0},e.prototype.svgTextMeasure=function(t,n,r,i,s,o){o===void 0&&(o=this.getMeasurementTextNode());var a=o;return a.setAttribute("font-family",n),a.setAttribute("font-size",r),a.setAttribute("font-style",i),a.setAttribute("font-weight",s),a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),a.textContent=t,a.getBBox().width},e.prototype.getMeasureFunction=function(t){var n=this.measureMethods[t];if(!n){var r=this.canvasTextMeasure(e.testString,t,"16px","normal","normal"),i=this.svgTextMeasure(e.testString,t,"16px","normal","normal");n=Math.abs(r-i)<e.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[t]=n}return n},e.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var t=this.textMeasuringTextElement.parentNode;t&&document.body.removeChild(t),this.textMeasuringTextElement=void 0}},e.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,e.epsilon=.1,e}();function N4(e,t,n){var r,i,s;return n===void 0&&(n={}),Ie(this,void 0,void 0,function(){var o,a,l,c,f,p,b,g,x,w,A;return Te(this,function(y){switch(y.label){case 0:return o=(r=n.x)!==null&&r!==void 0?r:0,a=(i=n.y)!==null&&i!==void 0?i:0,l=(s=n.loadExternalStyleSheets)!==null&&s!==void 0&&s,f=new jp(c={}),[4,(p=new A4(e,l)).load()];case 1:return y.sent(),b=new $l(t.internal.pageSize.getWidth(),t.internal.pageSize.getHeight()),g=ef(ef({},n),{element:e}),x=new S4,w=new Mi(t,{refsHandler:f,styleSheets:p,viewport:b,svg2pdfParameters:g,textMeasure:x}),t.advancedAPI(),t.saveGraphicsState(),t.setCurrentTransformationMatrix(t.Matrix(1,0,0,1,o,a)),t.setLineWidth(w.attributeState.strokeWidth),A=w.attributeState.fill.color,t.setFillColor(A.r,A.g,A.b),t.setFont(w.attributeState.fontFamily),t.setFontSize(w.attributeState.fontSize*t.internal.scaleFactor),[4,df(e,c).render(w)];case 2:return y.sent(),t.restoreGraphicsState(),t.compatAPI(),w.textMeasure.cleanupTextMeasuring(),[2,t]}})})}Ht.API.svg=function(e,t){return t===void 0&&(t={}),N4(e,this,t)};function k4(e,t="plot.pdf"){const n=+e.getAttribute("width"),r=+e.getAttribute("height"),i=new Ht({unit:"px",orientation:n>r?"l":"p",format:[Math.min(n,r),Math.max(n,r)],compress:!0});i.svg(e,{x:0,y:0,width:e.clientWidth,height:e.clientHeight}).then(()=>{i.save(t)})}const L4=Object.freeze(Object.defineProperty({__proto__:null,downloadPdf:k4},Symbol.toStringTag,{value:"Module"}));As.setupGui=l3,Object.defineProperty(As,Symbol.toStringTag,{value:"Module"})});
